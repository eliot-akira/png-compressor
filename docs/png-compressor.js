"use strict";(()=>{var Bn=Object.create;var le=Object.defineProperty;var On=Object.getOwnPropertyDescriptor;var Cn=Object.getOwnPropertyNames;var Ln=Object.getPrototypeOf,Zn=Object.prototype.hasOwnProperty;var Fn=(t,i)=>()=>(i||t((i={exports:{}}).exports,i),i.exports),$n=(t,i)=>{for(var e in i)le(t,e,{get:i[e],enumerable:!0})},Mn=(t,i,e,n)=>{if(i&&typeof i=="object"||typeof i=="function")for(let a of Cn(i))!Zn.call(t,a)&&a!==e&&le(t,a,{get:()=>i[a],enumerable:!(n=On(i,a))||n.enumerable});return t};var Hn=(t,i,e)=>(e=t!=null?Bn(Ln(t)):{},Mn(i||!t||!t.__esModule?le(e,"default",{value:t,enumerable:!0}):e,t));var Je=Fn(Ve=>{"use strict";(function(t){"use strict";if(t.TextEncoder&&t.TextDecoder)return!1;function i(n="utf-8"){if(n!=="utf-8")throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${n}') is invalid.`)}Object.defineProperty(i.prototype,"encoding",{value:"utf-8"}),i.prototype.encode=function(n,a={stream:!1}){if(a.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let r=0,f=n.length,s=[],d=0,o=Math.max(32,f+(f>>1)+7),l=new Uint8Array(o>>3<<3);for(;r<f;){let u=n.charCodeAt(r++);if(u>=55296&&u<=56319){if(r<f){let c=n.charCodeAt(r);(c&64512)===56320&&(++r,u=((u&1023)<<10)+(c&1023)+65536)}if(u>=55296&&u<=56319)continue}if(d+4>l.length){o+=8,o*=1+r/n.length*2,o=o>>3<<3;let c=new Uint8Array(o);c.set(l),l=c}if(u&4294967168)if(!(u&4294965248))l[d++]=u>>6&31|192;else if(!(u&4294901760))l[d++]=u>>12&15|224,l[d++]=u>>6&63|128;else if(!(u&4292870144))l[d++]=u>>18&7|240,l[d++]=u>>12&63|128,l[d++]=u>>6&63|128;else continue;else{l[d++]=u;continue}l[d++]=u&63|128}return l.slice(0,d)};function e(n="utf-8",a={fatal:!1}){if(n!=="utf-8")throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${n}') is invalid.`);if(a.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(e.prototype,"fatal",{value:!1}),Object.defineProperty(e.prototype,"ignoreBOM",{value:!1}),e.prototype.decode=function(n,a={stream:!1}){if(a.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");let r=new Uint8Array(n),f=0,s=r.length,d=[];for(;f<s;){let o=r[f++];if(o===0)break;if(!(o&128))d.push(o);else if((o&224)===192){let l=r[f++]&63;d.push((o&31)<<6|l)}else if((o&240)===224){let l=r[f++]&63,u=r[f++]&63;d.push((o&31)<<12|l<<6|u)}else if((o&248)===240){let l=r[f++]&63,u=r[f++]&63,c=r[f++]&63,h=(o&7)<<18|l<<12|u<<6|c;h>65535&&(h-=65536,d.push(h>>>10&1023|55296),h=56320|h&1023),d.push(h)}}return String.fromCharCode.apply(null,d)},t.TextEncoder=i,t.TextDecoder=e})(typeof window<"u"?window:typeof self<"u"?self:Ve)});var Xe={};$n(Xe,{arrayBufferToValue:()=>Mt,blobToImageElement:()=>He,compress:()=>re,decode:()=>Qo,decodeBinary:()=>fe,decodeBinaryFromFile:()=>Nn,decodeBinaryFromPng:()=>Ge,decodeDataFromImage:()=>We,decodeFromFile:()=>es,decompress:()=>Vo,decompressAsArrayBuffer:()=>oe,decompressAsString:()=>jo,defaultCompressionFormat:()=>$t,downloadImage:()=>ts,encode:()=>Jo,encodeBinary:()=>In,encodeBinaryToBlob:()=>Ye,encodeBinaryToPng:()=>ne,encodeDataIntoImage:()=>Ke,encodeToBlob:()=>Dn,encodeToImage:()=>qo,getBufferfromFile:()=>zn,getImageData:()=>Yo,imageElementToBlob:()=>Wo,imageElementToCanvas:()=>Pe,valueToArrayBuffer:()=>se});var as=Hn(Je());function he(t,i="utf8"){return new TextDecoder(i).decode(t)}var Pn=new TextEncoder;function qe(t){return Pn.encode(t)}var Kn=1024*8,Wn=(()=>{let t=new Uint8Array(4),i=new Uint32Array(t.buffer);return!((i[0]=1)&t[0])})(),de={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},tt=class t{constructor(i=Kn,e={}){let n=!1;typeof i=="number"?i=new ArrayBuffer(i):(n=!0,this.lastWrittenByte=i.byteLength);let a=e.offset?e.offset>>>0:0,r=i.byteLength-a,f=a;(ArrayBuffer.isView(i)||i instanceof t)&&(i.byteLength!==i.buffer.byteLength&&(f=i.byteOffset+a),i=i.buffer),n?this.lastWrittenByte=r:this.lastWrittenByte=0,this.buffer=i,this.length=r,this.byteLength=r,this.byteOffset=f,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,f,r),this._mark=0,this._marks=[]}available(i=1){return this.offset+i<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(i=1){return this.offset+=i,this}back(i=1){return this.offset-=i,this}seek(i){return this.offset=i,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let i=this._marks.pop();if(i===void 0)throw new Error("Mark stack empty");return this.seek(i),this}rewind(){return this.offset=0,this}ensureAvailable(i=1){if(!this.available(i)){let n=(this.offset+i)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(i=1){return this.readArray(i,"uint8")}readArray(i,e){let n=de[e].BYTES_PER_ELEMENT*i,a=this.byteOffset+this.offset,r=this.buffer.slice(a,a+n);if(this.littleEndian===Wn&&e!=="uint8"&&e!=="int8"){let s=new Uint8Array(this.buffer.slice(a,a+n));s.reverse();let d=new de[e](s.buffer);return this.offset+=n,d.reverse(),d}let f=new de[e](r);return this.offset+=n,f}readInt16(){let i=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,i}readUint16(){let i=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,i}readInt32(){let i=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,i}readUint32(){let i=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,i}readFloat32(){let i=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,i}readFloat64(){let i=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,i}readBigInt64(){let i=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,i}readBigUint64(){let i=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,i}readChar(){return String.fromCharCode(this.readInt8())}readChars(i=1){let e="";for(let n=0;n<i;n++)e+=this.readChar();return e}readUtf8(i=1){return he(this.readBytes(i))}decodeText(i=1,e="utf-8"){return he(this.readBytes(i),e)}writeBoolean(i){return this.writeUint8(i?255:0),this}writeInt8(i){return this.ensureAvailable(1),this._data.setInt8(this.offset++,i),this._updateLastWrittenByte(),this}writeUint8(i){return this.ensureAvailable(1),this._data.setUint8(this.offset++,i),this._updateLastWrittenByte(),this}writeByte(i){return this.writeUint8(i)}writeBytes(i){this.ensureAvailable(i.length);for(let e=0;e<i.length;e++)this._data.setUint8(this.offset++,i[e]);return this._updateLastWrittenByte(),this}writeInt16(i){return this.ensureAvailable(2),this._data.setInt16(this.offset,i,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(i){return this.ensureAvailable(2),this._data.setUint16(this.offset,i,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(i){return this.ensureAvailable(4),this._data.setInt32(this.offset,i,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(i){return this.ensureAvailable(4),this._data.setUint32(this.offset,i,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(i){return this.ensureAvailable(4),this._data.setFloat32(this.offset,i,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(i){return this.ensureAvailable(8),this._data.setFloat64(this.offset,i,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(i){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,i,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(i){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,i,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(i){return this.writeUint8(i.charCodeAt(0))}writeChars(i){for(let e=0;e<i.length;e++)this.writeUint8(i.charCodeAt(e));return this}writeUtf8(i){return this.writeBytes(qe(i))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};function wt(t){let i=t.length;for(;--i>=0;)t[i]=0}var Yn=0,Li=1,Gn=2,Xn=3,jn=258,Oe=29,Bt=256,Tt=Bt+1+Oe,ct=30,Ce=19,Zi=2*Tt+1,et=15,ce=16,Vn=7,Le=256,Fi=16,$i=17,Mi=18,Te=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),jt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Jn=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Hi=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qn=512,W=new Array((Tt+2)*2);wt(W);var kt=new Array(ct*2);wt(kt);var Rt=new Array(qn);wt(Rt);var Ut=new Array(jn-Xn+1);wt(Ut);var Ze=new Array(Oe);wt(Ze);var Vt=new Array(ct);wt(Vt);function _e(t,i,e,n,a){this.static_tree=t,this.extra_bits=i,this.extra_base=e,this.elems=n,this.max_length=a,this.has_stree=t&&t.length}var Pi,Ki,Wi;function ue(t,i){this.dyn_tree=t,this.max_code=0,this.stat_desc=i}var Yi=t=>t<256?Rt[t]:Rt[256+(t>>>7)],St=(t,i)=>{t.pending_buf[t.pending++]=i&255,t.pending_buf[t.pending++]=i>>>8&255},O=(t,i,e)=>{t.bi_valid>ce-e?(t.bi_buf|=i<<t.bi_valid&65535,St(t,t.bi_buf),t.bi_buf=i>>ce-t.bi_valid,t.bi_valid+=e-ce):(t.bi_buf|=i<<t.bi_valid&65535,t.bi_valid+=e)},M=(t,i,e)=>{O(t,e[i*2],e[i*2+1])},Gi=(t,i)=>{let e=0;do e|=t&1,t>>>=1,e<<=1;while(--i>0);return e>>>1},Qn=t=>{t.bi_valid===16?(St(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},ta=(t,i)=>{let e=i.dyn_tree,n=i.max_code,a=i.stat_desc.static_tree,r=i.stat_desc.has_stree,f=i.stat_desc.extra_bits,s=i.stat_desc.extra_base,d=i.stat_desc.max_length,o,l,u,c,h,w,S=0;for(c=0;c<=et;c++)t.bl_count[c]=0;for(e[t.heap[t.heap_max]*2+1]=0,o=t.heap_max+1;o<Zi;o++)l=t.heap[o],c=e[e[l*2+1]*2+1]+1,c>d&&(c=d,S++),e[l*2+1]=c,!(l>n)&&(t.bl_count[c]++,h=0,l>=s&&(h=f[l-s]),w=e[l*2],t.opt_len+=w*(c+h),r&&(t.static_len+=w*(a[l*2+1]+h)));if(S!==0){do{for(c=d-1;t.bl_count[c]===0;)c--;t.bl_count[c]--,t.bl_count[c+1]+=2,t.bl_count[d]--,S-=2}while(S>0);for(c=d;c!==0;c--)for(l=t.bl_count[c];l!==0;)u=t.heap[--o],!(u>n)&&(e[u*2+1]!==c&&(t.opt_len+=(c-e[u*2+1])*e[u*2],e[u*2+1]=c),l--)}},Xi=(t,i,e)=>{let n=new Array(et+1),a=0,r,f;for(r=1;r<=et;r++)a=a+e[r-1]<<1,n[r]=a;for(f=0;f<=i;f++){let s=t[f*2+1];s!==0&&(t[f*2]=Gi(n[s]++,s))}},ea=()=>{let t,i,e,n,a,r=new Array(et+1);for(e=0,n=0;n<Oe-1;n++)for(Ze[n]=e,t=0;t<1<<Te[n];t++)Ut[e++]=n;for(Ut[e-1]=n,a=0,n=0;n<16;n++)for(Vt[n]=a,t=0;t<1<<jt[n];t++)Rt[a++]=n;for(a>>=7;n<ct;n++)for(Vt[n]=a<<7,t=0;t<1<<jt[n]-7;t++)Rt[256+a++]=n;for(i=0;i<=et;i++)r[i]=0;for(t=0;t<=143;)W[t*2+1]=8,t++,r[8]++;for(;t<=255;)W[t*2+1]=9,t++,r[9]++;for(;t<=279;)W[t*2+1]=7,t++,r[7]++;for(;t<=287;)W[t*2+1]=8,t++,r[8]++;for(Xi(W,Tt+1,r),t=0;t<ct;t++)kt[t*2+1]=5,kt[t*2]=Gi(t,5);Pi=new _e(W,Te,Bt+1,Tt,et),Ki=new _e(kt,jt,0,ct,et),Wi=new _e(new Array(0),Jn,0,Ce,Vn)},ji=t=>{let i;for(i=0;i<Tt;i++)t.dyn_ltree[i*2]=0;for(i=0;i<ct;i++)t.dyn_dtree[i*2]=0;for(i=0;i<Ce;i++)t.bl_tree[i*2]=0;t.dyn_ltree[Le*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},Vi=t=>{t.bi_valid>8?St(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},Qe=(t,i,e,n)=>{let a=i*2,r=e*2;return t[a]<t[r]||t[a]===t[r]&&n[i]<=n[e]},we=(t,i,e)=>{let n=t.heap[e],a=e<<1;for(;a<=t.heap_len&&(a<t.heap_len&&Qe(i,t.heap[a+1],t.heap[a],t.depth)&&a++,!Qe(i,n,t.heap[a],t.depth));)t.heap[e]=t.heap[a],e=a,a<<=1;t.heap[e]=n},ti=(t,i,e)=>{let n,a,r=0,f,s;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+r++]&255,n+=(t.pending_buf[t.sym_buf+r++]&255)<<8,a=t.pending_buf[t.sym_buf+r++],n===0?M(t,a,i):(f=Ut[a],M(t,f+Bt+1,i),s=Te[f],s!==0&&(a-=Ze[f],O(t,a,s)),n--,f=Yi(n),M(t,f,e),s=jt[f],s!==0&&(n-=Vt[f],O(t,n,s)));while(r<t.sym_next);M(t,Le,i)},Re=(t,i)=>{let e=i.dyn_tree,n=i.stat_desc.static_tree,a=i.stat_desc.has_stree,r=i.stat_desc.elems,f,s,d=-1,o;for(t.heap_len=0,t.heap_max=Zi,f=0;f<r;f++)e[f*2]!==0?(t.heap[++t.heap_len]=d=f,t.depth[f]=0):e[f*2+1]=0;for(;t.heap_len<2;)o=t.heap[++t.heap_len]=d<2?++d:0,e[o*2]=1,t.depth[o]=0,t.opt_len--,a&&(t.static_len-=n[o*2+1]);for(i.max_code=d,f=t.heap_len>>1;f>=1;f--)we(t,e,f);o=r;do f=t.heap[1],t.heap[1]=t.heap[t.heap_len--],we(t,e,1),s=t.heap[1],t.heap[--t.heap_max]=f,t.heap[--t.heap_max]=s,e[o*2]=e[f*2]+e[s*2],t.depth[o]=(t.depth[f]>=t.depth[s]?t.depth[f]:t.depth[s])+1,e[f*2+1]=e[s*2+1]=o,t.heap[1]=o++,we(t,e,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],ta(t,i),Xi(e,d,t.bl_count)},ei=(t,i,e)=>{let n,a=-1,r,f=i[0*2+1],s=0,d=7,o=4;for(f===0&&(d=138,o=3),i[(e+1)*2+1]=65535,n=0;n<=e;n++)r=f,f=i[(n+1)*2+1],!(++s<d&&r===f)&&(s<o?t.bl_tree[r*2]+=s:r!==0?(r!==a&&t.bl_tree[r*2]++,t.bl_tree[Fi*2]++):s<=10?t.bl_tree[$i*2]++:t.bl_tree[Mi*2]++,s=0,a=r,f===0?(d=138,o=3):r===f?(d=6,o=3):(d=7,o=4))},ii=(t,i,e)=>{let n,a=-1,r,f=i[0*2+1],s=0,d=7,o=4;for(f===0&&(d=138,o=3),n=0;n<=e;n++)if(r=f,f=i[(n+1)*2+1],!(++s<d&&r===f)){if(s<o)do M(t,r,t.bl_tree);while(--s!==0);else r!==0?(r!==a&&(M(t,r,t.bl_tree),s--),M(t,Fi,t.bl_tree),O(t,s-3,2)):s<=10?(M(t,$i,t.bl_tree),O(t,s-3,3)):(M(t,Mi,t.bl_tree),O(t,s-11,7));s=0,a=r,f===0?(d=138,o=3):r===f?(d=6,o=3):(d=7,o=4)}},ia=t=>{let i;for(ei(t,t.dyn_ltree,t.l_desc.max_code),ei(t,t.dyn_dtree,t.d_desc.max_code),Re(t,t.bl_desc),i=Ce-1;i>=3&&t.bl_tree[Hi[i]*2+1]===0;i--);return t.opt_len+=3*(i+1)+5+5+4,i},na=(t,i,e,n)=>{let a;for(O(t,i-257,5),O(t,e-1,5),O(t,n-4,4),a=0;a<n;a++)O(t,t.bl_tree[Hi[a]*2+1],3);ii(t,t.dyn_ltree,i-1),ii(t,t.dyn_dtree,e-1)},aa=t=>{let i=4093624447,e;for(e=0;e<=31;e++,i>>>=1)if(i&1&&t.dyn_ltree[e*2]!==0)return 0;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return 1;for(e=32;e<Bt;e++)if(t.dyn_ltree[e*2]!==0)return 1;return 0},ni=!1,ra=t=>{ni||(ea(),ni=!0),t.l_desc=new ue(t.dyn_ltree,Pi),t.d_desc=new ue(t.dyn_dtree,Ki),t.bl_desc=new ue(t.bl_tree,Wi),t.bi_buf=0,t.bi_valid=0,ji(t)},Ji=(t,i,e,n)=>{O(t,(Yn<<1)+(n?1:0),3),Vi(t),St(t,e),St(t,~e),e&&t.pending_buf.set(t.window.subarray(i,i+e),t.pending),t.pending+=e},oa=t=>{O(t,Li<<1,3),M(t,Le,W),Qn(t)},sa=(t,i,e,n)=>{let a,r,f=0;t.level>0?(t.strm.data_type===2&&(t.strm.data_type=aa(t)),Re(t,t.l_desc),Re(t,t.d_desc),f=ia(t),a=t.opt_len+3+7>>>3,r=t.static_len+3+7>>>3,r<=a&&(a=r)):a=r=e+5,e+4<=a&&i!==-1?Ji(t,i,e,n):t.strategy===4||r===a?(O(t,(Li<<1)+(n?1:0),3),ti(t,W,kt)):(O(t,(Gn<<1)+(n?1:0),3),na(t,t.l_desc.max_code+1,t.d_desc.max_code+1,f+1),ti(t,t.dyn_ltree,t.dyn_dtree)),ji(t),n&&Vi(t)},fa=(t,i,e)=>(t.pending_buf[t.sym_buf+t.sym_next++]=i,t.pending_buf[t.sym_buf+t.sym_next++]=i>>8,t.pending_buf[t.sym_buf+t.sym_next++]=e,i===0?t.dyn_ltree[e*2]++:(t.matches++,i--,t.dyn_ltree[(Ut[e]+Bt+1)*2]++,t.dyn_dtree[Yi(i)*2]++),t.sym_next===t.sym_end),la=ra,ha=Ji,da=sa,ca=fa,_a=oa,ua={_tr_init:la,_tr_stored_block:ha,_tr_flush_block:da,_tr_tally:ca,_tr_align:_a},wa=(t,i,e,n)=>{let a=t&65535|0,r=t>>>16&65535|0,f=0;for(;e!==0;){f=e>2e3?2e3:e,e-=f;do a=a+i[n++]|0,r=r+a|0;while(--f);a%=65521,r%=65521}return a|r<<16|0},Dt=wa,pa=()=>{let t,i=[];for(var e=0;e<256;e++){t=e;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;i[e]=t}return i},ga=new Uint32Array(pa()),ba=(t,i,e,n)=>{let a=ga,r=n+e;t^=-1;for(let f=n;f<r;f++)t=t>>>8^a[(t^i[f])&255];return t^-1},N=ba,at={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},pt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:xa,_tr_stored_block:Ue,_tr_flush_block:ya,_tr_tally:j,_tr_align:ma}=ua,{Z_NO_FLUSH:V,Z_PARTIAL_FLUSH:Ea,Z_FULL_FLUSH:ka,Z_FINISH:Z,Z_BLOCK:ai,Z_OK:z,Z_STREAM_END:ri,Z_STREAM_ERROR:H,Z_DATA_ERROR:va,Z_BUF_ERROR:pe,Z_DEFAULT_COMPRESSION:Aa,Z_FILTERED:Ta,Z_HUFFMAN_ONLY:Kt,Z_RLE:Ra,Z_FIXED:Ua,Z_DEFAULT_STRATEGY:Sa,Z_UNKNOWN:Da,Z_DEFLATED:Qt}=pt,Ia=9,Na=15,za=8,Ba=29,Oa=256,Se=Oa+1+Ba,Ca=30,La=19,Za=2*Se+1,Fa=15,m=3,X=258,P=X+m+1,$a=32,_t=42,Fe=57,De=69,Ie=73,Ne=91,ze=103,it=113,mt=666,B=1,gt=2,rt=3,bt=4,Ma=3,nt=(t,i)=>(t.msg=at[i],i),oi=t=>t*2-(t>4?9:0),G=t=>{let i=t.length;for(;--i>=0;)t[i]=0},Ha=t=>{let i,e,n,a=t.w_size;i=t.hash_size,n=i;do e=t.head[--n],t.head[n]=e>=a?e-a:0;while(--i);i=a,n=i;do e=t.prev[--n],t.prev[n]=e>=a?e-a:0;while(--i)},Pa=(t,i,e)=>(i<<t.hash_shift^e)&t.hash_mask,J=Pa,C=t=>{let i=t.state,e=i.pending;e>t.avail_out&&(e=t.avail_out),e!==0&&(t.output.set(i.pending_buf.subarray(i.pending_out,i.pending_out+e),t.next_out),t.next_out+=e,i.pending_out+=e,t.total_out+=e,t.avail_out-=e,i.pending-=e,i.pending===0&&(i.pending_out=0))},L=(t,i)=>{ya(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,i),t.block_start=t.strstart,C(t.strm)},A=(t,i)=>{t.pending_buf[t.pending++]=i},yt=(t,i)=>{t.pending_buf[t.pending++]=i>>>8&255,t.pending_buf[t.pending++]=i&255},Be=(t,i,e,n)=>{let a=t.avail_in;return a>n&&(a=n),a===0?0:(t.avail_in-=a,i.set(t.input.subarray(t.next_in,t.next_in+a),e),t.state.wrap===1?t.adler=Dt(t.adler,i,a,e):t.state.wrap===2&&(t.adler=N(t.adler,i,a,e)),t.next_in+=a,t.total_in+=a,a)},qi=(t,i)=>{let e=t.max_chain_length,n=t.strstart,a,r,f=t.prev_length,s=t.nice_match,d=t.strstart>t.w_size-P?t.strstart-(t.w_size-P):0,o=t.window,l=t.w_mask,u=t.prev,c=t.strstart+X,h=o[n+f-1],w=o[n+f];t.prev_length>=t.good_match&&(e>>=2),s>t.lookahead&&(s=t.lookahead);do if(a=i,!(o[a+f]!==w||o[a+f-1]!==h||o[a]!==o[n]||o[++a]!==o[n+1])){n+=2,a++;do;while(o[++n]===o[++a]&&o[++n]===o[++a]&&o[++n]===o[++a]&&o[++n]===o[++a]&&o[++n]===o[++a]&&o[++n]===o[++a]&&o[++n]===o[++a]&&o[++n]===o[++a]&&n<c);if(r=X-(c-n),n=c-X,r>f){if(t.match_start=i,f=r,r>=s)break;h=o[n+f-1],w=o[n+f]}}while((i=u[i&l])>d&&--e!==0);return f<=t.lookahead?f:t.lookahead},ut=t=>{let i=t.w_size,e,n,a;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=i+(i-P)&&(t.window.set(t.window.subarray(i,i+i-n),0),t.match_start-=i,t.strstart-=i,t.block_start-=i,t.insert>t.strstart&&(t.insert=t.strstart),Ha(t),n+=i),t.strm.avail_in===0)break;if(e=Be(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=e,t.lookahead+t.insert>=m)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=J(t,t.ins_h,t.window[a+1]);t.insert&&(t.ins_h=J(t,t.ins_h,t.window[a+m-1]),t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<m)););}while(t.lookahead<P&&t.strm.avail_in!==0)},Qi=(t,i)=>{let e=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,a,r,f=0,s=t.strm.avail_in;do{if(n=65535,r=t.bi_valid+42>>3,t.strm.avail_out<r||(r=t.strm.avail_out-r,a=t.strstart-t.block_start,n>a+t.strm.avail_in&&(n=a+t.strm.avail_in),n>r&&(n=r),n<e&&(n===0&&i!==Z||i===V||n!==a+t.strm.avail_in)))break;f=i===Z&&n===a+t.strm.avail_in?1:0,Ue(t,0,0,f),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,C(t.strm),a&&(a>n&&(a=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+a),t.strm.next_out),t.strm.next_out+=a,t.strm.avail_out-=a,t.strm.total_out+=a,t.block_start+=a,n-=a),n&&(Be(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(f===0);return s-=t.strm.avail_in,s&&(s>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=s&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-s,t.strm.next_in),t.strstart),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),f?bt:i!==V&&i!==Z&&t.strm.avail_in===0&&t.strstart===t.block_start?gt:(r=t.window_size-t.strstart,t.strm.avail_in>r&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,r+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),r>t.strm.avail_in&&(r=t.strm.avail_in),r&&(Be(t.strm,t.window,t.strstart,r),t.strstart+=r,t.insert+=r>t.w_size-t.insert?t.w_size-t.insert:r),t.high_water<t.strstart&&(t.high_water=t.strstart),r=t.bi_valid+42>>3,r=t.pending_buf_size-r>65535?65535:t.pending_buf_size-r,e=r>t.w_size?t.w_size:r,a=t.strstart-t.block_start,(a>=e||(a||i===Z)&&i!==V&&t.strm.avail_in===0&&a<=r)&&(n=a>r?r:a,f=i===Z&&t.strm.avail_in===0&&n===a?1:0,Ue(t,t.block_start,n,f),t.block_start+=n,C(t.strm)),f?rt:B)},ge=(t,i)=>{let e,n;for(;;){if(t.lookahead<P){if(ut(t),t.lookahead<P&&i===V)return B;if(t.lookahead===0)break}if(e=0,t.lookahead>=m&&(t.ins_h=J(t,t.ins_h,t.window[t.strstart+m-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),e!==0&&t.strstart-e<=t.w_size-P&&(t.match_length=qi(t,e)),t.match_length>=m)if(n=j(t,t.strstart-t.match_start,t.match_length-m),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=m){t.match_length--;do t.strstart++,t.ins_h=J(t,t.ins_h,t.window[t.strstart+m-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=J(t,t.ins_h,t.window[t.strstart+1]);else n=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(L(t,!1),t.strm.avail_out===0))return B}return t.insert=t.strstart<m-1?t.strstart:m-1,i===Z?(L(t,!0),t.strm.avail_out===0?rt:bt):t.sym_next&&(L(t,!1),t.strm.avail_out===0)?B:gt},ht=(t,i)=>{let e,n,a;for(;;){if(t.lookahead<P){if(ut(t),t.lookahead<P&&i===V)return B;if(t.lookahead===0)break}if(e=0,t.lookahead>=m&&(t.ins_h=J(t,t.ins_h,t.window[t.strstart+m-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=m-1,e!==0&&t.prev_length<t.max_lazy_match&&t.strstart-e<=t.w_size-P&&(t.match_length=qi(t,e),t.match_length<=5&&(t.strategy===Ta||t.match_length===m&&t.strstart-t.match_start>4096)&&(t.match_length=m-1)),t.prev_length>=m&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-m,n=j(t,t.strstart-1-t.prev_match,t.prev_length-m),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=a&&(t.ins_h=J(t,t.ins_h,t.window[t.strstart+m-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=m-1,t.strstart++,n&&(L(t,!1),t.strm.avail_out===0))return B}else if(t.match_available){if(n=j(t,0,t.window[t.strstart-1]),n&&L(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return B}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=j(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<m-1?t.strstart:m-1,i===Z?(L(t,!0),t.strm.avail_out===0?rt:bt):t.sym_next&&(L(t,!1),t.strm.avail_out===0)?B:gt},Ka=(t,i)=>{let e,n,a,r,f=t.window;for(;;){if(t.lookahead<=X){if(ut(t),t.lookahead<=X&&i===V)return B;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=m&&t.strstart>0&&(a=t.strstart-1,n=f[a],n===f[++a]&&n===f[++a]&&n===f[++a])){r=t.strstart+X;do;while(n===f[++a]&&n===f[++a]&&n===f[++a]&&n===f[++a]&&n===f[++a]&&n===f[++a]&&n===f[++a]&&n===f[++a]&&a<r);t.match_length=X-(r-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=m?(e=j(t,1,t.match_length-m),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(e=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),e&&(L(t,!1),t.strm.avail_out===0))return B}return t.insert=0,i===Z?(L(t,!0),t.strm.avail_out===0?rt:bt):t.sym_next&&(L(t,!1),t.strm.avail_out===0)?B:gt},Wa=(t,i)=>{let e;for(;;){if(t.lookahead===0&&(ut(t),t.lookahead===0)){if(i===V)return B;break}if(t.match_length=0,e=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,e&&(L(t,!1),t.strm.avail_out===0))return B}return t.insert=0,i===Z?(L(t,!0),t.strm.avail_out===0?rt:bt):t.sym_next&&(L(t,!1),t.strm.avail_out===0)?B:gt};function $(t,i,e,n,a){this.good_length=t,this.max_lazy=i,this.nice_length=e,this.max_chain=n,this.func=a}var Et=[new $(0,0,0,0,Qi),new $(4,4,8,4,ge),new $(4,5,16,8,ge),new $(4,6,32,32,ge),new $(4,4,16,16,ht),new $(8,16,32,32,ht),new $(8,16,128,128,ht),new $(8,32,128,256,ht),new $(32,128,258,1024,ht),new $(32,258,258,4096,ht)],Ya=t=>{t.window_size=2*t.w_size,G(t.head),t.max_lazy_match=Et[t.level].max_lazy,t.good_match=Et[t.level].good_length,t.nice_match=Et[t.level].nice_length,t.max_chain_length=Et[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=m-1,t.match_available=0,t.ins_h=0};function Ga(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Qt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Za*2),this.dyn_dtree=new Uint16Array((2*Ca+1)*2),this.bl_tree=new Uint16Array((2*La+1)*2),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Fa+1),this.heap=new Uint16Array(2*Se+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Se+1),G(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Ot=t=>{if(!t)return 1;let i=t.state;return!i||i.strm!==t||i.status!==_t&&i.status!==Fe&&i.status!==De&&i.status!==Ie&&i.status!==Ne&&i.status!==ze&&i.status!==it&&i.status!==mt?1:0},tn=t=>{if(Ot(t))return nt(t,H);t.total_in=t.total_out=0,t.data_type=Da;let i=t.state;return i.pending=0,i.pending_out=0,i.wrap<0&&(i.wrap=-i.wrap),i.status=i.wrap===2?Fe:i.wrap?_t:it,t.adler=i.wrap===2?0:1,i.last_flush=-2,xa(i),z},en=t=>{let i=tn(t);return i===z&&Ya(t.state),i},Xa=(t,i)=>Ot(t)||t.state.wrap!==2?H:(t.state.gzhead=i,z),nn=(t,i,e,n,a,r)=>{if(!t)return H;let f=1;if(i===Aa&&(i=6),n<0?(f=0,n=-n):n>15&&(f=2,n-=16),a<1||a>Ia||e!==Qt||n<8||n>15||i<0||i>9||r<0||r>Ua||n===8&&f!==1)return nt(t,H);n===8&&(n=9);let s=new Ga;return t.state=s,s.strm=t,s.status=_t,s.wrap=f,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=a+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+m-1)/m),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<a+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=i,s.strategy=r,s.method=e,en(t)},ja=(t,i)=>nn(t,i,Qt,Na,za,Sa),Va=(t,i)=>{if(Ot(t)||i>ai||i<0)return t?nt(t,H):H;let e=t.state;if(!t.output||t.avail_in!==0&&!t.input||e.status===mt&&i!==Z)return nt(t,t.avail_out===0?pe:H);let n=e.last_flush;if(e.last_flush=i,e.pending!==0){if(C(t),t.avail_out===0)return e.last_flush=-1,z}else if(t.avail_in===0&&oi(i)<=oi(n)&&i!==Z)return nt(t,pe);if(e.status===mt&&t.avail_in!==0)return nt(t,pe);if(e.status===_t&&e.wrap===0&&(e.status=it),e.status===_t){let a=Qt+(e.w_bits-8<<4)<<8,r=-1;if(e.strategy>=Kt||e.level<2?r=0:e.level<6?r=1:e.level===6?r=2:r=3,a|=r<<6,e.strstart!==0&&(a|=$a),a+=31-a%31,yt(e,a),e.strstart!==0&&(yt(e,t.adler>>>16),yt(e,t.adler&65535)),t.adler=1,e.status=it,C(t),e.pending!==0)return e.last_flush=-1,z}if(e.status===Fe){if(t.adler=0,A(e,31),A(e,139),A(e,8),e.gzhead)A(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),A(e,e.gzhead.time&255),A(e,e.gzhead.time>>8&255),A(e,e.gzhead.time>>16&255),A(e,e.gzhead.time>>24&255),A(e,e.level===9?2:e.strategy>=Kt||e.level<2?4:0),A(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(A(e,e.gzhead.extra.length&255),A(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(t.adler=N(t.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=De;else if(A(e,0),A(e,0),A(e,0),A(e,0),A(e,0),A(e,e.level===9?2:e.strategy>=Kt||e.level<2?4:0),A(e,Ma),e.status=it,C(t),e.pending!==0)return e.last_flush=-1,z}if(e.status===De){if(e.gzhead.extra){let a=e.pending,r=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+r>e.pending_buf_size;){let s=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+s),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>a&&(t.adler=N(t.adler,e.pending_buf,e.pending-a,a)),e.gzindex+=s,C(t),e.pending!==0)return e.last_flush=-1,z;a=0,r-=s}let f=new Uint8Array(e.gzhead.extra);e.pending_buf.set(f.subarray(e.gzindex,e.gzindex+r),e.pending),e.pending+=r,e.gzhead.hcrc&&e.pending>a&&(t.adler=N(t.adler,e.pending_buf,e.pending-a,a)),e.gzindex=0}e.status=Ie}if(e.status===Ie){if(e.gzhead.name){let a=e.pending,r;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>a&&(t.adler=N(t.adler,e.pending_buf,e.pending-a,a)),C(t),e.pending!==0)return e.last_flush=-1,z;a=0}e.gzindex<e.gzhead.name.length?r=e.gzhead.name.charCodeAt(e.gzindex++)&255:r=0,A(e,r)}while(r!==0);e.gzhead.hcrc&&e.pending>a&&(t.adler=N(t.adler,e.pending_buf,e.pending-a,a)),e.gzindex=0}e.status=Ne}if(e.status===Ne){if(e.gzhead.comment){let a=e.pending,r;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>a&&(t.adler=N(t.adler,e.pending_buf,e.pending-a,a)),C(t),e.pending!==0)return e.last_flush=-1,z;a=0}e.gzindex<e.gzhead.comment.length?r=e.gzhead.comment.charCodeAt(e.gzindex++)&255:r=0,A(e,r)}while(r!==0);e.gzhead.hcrc&&e.pending>a&&(t.adler=N(t.adler,e.pending_buf,e.pending-a,a))}e.status=ze}if(e.status===ze){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(C(t),e.pending!==0))return e.last_flush=-1,z;A(e,t.adler&255),A(e,t.adler>>8&255),t.adler=0}if(e.status=it,C(t),e.pending!==0)return e.last_flush=-1,z}if(t.avail_in!==0||e.lookahead!==0||i!==V&&e.status!==mt){let a=e.level===0?Qi(e,i):e.strategy===Kt?Wa(e,i):e.strategy===Ra?Ka(e,i):Et[e.level].func(e,i);if((a===rt||a===bt)&&(e.status=mt),a===B||a===rt)return t.avail_out===0&&(e.last_flush=-1),z;if(a===gt&&(i===Ea?ma(e):i!==ai&&(Ue(e,0,0,!1),i===ka&&(G(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),C(t),t.avail_out===0))return e.last_flush=-1,z}return i!==Z?z:e.wrap<=0?ri:(e.wrap===2?(A(e,t.adler&255),A(e,t.adler>>8&255),A(e,t.adler>>16&255),A(e,t.adler>>24&255),A(e,t.total_in&255),A(e,t.total_in>>8&255),A(e,t.total_in>>16&255),A(e,t.total_in>>24&255)):(yt(e,t.adler>>>16),yt(e,t.adler&65535)),C(t),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?z:ri)},Ja=t=>{if(Ot(t))return H;let i=t.state.status;return t.state=null,i===it?nt(t,va):z},qa=(t,i)=>{let e=i.length;if(Ot(t))return H;let n=t.state,a=n.wrap;if(a===2||a===1&&n.status!==_t||n.lookahead)return H;if(a===1&&(t.adler=Dt(t.adler,i,e,0)),n.wrap=0,e>=n.w_size){a===0&&(G(n.head),n.strstart=0,n.block_start=0,n.insert=0);let d=new Uint8Array(n.w_size);d.set(i.subarray(e-n.w_size,e),0),i=d,e=n.w_size}let r=t.avail_in,f=t.next_in,s=t.input;for(t.avail_in=e,t.next_in=0,t.input=i,ut(n);n.lookahead>=m;){let d=n.strstart,o=n.lookahead-(m-1);do n.ins_h=J(n,n.ins_h,n.window[d+m-1]),n.prev[d&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=d,d++;while(--o);n.strstart=d,n.lookahead=m-1,ut(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=m-1,n.match_available=0,t.next_in=f,t.input=s,t.avail_in=r,n.wrap=a,z},Qa=ja,tr=nn,er=en,ir=tn,nr=Xa,ar=Va,rr=Ja,or=qa,sr="pako deflate (from Nodeca project)",vt={deflateInit:Qa,deflateInit2:tr,deflateReset:er,deflateResetKeep:ir,deflateSetHeader:nr,deflate:ar,deflateEnd:rr,deflateSetDictionary:or,deflateInfo:sr},fr=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),lr=function(t){let i=Array.prototype.slice.call(arguments,1);for(;i.length;){let e=i.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(let n in e)fr(e,n)&&(t[n]=e[n])}}return t},hr=t=>{let i=0;for(let n=0,a=t.length;n<a;n++)i+=t[n].length;let e=new Uint8Array(i);for(let n=0,a=0,r=t.length;n<r;n++){let f=t[n];e.set(f,a),a+=f.length}return e},te={assign:lr,flattenChunks:hr},an=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{an=!1}var It=new Uint8Array(256);for(let t=0;t<256;t++)It[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;It[254]=It[254]=1;var dr=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let i,e,n,a,r,f=t.length,s=0;for(a=0;a<f;a++)e=t.charCodeAt(a),(e&64512)===55296&&a+1<f&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),a++)),s+=e<128?1:e<2048?2:e<65536?3:4;for(i=new Uint8Array(s),r=0,a=0;r<s;a++)e=t.charCodeAt(a),(e&64512)===55296&&a+1<f&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),a++)),e<128?i[r++]=e:e<2048?(i[r++]=192|e>>>6,i[r++]=128|e&63):e<65536?(i[r++]=224|e>>>12,i[r++]=128|e>>>6&63,i[r++]=128|e&63):(i[r++]=240|e>>>18,i[r++]=128|e>>>12&63,i[r++]=128|e>>>6&63,i[r++]=128|e&63);return i},cr=(t,i)=>{if(i<65534&&t.subarray&&an)return String.fromCharCode.apply(null,t.length===i?t:t.subarray(0,i));let e="";for(let n=0;n<i;n++)e+=String.fromCharCode(t[n]);return e},_r=(t,i)=>{let e=i||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,i));let n,a,r=new Array(e*2);for(a=0,n=0;n<e;){let f=t[n++];if(f<128){r[a++]=f;continue}let s=It[f];if(s>4){r[a++]=65533,n+=s-1;continue}for(f&=s===2?31:s===3?15:7;s>1&&n<e;)f=f<<6|t[n++]&63,s--;if(s>1){r[a++]=65533;continue}f<65536?r[a++]=f:(f-=65536,r[a++]=55296|f>>10&1023,r[a++]=56320|f&1023)}return cr(r,a)},ur=(t,i)=>{i=i||t.length,i>t.length&&(i=t.length);let e=i-1;for(;e>=0&&(t[e]&192)===128;)e--;return e<0||e===0?i:e+It[t[e]]>i?e:i},Nt={string2buf:dr,buf2string:_r,utf8border:ur};function wr(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var rn=wr,on=Object.prototype.toString,{Z_NO_FLUSH:pr,Z_SYNC_FLUSH:gr,Z_FULL_FLUSH:br,Z_FINISH:xr,Z_OK:Jt,Z_STREAM_END:yr,Z_DEFAULT_COMPRESSION:mr,Z_DEFAULT_STRATEGY:Er,Z_DEFLATED:kr}=pt;function Ct(t){this.options=te.assign({level:mr,method:kr,chunkSize:16384,windowBits:15,memLevel:8,strategy:Er},t||{});let i=this.options;i.raw&&i.windowBits>0?i.windowBits=-i.windowBits:i.gzip&&i.windowBits>0&&i.windowBits<16&&(i.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rn,this.strm.avail_out=0;let e=vt.deflateInit2(this.strm,i.level,i.method,i.windowBits,i.memLevel,i.strategy);if(e!==Jt)throw new Error(at[e]);if(i.header&&vt.deflateSetHeader(this.strm,i.header),i.dictionary){let n;if(typeof i.dictionary=="string"?n=Nt.string2buf(i.dictionary):on.call(i.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(i.dictionary):n=i.dictionary,e=vt.deflateSetDictionary(this.strm,n),e!==Jt)throw new Error(at[e]);this._dict_set=!0}}Ct.prototype.push=function(t,i){let e=this.strm,n=this.options.chunkSize,a,r;if(this.ended)return!1;for(i===~~i?r=i:r=i===!0?xr:pr,typeof t=="string"?e.input=Nt.string2buf(t):on.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),(r===gr||r===br)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(a=vt.deflate(e,r),a===yr)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),a=vt.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Jt;if(e.avail_out===0){this.onData(e.output);continue}if(r>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};Ct.prototype.onData=function(t){this.chunks.push(t)};Ct.prototype.onEnd=function(t){t===Jt&&(this.result=te.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function $e(t,i){let e=new Ct(i);if(e.push(t,!0),e.err)throw e.msg||at[e.err];return e.result}function vr(t,i){return i=i||{},i.raw=!0,$e(t,i)}function Ar(t,i){return i=i||{},i.gzip=!0,$e(t,i)}var Tr=Ct,Rr=$e,Ur=vr,Sr=Ar,Dr=pt,Ir={Deflate:Tr,deflate:Rr,deflateRaw:Ur,gzip:Sr,constants:Dr},Wt=16209,Nr=16191,zr=function(i,e){let n,a,r,f,s,d,o,l,u,c,h,w,S,E,b,T,x,_,v,I,p,R,k,g,y=i.state;n=i.next_in,k=i.input,a=n+(i.avail_in-5),r=i.next_out,g=i.output,f=r-(e-i.avail_out),s=r+(i.avail_out-257),d=y.dmax,o=y.wsize,l=y.whave,u=y.wnext,c=y.window,h=y.hold,w=y.bits,S=y.lencode,E=y.distcode,b=(1<<y.lenbits)-1,T=(1<<y.distbits)-1;t:do{w<15&&(h+=k[n++]<<w,w+=8,h+=k[n++]<<w,w+=8),x=S[h&b];e:for(;;){if(_=x>>>24,h>>>=_,w-=_,_=x>>>16&255,_===0)g[r++]=x&65535;else if(_&16){v=x&65535,_&=15,_&&(w<_&&(h+=k[n++]<<w,w+=8),v+=h&(1<<_)-1,h>>>=_,w-=_),w<15&&(h+=k[n++]<<w,w+=8,h+=k[n++]<<w,w+=8),x=E[h&T];i:for(;;){if(_=x>>>24,h>>>=_,w-=_,_=x>>>16&255,_&16){if(I=x&65535,_&=15,w<_&&(h+=k[n++]<<w,w+=8,w<_&&(h+=k[n++]<<w,w+=8)),I+=h&(1<<_)-1,I>d){i.msg="invalid distance too far back",y.mode=Wt;break t}if(h>>>=_,w-=_,_=r-f,I>_){if(_=I-_,_>l&&y.sane){i.msg="invalid distance too far back",y.mode=Wt;break t}if(p=0,R=c,u===0){if(p+=o-_,_<v){v-=_;do g[r++]=c[p++];while(--_);p=r-I,R=g}}else if(u<_){if(p+=o+u-_,_-=u,_<v){v-=_;do g[r++]=c[p++];while(--_);if(p=0,u<v){_=u,v-=_;do g[r++]=c[p++];while(--_);p=r-I,R=g}}}else if(p+=u-_,_<v){v-=_;do g[r++]=c[p++];while(--_);p=r-I,R=g}for(;v>2;)g[r++]=R[p++],g[r++]=R[p++],g[r++]=R[p++],v-=3;v&&(g[r++]=R[p++],v>1&&(g[r++]=R[p++]))}else{p=r-I;do g[r++]=g[p++],g[r++]=g[p++],g[r++]=g[p++],v-=3;while(v>2);v&&(g[r++]=g[p++],v>1&&(g[r++]=g[p++]))}}else if(_&64){i.msg="invalid distance code",y.mode=Wt;break t}else{x=E[(x&65535)+(h&(1<<_)-1)];continue i}break}}else if(_&64)if(_&32){y.mode=Nr;break t}else{i.msg="invalid literal/length code",y.mode=Wt;break t}else{x=S[(x&65535)+(h&(1<<_)-1)];continue e}break}}while(n<a&&r<s);v=w>>3,n-=v,w-=v<<3,h&=(1<<w)-1,i.next_in=n,i.next_out=r,i.avail_in=n<a?5+(a-n):5-(n-a),i.avail_out=r<s?257+(s-r):257-(r-s),y.hold=h,y.bits=w},dt=15,si=852,fi=592,li=0,be=1,hi=2,Br=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Or=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Cr=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Lr=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Zr=(t,i,e,n,a,r,f,s)=>{let d=s.bits,o=0,l=0,u=0,c=0,h=0,w=0,S=0,E=0,b=0,T=0,x,_,v,I,p,R=null,k,g=new Uint16Array(dt+1),y=new Uint16Array(dt+1),Q=null,je,Ht,Pt;for(o=0;o<=dt;o++)g[o]=0;for(l=0;l<n;l++)g[i[e+l]]++;for(h=d,c=dt;c>=1&&g[c]===0;c--);if(h>c&&(h=c),c===0)return a[r++]=1<<24|64<<16|0,a[r++]=1<<24|64<<16|0,s.bits=1,0;for(u=1;u<c&&g[u]===0;u++);for(h<u&&(h=u),E=1,o=1;o<=dt;o++)if(E<<=1,E-=g[o],E<0)return-1;if(E>0&&(t===li||c!==1))return-1;for(y[1]=0,o=1;o<dt;o++)y[o+1]=y[o]+g[o];for(l=0;l<n;l++)i[e+l]!==0&&(f[y[i[e+l]]++]=l);if(t===li?(R=Q=f,k=20):t===be?(R=Br,Q=Or,k=257):(R=Cr,Q=Lr,k=0),T=0,l=0,o=u,p=r,w=h,S=0,v=-1,b=1<<h,I=b-1,t===be&&b>si||t===hi&&b>fi)return 1;for(;;){je=o-S,f[l]+1<k?(Ht=0,Pt=f[l]):f[l]>=k?(Ht=Q[f[l]-k],Pt=R[f[l]-k]):(Ht=32+64,Pt=0),x=1<<o-S,_=1<<w,u=_;do _-=x,a[p+(T>>S)+_]=je<<24|Ht<<16|Pt|0;while(_!==0);for(x=1<<o-1;T&x;)x>>=1;if(x!==0?(T&=x-1,T+=x):T=0,l++,--g[o]===0){if(o===c)break;o=i[e+f[l]]}if(o>h&&(T&I)!==v){for(S===0&&(S=h),p+=u,w=o-S,E=1<<w;w+S<c&&(E-=g[w+S],!(E<=0));)w++,E<<=1;if(b+=1<<w,t===be&&b>si||t===hi&&b>fi)return 1;v=T&I,a[v]=h<<24|w<<16|p-r|0}}return T!==0&&(a[p+T]=o-S<<24|64<<16|0),s.bits=h,0},At=Zr,Fr=0,sn=1,fn=2,{Z_FINISH:di,Z_BLOCK:$r,Z_TREES:Yt,Z_OK:ot,Z_STREAM_END:Mr,Z_NEED_DICT:Hr,Z_STREAM_ERROR:F,Z_DATA_ERROR:ln,Z_MEM_ERROR:hn,Z_BUF_ERROR:Pr,Z_DEFLATED:ci}=pt,ee=16180,_i=16181,ui=16182,wi=16183,pi=16184,gi=16185,bi=16186,xi=16187,yi=16188,mi=16189,qt=16190,K=16191,xe=16192,Ei=16193,ye=16194,ki=16195,vi=16196,Ai=16197,Ti=16198,Gt=16199,Xt=16200,Ri=16201,Ui=16202,Si=16203,Di=16204,Ii=16205,me=16206,Ni=16207,zi=16208,U=16209,dn=16210,cn=16211,Kr=852,Wr=592,Yr=15,Gr=Yr,Bi=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Xr(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var st=t=>{if(!t)return 1;let i=t.state;return!i||i.strm!==t||i.mode<ee||i.mode>cn?1:0},_n=t=>{if(st(t))return F;let i=t.state;return t.total_in=t.total_out=i.total=0,t.msg="",i.wrap&&(t.adler=i.wrap&1),i.mode=ee,i.last=0,i.havedict=0,i.flags=-1,i.dmax=32768,i.head=null,i.hold=0,i.bits=0,i.lencode=i.lendyn=new Int32Array(Kr),i.distcode=i.distdyn=new Int32Array(Wr),i.sane=1,i.back=-1,ot},un=t=>{if(st(t))return F;let i=t.state;return i.wsize=0,i.whave=0,i.wnext=0,_n(t)},wn=(t,i)=>{let e;if(st(t))return F;let n=t.state;return i<0?(e=0,i=-i):(e=(i>>4)+5,i<48&&(i&=15)),i&&(i<8||i>15)?F:(n.window!==null&&n.wbits!==i&&(n.window=null),n.wrap=e,n.wbits=i,un(t))},pn=(t,i)=>{if(!t)return F;let e=new Xr;t.state=e,e.strm=t,e.window=null,e.mode=ee;let n=wn(t,i);return n!==ot&&(t.state=null),n},jr=t=>pn(t,Gr),Oi=!0,Ee,ke,Vr=t=>{if(Oi){Ee=new Int32Array(512),ke=new Int32Array(32);let i=0;for(;i<144;)t.lens[i++]=8;for(;i<256;)t.lens[i++]=9;for(;i<280;)t.lens[i++]=7;for(;i<288;)t.lens[i++]=8;for(At(sn,t.lens,0,288,Ee,0,t.work,{bits:9}),i=0;i<32;)t.lens[i++]=5;At(fn,t.lens,0,32,ke,0,t.work,{bits:5}),Oi=!1}t.lencode=Ee,t.lenbits=9,t.distcode=ke,t.distbits=5},gn=(t,i,e,n)=>{let a,r=t.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(r.window.set(i.subarray(e-r.wsize,e),0),r.wnext=0,r.whave=r.wsize):(a=r.wsize-r.wnext,a>n&&(a=n),r.window.set(i.subarray(e-n,e-n+a),r.wnext),n-=a,n?(r.window.set(i.subarray(e-n,e),0),r.wnext=n,r.whave=r.wsize):(r.wnext+=a,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=a))),0},Jr=(t,i)=>{let e,n,a,r,f,s,d,o,l,u,c,h,w,S,E=0,b,T,x,_,v,I,p,R,k=new Uint8Array(4),g,y,Q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(st(t)||!t.output||!t.input&&t.avail_in!==0)return F;e=t.state,e.mode===K&&(e.mode=xe),f=t.next_out,a=t.output,d=t.avail_out,r=t.next_in,n=t.input,s=t.avail_in,o=e.hold,l=e.bits,u=s,c=d,R=ot;t:for(;;)switch(e.mode){case ee:if(e.wrap===0){e.mode=xe;break}for(;l<16;){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}if(e.wrap&2&&o===35615){e.wbits===0&&(e.wbits=15),e.check=0,k[0]=o&255,k[1]=o>>>8&255,e.check=N(e.check,k,2,0),o=0,l=0,e.mode=_i;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((o&255)<<8)+(o>>8))%31){t.msg="incorrect header check",e.mode=U;break}if((o&15)!==ci){t.msg="unknown compression method",e.mode=U;break}if(o>>>=4,l-=4,p=(o&15)+8,e.wbits===0&&(e.wbits=p),p>15||p>e.wbits){t.msg="invalid window size",e.mode=U;break}e.dmax=1<<e.wbits,e.flags=0,t.adler=e.check=1,e.mode=o&512?mi:K,o=0,l=0;break;case _i:for(;l<16;){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}if(e.flags=o,(e.flags&255)!==ci){t.msg="unknown compression method",e.mode=U;break}if(e.flags&57344){t.msg="unknown header flags set",e.mode=U;break}e.head&&(e.head.text=o>>8&1),e.flags&512&&e.wrap&4&&(k[0]=o&255,k[1]=o>>>8&255,e.check=N(e.check,k,2,0)),o=0,l=0,e.mode=ui;case ui:for(;l<32;){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}e.head&&(e.head.time=o),e.flags&512&&e.wrap&4&&(k[0]=o&255,k[1]=o>>>8&255,k[2]=o>>>16&255,k[3]=o>>>24&255,e.check=N(e.check,k,4,0)),o=0,l=0,e.mode=wi;case wi:for(;l<16;){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}e.head&&(e.head.xflags=o&255,e.head.os=o>>8),e.flags&512&&e.wrap&4&&(k[0]=o&255,k[1]=o>>>8&255,e.check=N(e.check,k,2,0)),o=0,l=0,e.mode=pi;case pi:if(e.flags&1024){for(;l<16;){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}e.length=o,e.head&&(e.head.extra_len=o),e.flags&512&&e.wrap&4&&(k[0]=o&255,k[1]=o>>>8&255,e.check=N(e.check,k,2,0)),o=0,l=0}else e.head&&(e.head.extra=null);e.mode=gi;case gi:if(e.flags&1024&&(h=e.length,h>s&&(h=s),h&&(e.head&&(p=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(r,r+h),p)),e.flags&512&&e.wrap&4&&(e.check=N(e.check,n,h,r)),s-=h,r+=h,e.length-=h),e.length))break t;e.length=0,e.mode=bi;case bi:if(e.flags&2048){if(s===0)break t;h=0;do p=n[r+h++],e.head&&p&&e.length<65536&&(e.head.name+=String.fromCharCode(p));while(p&&h<s);if(e.flags&512&&e.wrap&4&&(e.check=N(e.check,n,h,r)),s-=h,r+=h,p)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=xi;case xi:if(e.flags&4096){if(s===0)break t;h=0;do p=n[r+h++],e.head&&p&&e.length<65536&&(e.head.comment+=String.fromCharCode(p));while(p&&h<s);if(e.flags&512&&e.wrap&4&&(e.check=N(e.check,n,h,r)),s-=h,r+=h,p)break t}else e.head&&(e.head.comment=null);e.mode=yi;case yi:if(e.flags&512){for(;l<16;){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}if(e.wrap&4&&o!==(e.check&65535)){t.msg="header crc mismatch",e.mode=U;break}o=0,l=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=K;break;case mi:for(;l<32;){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}t.adler=e.check=Bi(o),o=0,l=0,e.mode=qt;case qt:if(e.havedict===0)return t.next_out=f,t.avail_out=d,t.next_in=r,t.avail_in=s,e.hold=o,e.bits=l,Hr;t.adler=e.check=1,e.mode=K;case K:if(i===$r||i===Yt)break t;case xe:if(e.last){o>>>=l&7,l-=l&7,e.mode=me;break}for(;l<3;){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}switch(e.last=o&1,o>>>=1,l-=1,o&3){case 0:e.mode=Ei;break;case 1:if(Vr(e),e.mode=Gt,i===Yt){o>>>=2,l-=2;break t}break;case 2:e.mode=vi;break;case 3:t.msg="invalid block type",e.mode=U}o>>>=2,l-=2;break;case Ei:for(o>>>=l&7,l-=l&7;l<32;){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}if((o&65535)!==(o>>>16^65535)){t.msg="invalid stored block lengths",e.mode=U;break}if(e.length=o&65535,o=0,l=0,e.mode=ye,i===Yt)break t;case ye:e.mode=ki;case ki:if(h=e.length,h){if(h>s&&(h=s),h>d&&(h=d),h===0)break t;a.set(n.subarray(r,r+h),f),s-=h,r+=h,d-=h,f+=h,e.length-=h;break}e.mode=K;break;case vi:for(;l<14;){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}if(e.nlen=(o&31)+257,o>>>=5,l-=5,e.ndist=(o&31)+1,o>>>=5,l-=5,e.ncode=(o&15)+4,o>>>=4,l-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=U;break}e.have=0,e.mode=Ai;case Ai:for(;e.have<e.ncode;){for(;l<3;){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}e.lens[Q[e.have++]]=o&7,o>>>=3,l-=3}for(;e.have<19;)e.lens[Q[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,g={bits:e.lenbits},R=At(Fr,e.lens,0,19,e.lencode,0,e.work,g),e.lenbits=g.bits,R){t.msg="invalid code lengths set",e.mode=U;break}e.have=0,e.mode=Ti;case Ti:for(;e.have<e.nlen+e.ndist;){for(;E=e.lencode[o&(1<<e.lenbits)-1],b=E>>>24,T=E>>>16&255,x=E&65535,!(b<=l);){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}if(x<16)o>>>=b,l-=b,e.lens[e.have++]=x;else{if(x===16){for(y=b+2;l<y;){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}if(o>>>=b,l-=b,e.have===0){t.msg="invalid bit length repeat",e.mode=U;break}p=e.lens[e.have-1],h=3+(o&3),o>>>=2,l-=2}else if(x===17){for(y=b+3;l<y;){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}o>>>=b,l-=b,p=0,h=3+(o&7),o>>>=3,l-=3}else{for(y=b+7;l<y;){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}o>>>=b,l-=b,p=0,h=11+(o&127),o>>>=7,l-=7}if(e.have+h>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=U;break}for(;h--;)e.lens[e.have++]=p}}if(e.mode===U)break;if(e.lens[256]===0){t.msg="invalid code -- missing end-of-block",e.mode=U;break}if(e.lenbits=9,g={bits:e.lenbits},R=At(sn,e.lens,0,e.nlen,e.lencode,0,e.work,g),e.lenbits=g.bits,R){t.msg="invalid literal/lengths set",e.mode=U;break}if(e.distbits=6,e.distcode=e.distdyn,g={bits:e.distbits},R=At(fn,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,g),e.distbits=g.bits,R){t.msg="invalid distances set",e.mode=U;break}if(e.mode=Gt,i===Yt)break t;case Gt:e.mode=Xt;case Xt:if(s>=6&&d>=258){t.next_out=f,t.avail_out=d,t.next_in=r,t.avail_in=s,e.hold=o,e.bits=l,zr(t,c),f=t.next_out,a=t.output,d=t.avail_out,r=t.next_in,n=t.input,s=t.avail_in,o=e.hold,l=e.bits,e.mode===K&&(e.back=-1);break}for(e.back=0;E=e.lencode[o&(1<<e.lenbits)-1],b=E>>>24,T=E>>>16&255,x=E&65535,!(b<=l);){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}if(T&&!(T&240)){for(_=b,v=T,I=x;E=e.lencode[I+((o&(1<<_+v)-1)>>_)],b=E>>>24,T=E>>>16&255,x=E&65535,!(_+b<=l);){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}o>>>=_,l-=_,e.back+=_}if(o>>>=b,l-=b,e.back+=b,e.length=x,T===0){e.mode=Ii;break}if(T&32){e.back=-1,e.mode=K;break}if(T&64){t.msg="invalid literal/length code",e.mode=U;break}e.extra=T&15,e.mode=Ri;case Ri:if(e.extra){for(y=e.extra;l<y;){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}e.length+=o&(1<<e.extra)-1,o>>>=e.extra,l-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=Ui;case Ui:for(;E=e.distcode[o&(1<<e.distbits)-1],b=E>>>24,T=E>>>16&255,x=E&65535,!(b<=l);){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}if(!(T&240)){for(_=b,v=T,I=x;E=e.distcode[I+((o&(1<<_+v)-1)>>_)],b=E>>>24,T=E>>>16&255,x=E&65535,!(_+b<=l);){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}o>>>=_,l-=_,e.back+=_}if(o>>>=b,l-=b,e.back+=b,T&64){t.msg="invalid distance code",e.mode=U;break}e.offset=x,e.extra=T&15,e.mode=Si;case Si:if(e.extra){for(y=e.extra;l<y;){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}e.offset+=o&(1<<e.extra)-1,o>>>=e.extra,l-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=U;break}e.mode=Di;case Di:if(d===0)break t;if(h=c-d,e.offset>h){if(h=e.offset-h,h>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=U;break}h>e.wnext?(h-=e.wnext,w=e.wsize-h):w=e.wnext-h,h>e.length&&(h=e.length),S=e.window}else S=a,w=f-e.offset,h=e.length;h>d&&(h=d),d-=h,e.length-=h;do a[f++]=S[w++];while(--h);e.length===0&&(e.mode=Xt);break;case Ii:if(d===0)break t;a[f++]=e.length,d--,e.mode=Xt;break;case me:if(e.wrap){for(;l<32;){if(s===0)break t;s--,o|=n[r++]<<l,l+=8}if(c-=d,t.total_out+=c,e.total+=c,e.wrap&4&&c&&(t.adler=e.check=e.flags?N(e.check,a,c,f-c):Dt(e.check,a,c,f-c)),c=d,e.wrap&4&&(e.flags?o:Bi(o))!==e.check){t.msg="incorrect data check",e.mode=U;break}o=0,l=0}e.mode=Ni;case Ni:if(e.wrap&&e.flags){for(;l<32;){if(s===0)break t;s--,o+=n[r++]<<l,l+=8}if(e.wrap&4&&o!==(e.total&4294967295)){t.msg="incorrect length check",e.mode=U;break}o=0,l=0}e.mode=zi;case zi:R=Mr;break t;case U:R=ln;break t;case dn:return hn;case cn:default:return F}return t.next_out=f,t.avail_out=d,t.next_in=r,t.avail_in=s,e.hold=o,e.bits=l,(e.wsize||c!==t.avail_out&&e.mode<U&&(e.mode<me||i!==di))&&gn(t,t.output,t.next_out,c-t.avail_out),u-=t.avail_in,c-=t.avail_out,t.total_in+=u,t.total_out+=c,e.total+=c,e.wrap&4&&c&&(t.adler=e.check=e.flags?N(e.check,a,c,t.next_out-c):Dt(e.check,a,c,t.next_out-c)),t.data_type=e.bits+(e.last?64:0)+(e.mode===K?128:0)+(e.mode===Gt||e.mode===ye?256:0),(u===0&&c===0||i===di)&&R===ot&&(R=Pr),R},qr=t=>{if(st(t))return F;let i=t.state;return i.window&&(i.window=null),t.state=null,ot},Qr=(t,i)=>{if(st(t))return F;let e=t.state;return e.wrap&2?(e.head=i,i.done=!1,ot):F},to=(t,i)=>{let e=i.length,n,a,r;return st(t)||(n=t.state,n.wrap!==0&&n.mode!==qt)?F:n.mode===qt&&(a=1,a=Dt(a,i,e,0),a!==n.check)?ln:(r=gn(t,i,e,e),r?(n.mode=dn,hn):(n.havedict=1,ot))},eo=un,io=wn,no=_n,ao=jr,ro=pn,oo=Jr,so=qr,fo=Qr,lo=to,ho="pako inflate (from Nodeca project)",Y={inflateReset:eo,inflateReset2:io,inflateResetKeep:no,inflateInit:ao,inflateInit2:ro,inflate:oo,inflateEnd:so,inflateGetHeader:fo,inflateSetDictionary:lo,inflateInfo:ho};function co(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var _o=co,bn=Object.prototype.toString,{Z_NO_FLUSH:uo,Z_FINISH:wo,Z_OK:zt,Z_STREAM_END:ve,Z_NEED_DICT:Ae,Z_STREAM_ERROR:po,Z_DATA_ERROR:Ci,Z_MEM_ERROR:go}=pt;function Lt(t){this.options=te.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});let i=this.options;i.raw&&i.windowBits>=0&&i.windowBits<16&&(i.windowBits=-i.windowBits,i.windowBits===0&&(i.windowBits=-15)),i.windowBits>=0&&i.windowBits<16&&!(t&&t.windowBits)&&(i.windowBits+=32),i.windowBits>15&&i.windowBits<48&&(i.windowBits&15||(i.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rn,this.strm.avail_out=0;let e=Y.inflateInit2(this.strm,i.windowBits);if(e!==zt)throw new Error(at[e]);if(this.header=new _o,Y.inflateGetHeader(this.strm,this.header),i.dictionary&&(typeof i.dictionary=="string"?i.dictionary=Nt.string2buf(i.dictionary):bn.call(i.dictionary)==="[object ArrayBuffer]"&&(i.dictionary=new Uint8Array(i.dictionary)),i.raw&&(e=Y.inflateSetDictionary(this.strm,i.dictionary),e!==zt)))throw new Error(at[e])}Lt.prototype.push=function(t,i){let e=this.strm,n=this.options.chunkSize,a=this.options.dictionary,r,f,s;if(this.ended)return!1;for(i===~~i?f=i:f=i===!0?wo:uo,bn.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),r=Y.inflate(e,f),r===Ae&&a&&(r=Y.inflateSetDictionary(e,a),r===zt?r=Y.inflate(e,f):r===Ci&&(r=Ae));e.avail_in>0&&r===ve&&e.state.wrap>0&&t[e.next_in]!==0;)Y.inflateReset(e),r=Y.inflate(e,f);switch(r){case po:case Ci:case Ae:case go:return this.onEnd(r),this.ended=!0,!1}if(s=e.avail_out,e.next_out&&(e.avail_out===0||r===ve))if(this.options.to==="string"){let d=Nt.utf8border(e.output,e.next_out),o=e.next_out-d,l=Nt.buf2string(e.output,d);e.next_out=o,e.avail_out=n-o,o&&e.output.set(e.output.subarray(d,d+o),0),this.onData(l)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(r===zt&&s===0)){if(r===ve)return r=Y.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};Lt.prototype.onData=function(t){this.chunks.push(t)};Lt.prototype.onEnd=function(t){t===zt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=te.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Me(t,i){let e=new Lt(i);if(e.push(t),e.err)throw e.msg||at[e.err];return e.result}function bo(t,i){return i=i||{},i.raw=!0,Me(t,i)}var xo=Lt,yo=Me,mo=bo,Eo=Me,ko=pt,vo={Inflate:xo,inflate:yo,inflateRaw:mo,ungzip:Eo,constants:ko},{Deflate:fs,deflate:Ao,deflateRaw:ls,gzip:hs}=Ir,{Inflate:To,inflate:Ro,inflateRaw:ds,ungzip:cs}=vo;var xn=Ao;var yn=To,mn=Ro;var xt=[137,80,78,71,13,10,26,10],kn=[];for(let t=0;t<256;t++){let i=t;for(let e=0;e<8;e++)i&1?i=3988292384^i>>>1:i=i>>>1;kn[t]=i}var En=4294967295;function Uo(t,i,e){let n=t;for(let a=0;a<e;a++)n=kn[(n^i[a])&255]^n>>>8;return n}function ie(t,i){return(Uo(En,t,i)^En)>>>0}var D;(function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.GREYSCALE=0]="GREYSCALE",t[t.TRUECOLOUR=2]="TRUECOLOUR",t[t.INDEXED_COLOUR=3]="INDEXED_COLOUR",t[t.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",t[t.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"})(D||(D={}));var q;(function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.DEFLATE=0]="DEFLATE"})(q||(q={}));var ft;(function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.ADAPTIVE=0]="ADAPTIVE"})(ft||(ft={}));var lt;(function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.NO_INTERLACE=0]="NO_INTERLACE",t[t.ADAM7=1]="ADAM7"})(lt||(lt={}));var So=new Uint8Array(0),vn="\0",Do=new Uint16Array([255]),Io=new Uint8Array(Do.buffer),No=Io[0]===255,Zt=class extends tt{constructor(i,e={}){super(i);let{checkCrc:n=!1}=e;this._checkCrc=n,this._inflator=new yn,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=q.UNKNOWN,this._filterMethod=ft.UNKNOWN,this._interlaceMethod=lt.UNKNOWN,this._colorType=D.UNKNOWN,this.setBigEndian()}decode(){for(this.decodeSignature();!this._end;)this.decodeChunk();return this.decodeImage(),this._png}decodeSignature(){for(let i=0;i<xt.length;i++)if(this.readUint8()!==xt[i])throw new Error(`wrong PNG signature. Byte at ${i} should be ${xt[i]}.`)}decodeChunk(){let i=this.readUint32(),e=this.readChars(4),n=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(i);break;case"IDAT":this.decodeIDAT(i);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(i);break;case"iCCP":this.decodeiCCP(i);break;case"tEXt":this.decodetEXt(i);break;case"pHYs":this.decodepHYs();break;default:this.skip(i);break}if(this.offset-n!==i)throw new Error(`Length mismatch while decoding chunk ${e}`);if(this._checkCrc){let a=this.readUint32(),r=i+4,f=ie(new Uint8Array(this.buffer,this.byteOffset+this.offset-r-4,r),r);if(f!==a)throw new Error(`CRC mismatch for chunk ${e}. Expected ${a}, found ${f}`)}else this.skip(4)}decodeIHDR(){let i=this._png;i.width=this.readUint32(),i.height=this.readUint32(),i.depth=$o(this.readUint8());let e=this.readUint8();this._colorType=e;let n;switch(e){case D.GREYSCALE:n=1;break;case D.TRUECOLOUR:n=3;break;case D.INDEXED_COLOUR:n=1;break;case D.GREYSCALE_ALPHA:n=2;break;case D.TRUECOLOUR_ALPHA:n=4;break;default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==q.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodePLTE(i){if(i%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${i}`);let e=i/3;this._hasPalette=!0;let n=[];this._palette=n;for(let a=0;a<e;a++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(i){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,i)),this.skip(i)}decodetRNS(i){switch(this._colorType){case D.GREYSCALE:case D.TRUECOLOUR:{if(i%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${i}`);if(i/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${i/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(i/2);for(let e=0;e<i/2;e++)this._transparency[e]=this.readUint16();break}case D.INDEXED_COLOUR:{if(i>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${i} vs ${this._palette.length})`);let e=0;for(;e<i;e++){let n=this.readByte();this._palette[e].push(n)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(i){let e="",n;for(;(n=this.readChar())!==vn;)e+=n;let a=this.readUint8();if(a!==q.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);let r=this.readBytes(i-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:mn(r)}}decodetEXt(i){let e="",n;for(;(n=this.readChar())!==vn;)e+=n;this._png.text[e]=this.readChars(i-e.length-1)}decodepHYs(){let i=this.readUint32(),e=this.readUint32(),n=this.readByte();this._png.resolution={x:i,y:e,unit:n}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);let i=this._inflator.result;if(this._filterMethod!==ft.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===lt.NO_INTERLACE)this.decodeInterlaceNull(i);else throw new Error(`Interlace method ${this._interlaceMethod} not supported`)}decodeInterlaceNull(i){let e=this._png.height,n=this._png.channels*this._png.depth/8,a=this._png.width*n,r=new Uint8Array(this._png.height*a),f=So,s=0,d,o;for(let l=0;l<e;l++){switch(d=i.subarray(s+1,s+1+a),o=r.subarray(l*a,(l+1)*a),i[s]){case 0:zo(d,o,a);break;case 1:Bo(d,o,a,n);break;case 2:Oo(d,o,f,a);break;case 3:Co(d,o,f,a,n);break;case 4:Lo(d,o,f,a,n);break;default:throw new Error(`Unsupported filter: ${i[s]}`)}f=o,s+=a+1}if(this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency),this._png.depth===16){let l=new Uint16Array(r.buffer);if(No)for(let u=0;u<l.length;u++)l[u]=Fo(l[u]);this._png.data=l}else this._png.data=r}};function zo(t,i,e){for(let n=0;n<e;n++)i[n]=t[n]}function Bo(t,i,e,n){let a=0;for(;a<n;a++)i[a]=t[a];for(;a<e;a++)i[a]=t[a]+i[a-n]&255}function Oo(t,i,e,n){let a=0;if(e.length===0)for(;a<n;a++)i[a]=t[a];else for(;a<n;a++)i[a]=t[a]+e[a]&255}function Co(t,i,e,n,a){let r=0;if(e.length===0){for(;r<a;r++)i[r]=t[r];for(;r<n;r++)i[r]=t[r]+(i[r-a]>>1)&255}else{for(;r<a;r++)i[r]=t[r]+(e[r]>>1)&255;for(;r<n;r++)i[r]=t[r]+(i[r-a]+e[r]>>1)&255}}function Lo(t,i,e,n,a){let r=0;if(e.length===0){for(;r<a;r++)i[r]=t[r];for(;r<n;r++)i[r]=t[r]+i[r-a]&255}else{for(;r<a;r++)i[r]=t[r]+e[r]&255;for(;r<n;r++)i[r]=t[r]+Zo(i[r-a],e[r],e[r-a])&255}}function Zo(t,i,e){let n=t+i-e,a=Math.abs(n-t),r=Math.abs(n-i),f=Math.abs(n-e);return a<=r&&a<=f?t:r<=f?i:e}function Fo(t){return(t&255)<<8|t>>8&255}function $o(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Mo={level:3},Ft=class extends tt{constructor(i,e={}){super(),this._colorType=D.UNKNOWN,this._zlibOptions={...Mo,...e.zlib},this._png=this._checkData(i),this.setBigEndian()}encode(){return this.encodeSignature(),this.encodeIHDR(),this.encodeData(),this.encodeIEND(),this.toArray()}encodeSignature(){this.writeBytes(xt)}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(q.DEFLATE),this.writeByte(ft.ADAPTIVE),this.writeByte(lt.NO_INTERLACE),this.writeCrc(17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),this.writeCrc(4)}encodeIDAT(i){this.writeUint32(i.length),this.writeChars("IDAT"),this.writeBytes(i),this.writeCrc(i.length+4)}encodeData(){let{width:i,height:e,channels:n,depth:a,data:r}=this._png,f=n*i,s=new tt().setBigEndian(),d=0;for(let u=0;u<e;u++)if(s.writeByte(0),a===8)d=Po(r,s,f,d);else if(a===16)d=Ko(r,s,f,d);else throw new Error("unreachable");let o=s.toArray(),l=xn(o,this._zlibOptions);this.encodeIDAT(l)}_checkData(i){let{colorType:e,channels:n,depth:a}=Ho(i),r={width:An(i.width,"width"),height:An(i.height,"height"),channels:n,data:i.data,depth:a,text:{}};this._colorType=e;let f=r.width*r.height*n;if(r.data.length!==f)throw new RangeError(`wrong data size. Found ${r.data.length}, expected ${f}`);return r}writeCrc(i){this.writeUint32(ie(new Uint8Array(this.buffer,this.byteOffset+this.offset-i,i),i))}};function An(t,i){if(Number.isInteger(t)&&t>0)return t;throw new TypeError(`${i} must be a positive integer`)}function Ho(t){let{channels:i=4,depth:e=8}=t;if(i!==4&&i!==3&&i!==2&&i!==1)throw new RangeError(`unsupported number of channels: ${i}`);if(e!==8&&e!==16)throw new RangeError(`unsupported bit depth: ${e}`);let n={channels:i,depth:e,colorType:D.UNKNOWN};switch(i){case 4:n.colorType=D.TRUECOLOUR_ALPHA;break;case 3:n.colorType=D.TRUECOLOUR;break;case 1:n.colorType=D.GREYSCALE;break;case 2:n.colorType=D.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return n}function Po(t,i,e,n){for(let a=0;a<e;a++)i.writeByte(t[n++]);return n}function Ko(t,i,e,n){for(let a=0;a<e;a++)i.writeUint16(t[n++]);return n}var Tn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Tn||(Tn={}));function Rn(t,i){return new Zt(t,i).decode()}function Un(t,i){return new Ft(t,i).encode()}async function Wo(t){let{canvas:i}=Pe(t);return new Promise((e,n)=>{i.toBlob(function(a){a?e(a):n(new Error(""))},"image/png")})}async function He(t,i=document.createElement("img")){return new Promise((e,n)=>{let a=()=>{URL.revokeObjectURL(i.src),i.removeEventListener("load",a),i.removeEventListener("error",n),e(i)};i.addEventListener("load",a),i.addEventListener("error",n),i.src=URL.createObjectURL(t)})}function Yo(t){let{context:i,width:e,height:n}=Pe(t);return i.getImageData(0,0,e,n).data}function Pe(t){let i=document.createElement("canvas"),e=i.getContext("2d"),n=i.width=t.naturalWidth,a=i.height=t.naturalHeight;return e?.drawImage(t,0,0),{canvas:i,context:e,width:n,height:a}}function Ke(t,i){let e=t.length;for(let n=0;n<3;n++)i[n]=e/Math.pow(256,n)%256|0;i[3]=255;for(let n=4,a=0,r=i.length;n<r;n+=4,a+=3)i[n]=t[a]||0,i[n+1]=t[a+1]||0,i[n+2]=t[a+2]||0,i[n+3]=255;return i}function We(t){let i=0;for(let n=0;n<3;n++){let a=t[n]*Math.pow(256,n);i+=a}let e=new Uint8Array(i);t:for(let n=4,a=0,r=t.length;a<r;n+=4,a+=3)for(let f=0;f<3;f++){if(a+f>=i)break t;e[a+f]=t[n+f]}return e.buffer}async function ne(t){let i=new Uint8Array(t),e=Math.ceil(Math.sqrt(i.length/3+1)),n=new ImageData(e,e);return Ke(i,n.data),Un({width:e,height:e,data:n.data}).buffer}async function Ye(t){let i=await ne(t);return new Blob([i],{type:"image/png"})}async function Ge(t){if(!(t instanceof ArrayBuffer))throw new Error("Expected ArrayBuffer but got "+typeof t);let i=Rn(t);return We(new Uint8ClampedArray(i.data.buffer))}var{CompressionStream:Go,DecompressionStream:Xo,Response:ae}=globalThis,$t="gzip";async function re(t,i=$t){let e=new Go(i),n=new ae(t).body?.pipeThrough(e);return await new ae(n).arrayBuffer()}async function Sn(t,i=$t){let e=new Xo(i),n=new ae(t).body?.pipeThrough(e);return new ae(n)}async function oe(t,i=$t){return(await Sn(t,i)).arrayBuffer()}async function jo(t,i=$t){return(await Sn(t,i)).text()}var Vo=oe;function se(t){return new TextEncoder().encode(JSON.stringify(t)).buffer}function Mt(t){return JSON.parse(new TextDecoder().decode(t))}async function Jo(t){return await In(se(t))}async function Dn(t){return await Ye(await re(se(t)))}async function qo(t,i){return He(await Dn(t),i)}async function In(t){return await ne(await re(t))}async function Qo(t){return Mt(await fe(t))}async function fe(t){return await oe(await Ge(t))}function ts(t,i="compressed.png"){let e=URL.createObjectURL(t),n=document.createElement("a");n.download=i,n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(e)}async function Nn(t){let i=await zn(t);return await fe(i)}async function es(t){return Mt(await Nn(t))}async function zn(t){return new Promise((i,e)=>{let n=new FileReader;n.addEventListener("load",()=>{i(n.result)}),n.addEventListener("error",e),n.readAsArrayBuffer(t)})}window.PNGCompressor=Xe;})();
/*! Bundled license information:

pako/dist/pako.esm.mjs:
  (*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) *)
*/
//# sourceMappingURL=png-compressor.js.map
