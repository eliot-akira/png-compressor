(()=>{var Wi=Object.defineProperty;var w=(e,n)=>()=>(e&&(n=e(e=0)),n);var M=(e,n)=>{for(var t in n)Wi(e,t,{get:n[t],enumerable:!0})};var re,ue,H,yt,Xt=w(()=>{re=(a=>(a[a.Grayscale=0]="Grayscale",a[a.Truecolor=2]="Truecolor",a[a.Indexed=3]="Indexed",a[a.GrayscaleAndAlpha=4]="GrayscaleAndAlpha",a[a.TruecolorAndAlpha=6]="TruecolorAndAlpha",a))(re||{}),ue=(t=>(t[t.None=0]="None",t[t.Adam7=1]="Adam7",t))(ue||{}),H=(g=>(g.IHDR="IHDR",g.PLTE="PLTE",g.IDAT="IDAT",g.IEND="IEND",g.bKGD="bKGD",g.cHRM="cHRM",g.eXIf="eXIf",g.gAMA="gAMA",g.hIST="hIST",g.iCCP="iCCP",g.iTXt="iTXt",g.oFFs="oFFs",g.pCAL="pCAL",g.pHYs="pHYs",g.sBIT="sBIT",g.sCAL="sCAL",g.sPLT="sPLT",g.sRGB="sRGB",g.sTER="sTER",g.tEXt="tEXt",g.tIME="tIME",g.tRNS="tRNS",g.zTXt="zTXt",g))(H||{}),yt=(i=>(i[i.Perceptual=0]="Perceptual",i[i.RelativeColorimetric=1]="RelativeColorimetric",i[i.Saturation=2]="Saturation",i[i.AbsoluteColorimetric=3]="AbsoluteColorimetric",i))(yt||{})});var R,Vt,bt,U=w(()=>{Xt();R=(r=>(r[r.Length=4]="Length",r[r.Type=4]="Type",r[r.CRC=4]="CRC",r))(R||{}),Vt=(n=>(n[n.Adaptive=0]="Adaptive",n))(Vt||{}),bt=(a=>(a[a.None=0]="None",a[a.Sub=1]="Sub",a[a.Up=2]="Up",a[a.Average=3]="Average",a[a.Paeth=4]="Paeth",a))(bt||{})});function L(e,n){e.parsedChunks.has(n.type)&&Z(e,x(n,`Multiple ${n.type} chunks not allowed`,n.offset+4))}function B(e,n,t){if(n.dataLength!==t){let r=x(n,`Invalid data length: ${n.dataLength} !== ${t}`,n.offset);if(n.dataLength>t)Z(e,r);else throw r}}function J(e,n,t){if(n.dataLength<t)throw Pe(e,n,`Invalid data length: ${n.dataLength} < ${t}`,n.offset)}function k(e,n,t){e.parsedChunks.has(t)&&Z(e,x(n,`Must precede ${t}`,n.offset+4))}function Re(e,n,t){if(!e.parsedChunks.has(t))throw Pe(e,n,`Must follow ${t}`,n.offset+4)}function It(e,n,t){e.parsedChunks.has(t)&&Z(e,x(n,`Should not be present alongside ${t}`,n.offset+4))}function pe(e,n,t,r){t!==0&&Z(e,x(n,`Unknown compression method "${t}"`,r))}function Pe(e,n,t,r){return new $(e,`${n.type}: ${t}`,r)}function x(e,n,t){return new te(`${e.type}: ${n}`,t)}function Z(e,n){if(e.options.strictMode)throw n;e.warnings.push(n)}var $,te,z=w(()=>{U();$=class extends Error{constructor(t,r,i){super(r);this.offset=i;this.partiallyDecodedImage={details:"header"in t&&t.header?{width:t.header.width,height:t.header.height,bitDepth:t.header.bitDepth,colorType:t.header.colorType,interlaceMethod:t.header.interlaceMethod}:void 0,info:t.info,metadata:t.metadata,rawChunks:t.rawChunks,warnings:t.warnings}}};te=class extends Error{constructor(t,r){super(t);this.offset=r}}});function Fn(e,n){if(e.options.strictMode)throw n;e.warnings.push(n)}var ne,De,Xe=w(()=>{ne=class extends Error{constructor(t,r){super(t);this.offset=r}},De=class extends Error{constructor(t,r){super(t);this.offset=r}}});function Zn(e){let n=new Uint8Array(e.buffer),t=new Uint8Array(e.length);for(let r=0;r<t.length;r++)t[r]=n[r*2+1];return t}var $n=w(()=>{});function ze(e){let n=e.length;for(;--n>=0;)e[n]=0}function Kt(e,n,t,r,i){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function Yt(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}var Ki,Kn,Yi,qi,Ji,en,Je,We,Be,tn,Yn,ke,Wt,Qi,nn,qn,Jn,Qn,Jt,xt,eo,er,to,le,Ve,Ke,Ye,rn,Ct,tr,nr,rr,ar,qe,K,ae,ir,no,ro,or,ao,sr,lr,Gn,qt,jn,Qt,Xn,Vn,io,oo,so,Wn,lo,fr,fo,co,ho,dr,Pt,cr,fe,hr,ur=w(()=>{Ki=0,Kn=1,Yi=2,qi=3,Ji=258,en=29,Je=256,We=Je+1+en,Be=30,tn=19,Yn=2*We+1,ke=15,Wt=16,Qi=7,nn=256,qn=16,Jn=17,Qn=18,Jt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),xt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),eo=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),er=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),to=512,le=new Array((We+2)*2);ze(le);Ve=new Array(Be*2);ze(Ve);Ke=new Array(to);ze(Ke);Ye=new Array(Ji-qi+1);ze(Ye);rn=new Array(en);ze(rn);Ct=new Array(Be);ze(Ct);ar=e=>e<256?Ke[e]:Ke[256+(e>>>7)],qe=(e,n)=>{e.pending_buf[e.pending++]=n&255,e.pending_buf[e.pending++]=n>>>8&255},K=(e,n,t)=>{e.bi_valid>Wt-t?(e.bi_buf|=n<<e.bi_valid&65535,qe(e,e.bi_buf),e.bi_buf=n>>Wt-e.bi_valid,e.bi_valid+=t-Wt):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)},ae=(e,n,t)=>{K(e,t[n*2],t[n*2+1])},ir=(e,n)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--n>0);return t>>>1},no=e=>{e.bi_valid===16?(qe(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},ro=(e,n)=>{let t=n.dyn_tree,r=n.max_code,i=n.stat_desc.static_tree,a=n.stat_desc.has_stree,o=n.stat_desc.extra_bits,s=n.stat_desc.extra_base,d=n.stat_desc.max_length,l,f,c,u,h,_,D=0;for(u=0;u<=ke;u++)e.bl_count[u]=0;for(t[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<Yn;l++)f=e.heap[l],u=t[t[f*2+1]*2+1]+1,u>d&&(u=d,D++),t[f*2+1]=u,!(f>r)&&(e.bl_count[u]++,h=0,f>=s&&(h=o[f-s]),_=t[f*2],e.opt_len+=_*(u+h),a&&(e.static_len+=_*(i[f*2+1]+h)));if(D!==0){do{for(u=d-1;e.bl_count[u]===0;)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[d]--,D-=2}while(D>0);for(u=d;u!==0;u--)for(f=e.bl_count[u];f!==0;)c=e.heap[--l],!(c>r)&&(t[c*2+1]!==u&&(e.opt_len+=(u-t[c*2+1])*t[c*2],t[c*2+1]=u),f--)}},or=(e,n,t)=>{let r=new Array(ke+1),i=0,a,o;for(a=1;a<=ke;a++)i=i+t[a-1]<<1,r[a]=i;for(o=0;o<=n;o++){let s=e[o*2+1];s!==0&&(e[o*2]=ir(r[s]++,s))}},ao=()=>{let e,n,t,r,i,a=new Array(ke+1);for(t=0,r=0;r<en-1;r++)for(rn[r]=t,e=0;e<1<<Jt[r];e++)Ye[t++]=r;for(Ye[t-1]=r,i=0,r=0;r<16;r++)for(Ct[r]=i,e=0;e<1<<xt[r];e++)Ke[i++]=r;for(i>>=7;r<Be;r++)for(Ct[r]=i<<7,e=0;e<1<<xt[r]-7;e++)Ke[256+i++]=r;for(n=0;n<=ke;n++)a[n]=0;for(e=0;e<=143;)le[e*2+1]=8,e++,a[8]++;for(;e<=255;)le[e*2+1]=9,e++,a[9]++;for(;e<=279;)le[e*2+1]=7,e++,a[7]++;for(;e<=287;)le[e*2+1]=8,e++,a[8]++;for(or(le,We+1,a),e=0;e<Be;e++)Ve[e*2+1]=5,Ve[e*2]=ir(e,5);tr=new Kt(le,Jt,Je+1,We,ke),nr=new Kt(Ve,xt,0,Be,ke),rr=new Kt(new Array(0),eo,0,tn,Qi)},sr=e=>{let n;for(n=0;n<We;n++)e.dyn_ltree[n*2]=0;for(n=0;n<Be;n++)e.dyn_dtree[n*2]=0;for(n=0;n<tn;n++)e.bl_tree[n*2]=0;e.dyn_ltree[nn*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},lr=e=>{e.bi_valid>8?qe(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Gn=(e,n,t,r)=>{let i=n*2,a=t*2;return e[i]<e[a]||e[i]===e[a]&&r[n]<=r[t]},qt=(e,n,t)=>{let r=e.heap[t],i=t<<1;for(;i<=e.heap_len&&(i<e.heap_len&&Gn(n,e.heap[i+1],e.heap[i],e.depth)&&i++,!Gn(n,r,e.heap[i],e.depth));)e.heap[t]=e.heap[i],t=i,i<<=1;e.heap[t]=r},jn=(e,n,t)=>{let r,i,a=0,o,s;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+a++]&255,r+=(e.pending_buf[e.sym_buf+a++]&255)<<8,i=e.pending_buf[e.sym_buf+a++],r===0?ae(e,i,n):(o=Ye[i],ae(e,o+Je+1,n),s=Jt[o],s!==0&&(i-=rn[o],K(e,i,s)),r--,o=ar(r),ae(e,o,t),s=xt[o],s!==0&&(r-=Ct[o],K(e,r,s)));while(a<e.sym_next);ae(e,nn,n)},Qt=(e,n)=>{let t=n.dyn_tree,r=n.stat_desc.static_tree,i=n.stat_desc.has_stree,a=n.stat_desc.elems,o,s,d=-1,l;for(e.heap_len=0,e.heap_max=Yn,o=0;o<a;o++)t[o*2]!==0?(e.heap[++e.heap_len]=d=o,e.depth[o]=0):t[o*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=d<2?++d:0,t[l*2]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[l*2+1]);for(n.max_code=d,o=e.heap_len>>1;o>=1;o--)qt(e,t,o);l=a;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],qt(e,t,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,t[l*2]=t[o*2]+t[s*2],e.depth[l]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,t[o*2+1]=t[s*2+1]=l,e.heap[1]=l++,qt(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],ro(e,n),or(t,d,e.bl_count)},Xn=(e,n,t)=>{let r,i=-1,a,o=n[1],s=0,d=7,l=4;for(o===0&&(d=138,l=3),n[(t+1)*2+1]=65535,r=0;r<=t;r++)a=o,o=n[(r+1)*2+1],!(++s<d&&a===o)&&(s<l?e.bl_tree[a*2]+=s:a!==0?(a!==i&&e.bl_tree[a*2]++,e.bl_tree[qn*2]++):s<=10?e.bl_tree[Jn*2]++:e.bl_tree[Qn*2]++,s=0,i=a,o===0?(d=138,l=3):a===o?(d=6,l=3):(d=7,l=4))},Vn=(e,n,t)=>{let r,i=-1,a,o=n[1],s=0,d=7,l=4;for(o===0&&(d=138,l=3),r=0;r<=t;r++)if(a=o,o=n[(r+1)*2+1],!(++s<d&&a===o)){if(s<l)do ae(e,a,e.bl_tree);while(--s!==0);else a!==0?(a!==i&&(ae(e,a,e.bl_tree),s--),ae(e,qn,e.bl_tree),K(e,s-3,2)):s<=10?(ae(e,Jn,e.bl_tree),K(e,s-3,3)):(ae(e,Qn,e.bl_tree),K(e,s-11,7));s=0,i=a,o===0?(d=138,l=3):a===o?(d=6,l=3):(d=7,l=4)}},io=e=>{let n;for(Xn(e,e.dyn_ltree,e.l_desc.max_code),Xn(e,e.dyn_dtree,e.d_desc.max_code),Qt(e,e.bl_desc),n=tn-1;n>=3&&e.bl_tree[er[n]*2+1]===0;n--);return e.opt_len+=3*(n+1)+5+5+4,n},oo=(e,n,t,r)=>{let i;for(K(e,n-257,5),K(e,t-1,5),K(e,r-4,4),i=0;i<r;i++)K(e,e.bl_tree[er[i]*2+1],3);Vn(e,e.dyn_ltree,n-1),Vn(e,e.dyn_dtree,t-1)},so=e=>{let n=4093624447,t;for(t=0;t<=31;t++,n>>>=1)if(n&1&&e.dyn_ltree[t*2]!==0)return 0;if(e.dyn_ltree[18]!==0||e.dyn_ltree[20]!==0||e.dyn_ltree[26]!==0)return 1;for(t=32;t<Je;t++)if(e.dyn_ltree[t*2]!==0)return 1;return 0},Wn=!1,lo=e=>{Wn||(ao(),Wn=!0),e.l_desc=new Yt(e.dyn_ltree,tr),e.d_desc=new Yt(e.dyn_dtree,nr),e.bl_desc=new Yt(e.bl_tree,rr),e.bi_buf=0,e.bi_valid=0,sr(e)},fr=(e,n,t,r)=>{K(e,(Ki<<1)+(r?1:0),3),lr(e),qe(e,t),qe(e,~t),t&&e.pending_buf.set(e.window.subarray(n,n+t),e.pending),e.pending+=t},fo=e=>{K(e,Kn<<1,3),ae(e,nn,le),no(e)},co=(e,n,t,r)=>{let i,a,o=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=so(e)),Qt(e,e.l_desc),Qt(e,e.d_desc),o=io(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=t+5,t+4<=i&&n!==-1?fr(e,n,t,r):e.strategy===4||a===i?(K(e,(Kn<<1)+(r?1:0),3),jn(e,le,Ve)):(K(e,(Yi<<1)+(r?1:0),3),oo(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),jn(e,e.dyn_ltree,e.dyn_dtree)),sr(e),r&&lr(e)},ho=(e,n,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=n,e.pending_buf[e.sym_buf+e.sym_next++]=n>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,n===0?e.dyn_ltree[t*2]++:(e.matches++,n--,e.dyn_ltree[(Ye[t]+Je+1)*2]++,e.dyn_dtree[ar(n)*2]++),e.sym_next===e.sym_end),dr=lo,Pt=fr,cr=co,fe=ho,hr=fo});var uo,Te,an=w(()=>{uo=(e,n,t,r)=>{let i=e&65535|0,a=e>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do i=i+n[r++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0},Te=uo});var po,go,mo,G,on=w(()=>{po=()=>{let e,n=[];for(var t=0;t<256;t++){e=t;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;n[t]=e}return n},go=new Uint32Array(po()),mo=(e,n,t,r)=>{let i=go,a=r+t;e^=-1;for(let o=r;o<a;o++)e=e>>>8^i[(e^n[o])&255];return e^-1},G=mo});var de,Dt=w(()=>{"use strict";de={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var ge=w(()=>{});function ie(e,n,t,r,i){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=r,this.func=i}function Bo(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(To*2),this.dyn_dtree=new Uint16Array((2*Do+1)*2),this.bl_tree=new Uint16Array((2*ko+1)*2),me(this.dyn_ltree),me(this.dyn_dtree),me(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Eo+1),this.heap=new Uint16Array(2*fn+1),me(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*fn+1),me(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var xo,Co,Po,fn,Do,ko,To,Eo,A,_e,oe,Ao,Ne,_n,dn,cn,hn,un,Ee,et,W,Fe,ve,Ze,vo,Ae,pr,me,Uo,So,we,Y,q,S,Qe,pn,mr,He,_r,ln,Oe,Mo,Lo,tt,Ro,rt,zo,Oo,No,Ho,Fo,Zo,$o,wr,yr,br,Ir,xr,Cr=w(()=>{ur();an();on();Dt();ge();xo=9,Co=29,Po=256,fn=Po+1+Co,Do=30,ko=19,To=2*fn+1,Eo=15,A=3,_e=258,oe=_e+A+1,Ao=32,Ne=42,_n=57,dn=69,cn=73,hn=91,un=103,Ee=113,et=666,W=1,Fe=2,ve=3,Ze=4,vo=3,Ae=(e,n)=>(e.msg=de[n],n),pr=e=>e*2-(e>4?9:0),me=e=>{let n=e.length;for(;--n>=0;)e[n]=0},Uo=e=>{let n,t,r,i=e.w_size;n=e.hash_size,r=n;do t=e.head[--r],e.head[r]=t>=i?t-i:0;while(--n);n=i,r=n;do t=e.prev[--r],e.prev[r]=t>=i?t-i:0;while(--n)},So=(e,n,t)=>(n<<e.hash_shift^t)&e.hash_mask,we=So,Y=e=>{let n=e.state,t=n.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+t),e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,n.pending===0&&(n.pending_out=0))},q=(e,n)=>{cr(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,Y(e.strm)},S=(e,n)=>{e.pending_buf[e.pending++]=n},Qe=(e,n)=>{e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=n&255},pn=(e,n,t,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,n.set(e.input.subarray(e.next_in,e.next_in+i),t),e.state.wrap===1?e.adler=Te(e.adler,n,i,t):e.state.wrap===2&&(e.adler=G(e.adler,n,i,t)),e.next_in+=i,e.total_in+=i,i)},mr=(e,n)=>{let t=e.max_chain_length,r=e.strstart,i,a,o=e.prev_length,s=e.nice_match,d=e.strstart>e.w_size-oe?e.strstart-(e.w_size-oe):0,l=e.window,f=e.w_mask,c=e.prev,u=e.strstart+_e,h=l[r+o-1],_=l[r+o];e.prev_length>=e.good_match&&(t>>=2),s>e.lookahead&&(s=e.lookahead);do if(i=n,!(l[i+o]!==_||l[i+o-1]!==h||l[i]!==l[r]||l[++i]!==l[r+1])){r+=2,i++;do;while(l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&l[++r]===l[++i]&&r<u);if(a=_e-(u-r),r=u-_e,a>o){if(e.match_start=n,o=a,a>=s)break;h=l[r+o-1],_=l[r+o]}}while((n=c[n&f])>d&&--t!==0);return o<=e.lookahead?o:e.lookahead},He=e=>{let n=e.w_size,t,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=n+(n-oe)&&(e.window.set(e.window.subarray(n,n+n-r),0),e.match_start-=n,e.strstart-=n,e.block_start-=n,e.insert>e.strstart&&(e.insert=e.strstart),Uo(e),r+=n),e.strm.avail_in===0)break;if(t=pn(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=t,e.lookahead+e.insert>=A)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=we(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=we(e,e.ins_h,e.window[i+A-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<A)););}while(e.lookahead<oe&&e.strm.avail_in!==0)},_r=(e,n)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,a,o=0,s=e.strm.avail_in;do{if(r=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>a&&(r=a),r<t&&(r===0&&n!==4||n===0||r!==i+e.strm.avail_in)))break;o=n===4&&r===i+e.strm.avail_in?1:0,Pt(e,0,0,o),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Y(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(pn(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(o===0);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?Ze:n!==0&&n!==4&&e.strm.avail_in===0&&e.strstart===e.block_start?Fe:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(pn(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,t=a>e.w_size?e.w_size:a,i=e.strstart-e.block_start,(i>=t||(i||n===4)&&n!==0&&e.strm.avail_in===0&&i<=a)&&(r=i>a?a:i,o=n===4&&e.strm.avail_in===0&&r===i?1:0,Pt(e,e.block_start,r,o),e.block_start+=r,Y(e.strm)),o?ve:W)},ln=(e,n)=>{let t,r;for(;;){if(e.lookahead<oe){if(He(e),e.lookahead<oe&&n===0)return W;if(e.lookahead===0)break}if(t=0,e.lookahead>=A&&(e.ins_h=we(e,e.ins_h,e.window[e.strstart+A-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-oe&&(e.match_length=mr(e,t)),e.match_length>=A)if(r=fe(e,e.strstart-e.match_start,e.match_length-A),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=A){e.match_length--;do e.strstart++,e.ins_h=we(e,e.ins_h,e.window[e.strstart+A-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=we(e,e.ins_h,e.window[e.strstart+1]);else r=fe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(q(e,!1),e.strm.avail_out===0))return W}return e.insert=e.strstart<A-1?e.strstart:A-1,n===4?(q(e,!0),e.strm.avail_out===0?ve:Ze):e.sym_next&&(q(e,!1),e.strm.avail_out===0)?W:Fe},Oe=(e,n)=>{let t,r,i;for(;;){if(e.lookahead<oe){if(He(e),e.lookahead<oe&&n===0)return W;if(e.lookahead===0)break}if(t=0,e.lookahead>=A&&(e.ins_h=we(e,e.ins_h,e.window[e.strstart+A-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=A-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-oe&&(e.match_length=mr(e,t),e.match_length<=5&&(e.strategy===1||e.match_length===A&&e.strstart-e.match_start>4096)&&(e.match_length=A-1)),e.prev_length>=A&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-A,r=fe(e,e.strstart-1-e.prev_match,e.prev_length-A),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=we(e,e.ins_h,e.window[e.strstart+A-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=A-1,e.strstart++,r&&(q(e,!1),e.strm.avail_out===0))return W}else if(e.match_available){if(r=fe(e,0,e.window[e.strstart-1]),r&&q(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return W}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=fe(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<A-1?e.strstart:A-1,n===4?(q(e,!0),e.strm.avail_out===0?ve:Ze):e.sym_next&&(q(e,!1),e.strm.avail_out===0)?W:Fe},Mo=(e,n)=>{let t,r,i,a,o=e.window;for(;;){if(e.lookahead<=_e){if(He(e),e.lookahead<=_e&&n===0)return W;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=A&&e.strstart>0&&(i=e.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){a=e.strstart+_e;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<a);e.match_length=_e-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=A?(t=fe(e,1,e.match_length-A),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=fe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(q(e,!1),e.strm.avail_out===0))return W}return e.insert=0,n===4?(q(e,!0),e.strm.avail_out===0?ve:Ze):e.sym_next&&(q(e,!1),e.strm.avail_out===0)?W:Fe},Lo=(e,n)=>{let t;for(;;){if(e.lookahead===0&&(He(e),e.lookahead===0)){if(n===0)return W;break}if(e.match_length=0,t=fe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(q(e,!1),e.strm.avail_out===0))return W}return e.insert=0,n===4?(q(e,!0),e.strm.avail_out===0?ve:Ze):e.sym_next&&(q(e,!1),e.strm.avail_out===0)?W:Fe};tt=[new ie(0,0,0,0,_r),new ie(4,4,8,4,ln),new ie(4,5,16,8,ln),new ie(4,6,32,32,ln),new ie(4,4,16,16,Oe),new ie(8,16,32,32,Oe),new ie(8,16,128,128,Oe),new ie(8,32,128,256,Oe),new ie(32,128,258,1024,Oe),new ie(32,258,258,4096,Oe)],Ro=e=>{e.window_size=2*e.w_size,me(e.head),e.max_lazy_match=tt[e.level].max_lazy,e.good_match=tt[e.level].good_length,e.nice_match=tt[e.level].nice_length,e.max_chain_length=tt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=A-1,e.match_available=0,e.ins_h=0};rt=e=>{if(!e)return 1;let n=e.state;return!n||n.strm!==e||n.status!==Ne&&n.status!==_n&&n.status!==dn&&n.status!==cn&&n.status!==hn&&n.status!==un&&n.status!==Ee&&n.status!==et?1:0},zo=e=>{if(rt(e))return Ae(e,-2);e.total_in=e.total_out=0,e.data_type=2;let n=e.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap===2?_n:n.wrap?Ne:Ee,e.adler=n.wrap===2?0:1,n.last_flush=-2,dr(n),0},Oo=e=>{let n=zo(e);return n===0&&Ro(e.state),n},No=(e,n)=>rt(e)||e.state.wrap!==2?-2:(e.state.gzhead=n,0),Ho=(e,n,t,r,i,a)=>{if(!e)return-2;let o=1;if(n===-1&&(n=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>xo||t!==8||r<8||r>15||n<0||n>9||a<0||a>4||r===8&&o!==1)return Ae(e,-2);r===8&&(r=9);let s=new Bo;return e.state=s,s.strm=e,s.status=Ne,s.wrap=o,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+A-1)/A),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=n,s.strategy=a,s.method=t,Oo(e)},Fo=(e,n)=>{if(rt(e)||n>5||n<0)return e?Ae(e,-2):-2;let t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===et&&n!==4)return Ae(e,e.avail_out===0?-5:-2);let r=t.last_flush;if(t.last_flush=n,t.pending!==0){if(Y(e),e.avail_out===0)return t.last_flush=-1,0}else if(e.avail_in===0&&pr(n)<=pr(r)&&n!==4)return Ae(e,-5);if(t.status===et&&e.avail_in!==0)return Ae(e,-5);if(t.status===Ne&&t.wrap===0&&(t.status=Ee),t.status===Ne){let i=8+(t.w_bits-8<<4)<<8,a=-1;if(t.strategy>=2||t.level<2?a=0:t.level<6?a=1:t.level===6?a=2:a=3,i|=a<<6,t.strstart!==0&&(i|=Ao),i+=31-i%31,Qe(t,i),t.strstart!==0&&(Qe(t,e.adler>>>16),Qe(t,e.adler&65535)),e.adler=1,t.status=Ee,Y(e),t.pending!==0)return t.last_flush=-1,0}if(t.status===_n){if(e.adler=0,S(t,31),S(t,139),S(t,8),t.gzhead)S(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),S(t,t.gzhead.time&255),S(t,t.gzhead.time>>8&255),S(t,t.gzhead.time>>16&255),S(t,t.gzhead.time>>24&255),S(t,t.level===9?2:t.strategy>=2||t.level<2?4:0),S(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(S(t,t.gzhead.extra.length&255),S(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=G(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=dn;else if(S(t,0),S(t,0),S(t,0),S(t,0),S(t,0),S(t,t.level===9?2:t.strategy>=2||t.level<2?4:0),S(t,vo),t.status=Ee,Y(e),t.pending!==0)return t.last_flush=-1,0}if(t.status===dn){if(t.gzhead.extra){let i=t.pending,a=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+a>t.pending_buf_size;){let s=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>i&&(e.adler=G(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex+=s,Y(e),t.pending!==0)return t.last_flush=-1,0;i=0,a-=s}let o=new Uint8Array(t.gzhead.extra);t.pending_buf.set(o.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending+=a,t.gzhead.hcrc&&t.pending>i&&(e.adler=G(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=cn}if(t.status===cn){if(t.gzhead.name){let i=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(e.adler=G(e.adler,t.pending_buf,t.pending-i,i)),Y(e),t.pending!==0)return t.last_flush=-1,0;i=0}t.gzindex<t.gzhead.name.length?a=t.gzhead.name.charCodeAt(t.gzindex++)&255:a=0,S(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>i&&(e.adler=G(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=hn}if(t.status===hn){if(t.gzhead.comment){let i=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(e.adler=G(e.adler,t.pending_buf,t.pending-i,i)),Y(e),t.pending!==0)return t.last_flush=-1,0;i=0}t.gzindex<t.gzhead.comment.length?a=t.gzhead.comment.charCodeAt(t.gzindex++)&255:a=0,S(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>i&&(e.adler=G(e.adler,t.pending_buf,t.pending-i,i))}t.status=un}if(t.status===un){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(Y(e),t.pending!==0))return t.last_flush=-1,0;S(t,e.adler&255),S(t,e.adler>>8&255),e.adler=0}if(t.status=Ee,Y(e),t.pending!==0)return t.last_flush=-1,0}if(e.avail_in!==0||t.lookahead!==0||n!==0&&t.status!==et){let i=t.level===0?_r(t,n):t.strategy===2?Lo(t,n):t.strategy===3?Mo(t,n):tt[t.level].func(t,n);if((i===ve||i===Ze)&&(t.status=et),i===W||i===ve)return e.avail_out===0&&(t.last_flush=-1),0;if(i===Fe&&(n===1?hr(t):n!==5&&(Pt(t,0,0,!1),n===3&&(me(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),Y(e),e.avail_out===0))return t.last_flush=-1,0}return n!==4?0:t.wrap<=0?1:(t.wrap===2?(S(t,e.adler&255),S(t,e.adler>>8&255),S(t,e.adler>>16&255),S(t,e.adler>>24&255),S(t,e.total_in&255),S(t,e.total_in>>8&255),S(t,e.total_in>>16&255),S(t,e.total_in>>24&255)):(Qe(t,e.adler>>>16),Qe(t,e.adler&65535)),Y(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?0:1)},Zo=e=>{if(rt(e))return-2;let n=e.state.status;return e.state=null,n===Ee?Ae(e,-3):0},$o=(e,n)=>{let t=n.length;if(rt(e))return-2;let r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==Ne||r.lookahead)return-2;if(i===1&&(e.adler=Te(e.adler,n,t,0)),r.wrap=0,t>=r.w_size){i===0&&(me(r.head),r.strstart=0,r.block_start=0,r.insert=0);let d=new Uint8Array(r.w_size);d.set(n.subarray(t-r.w_size,t),0),n=d,t=r.w_size}let a=e.avail_in,o=e.next_in,s=e.input;for(e.avail_in=t,e.next_in=0,e.input=n,He(r);r.lookahead>=A;){let d=r.strstart,l=r.lookahead-(A-1);do r.ins_h=we(r,r.ins_h,r.window[d+A-1]),r.prev[d&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=d,d++;while(--l);r.strstart=d,r.lookahead=A-1,He(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=A-1,r.match_available=0,e.next_in=o,e.input=s,e.avail_in=a,r.wrap=i,0},wr=Ho,yr=No,br=Fo,Ir=Zo,xr=$o});function Et(e,...n){for(;n.length;){let t=n.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(let r in t)Go(t,r)&&(e[r]=t[r])}}return e}function At(e){let n=0;for(let r=0,i=e.length;r<i;r++)n+=e[r].length;let t=new Uint8Array(n);for(let r=0,i=0,a=e.length;r<a;r++){let o=e[r];t.set(o,i),i+=o.length}return t}var Go,wn=w(()=>{Go=(e,n)=>Object.prototype.hasOwnProperty.call(e,n)});function it(e){if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let n,t,r,i,a,o=e.length,s=0;for(i=0;i<o;i++)t=e.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),s+=t<128?1:t<2048?2:t<65536?3:4;for(n=new Uint8Array(s),a=0,i=0;a<s;i++)t=e.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?n[a++]=t:t<2048?(n[a++]=192|t>>>6,n[a++]=128|t&63):t<65536?(n[a++]=224|t>>>12,n[a++]=128|t>>>6&63,n[a++]=128|t&63):(n[a++]=240|t>>>18,n[a++]=128|t>>>12&63,n[a++]=128|t>>>6&63,n[a++]=128|t&63);return n}function Dr(e,n){let t=n||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,n));let r,i,a=new Array(t*2);for(i=0,r=0;r<t;){let o=e[r++];if(o<128){a[i++]=o;continue}let s=at[o];if(s>4){a[i++]=65533,r+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&r<t;)o=o<<6|e[r++]&63,s--;if(s>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return jo(a,i)}function kr(e,n){n=n||e.length,n>e.length&&(n=e.length);let t=n-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?n:t+at[e[t]]>n?t:n}var Pr,at,jo,yn=w(()=>{Pr=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Pr=!1}at=new Uint8Array(256);for(let e=0;e<256;e++)at[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;at[254]=at[254]=1;jo=(e,n)=>{if(n<65534&&e.subarray&&Pr)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));let t="";for(let r=0;r<n;r++)t+=String.fromCharCode(e[r]);return t}});function Xo(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var vt,bn=w(()=>{vt=Xo});function ot(e){this.options=Et({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0},e||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new vt,this.strm.avail_out=0;let t=wr(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==0)throw new Error(de[t]);if(n.header&&yr(this.strm,n.header),n.dictionary){let r;if(typeof n.dictionary=="string"?r=it(n.dictionary):Tr.call(n.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(n.dictionary):r=n.dictionary,t=xr(this.strm,r),t!==0)throw new Error(de[t]);this._dict_set=!0}}function st(e,n={}){let t=new ot(n);if(t.push(e,!0),t.err)throw t.msg||de[t.err];return t.result}var Tr,Er=w(()=>{Cr();wn();yn();Dt();bn();ge();ge();Tr=Object.prototype.toString;ot.prototype.push=function(e,n){let t=this.strm,r=this.options.chunkSize,i,a;if(this.ended)return!1;for(n===~~n?a=n:a=n===!0?4:0,typeof e=="string"?t.input=it(e):Tr.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(a===2||a===3)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(i=br(t,a),i===1)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),i=Ir(this.strm),this.onEnd(i),this.ended=!0,i===0;if(t.avail_out===0){this.onData(t.output);continue}if(a>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};ot.prototype.onData=function(e){this.chunks.push(e)};ot.prototype.onEnd=function(e){e===0&&(this.result=At(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}});function In(e,n){let t,r,i,a,o,s,d,l,f,c,u,h,_,D,I,y,m,p,P,F,E,g,v,b,C=e.state;t=e.next_in,v=e.input,r=t+(e.avail_in-5),i=e.next_out,b=e.output,a=i-(n-e.avail_out),o=i+(e.avail_out-257),s=C.dmax,d=C.wsize,l=C.whave,f=C.wnext,c=C.window,u=C.hold,h=C.bits,_=C.lencode,D=C.distcode,I=(1<<C.lenbits)-1,y=(1<<C.distbits)-1;e:do{h<15&&(u+=v[t++]<<h,h+=8,u+=v[t++]<<h,h+=8),m=_[u&I];t:for(;;){if(p=m>>>24,u>>>=p,h-=p,p=m>>>16&255,p===0)b[i++]=m&65535;else if(p&16){P=m&65535,p&=15,p&&(h<p&&(u+=v[t++]<<h,h+=8),P+=u&(1<<p)-1,u>>>=p,h-=p),h<15&&(u+=v[t++]<<h,h+=8,u+=v[t++]<<h,h+=8),m=D[u&y];n:for(;;){if(p=m>>>24,u>>>=p,h-=p,p=m>>>16&255,p&16){if(F=m&65535,p&=15,h<p&&(u+=v[t++]<<h,h+=8,h<p&&(u+=v[t++]<<h,h+=8)),F+=u&(1<<p)-1,F>s){e.msg="invalid distance too far back",C.mode=16209;break e}if(u>>>=p,h-=p,p=i-a,F>p){if(p=F-p,p>l&&C.sane){e.msg="invalid distance too far back",C.mode=16209;break e}if(E=0,g=c,f===0){if(E+=d-p,p<P){P-=p;do b[i++]=c[E++];while(--p);E=i-F,g=b}}else if(f<p){if(E+=d+f-p,p-=f,p<P){P-=p;do b[i++]=c[E++];while(--p);if(E=0,f<P){p=f,P-=p;do b[i++]=c[E++];while(--p);E=i-F,g=b}}}else if(E+=f-p,p<P){P-=p;do b[i++]=c[E++];while(--p);E=i-F,g=b}for(;P>2;)b[i++]=g[E++],b[i++]=g[E++],b[i++]=g[E++],P-=3;P&&(b[i++]=g[E++],P>1&&(b[i++]=g[E++]))}else{E=i-F;do b[i++]=b[E++],b[i++]=b[E++],b[i++]=b[E++],P-=3;while(P>2);P&&(b[i++]=b[E++],P>1&&(b[i++]=b[E++]))}}else if((p&64)===0){m=D[(m&65535)+(u&(1<<p)-1)];continue n}else{e.msg="invalid distance code",C.mode=16209;break e}break}}else if((p&64)===0){m=_[(m&65535)+(u&(1<<p)-1)];continue t}else if(p&32){C.mode=16191;break e}else{e.msg="invalid literal/length code",C.mode=16209;break e}break}}while(t<r&&i<o);P=h>>3,t-=P,h-=P<<3,u&=(1<<h)-1,e.next_in=t,e.next_out=i,e.avail_in=t<r?5+(r-t):5-(t-r),e.avail_out=i<o?257+(o-i):257-(i-o),C.hold=u,C.bits=h}var Ar=w(()=>{});var Wo,Ko,Yo,qo,Jo,$e,vr=w(()=>{Wo=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ko=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Yo=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),qo=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Jo=(e,n,t,r,i,a,o,s)=>{let d=s.bits,l=0,f=0,c=0,u=0,h=0,_=0,D=0,I=0,y=0,m=0,p,P,F,E,g,v=null,b,C=new Uint16Array(16),V=new Uint16Array(16),Ce=null,Hn,_t,wt;for(l=0;l<=15;l++)C[l]=0;for(f=0;f<r;f++)C[n[t+f]]++;for(h=d,u=15;u>=1&&C[u]===0;u--);if(h>u&&(h=u),u===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,s.bits=1,0;for(c=1;c<u&&C[c]===0;c++);for(h<c&&(h=c),I=1,l=1;l<=15;l++)if(I<<=1,I-=C[l],I<0)return-1;if(I>0&&(e===0||u!==1))return-1;for(V[1]=0,l=1;l<15;l++)V[l+1]=V[l]+C[l];for(f=0;f<r;f++)n[t+f]!==0&&(o[V[n[t+f]]++]=f);if(e===0?(v=Ce=o,b=20):e===1?(v=Wo,Ce=Ko,b=257):(v=Yo,Ce=qo,b=0),m=0,f=0,l=c,g=a,_=h,D=0,F=-1,y=1<<h,E=y-1,e===1&&y>852||e===2&&y>592)return 1;for(;;){Hn=l-D,o[f]+1<b?(_t=0,wt=o[f]):o[f]>=b?(_t=Ce[o[f]-b],wt=v[o[f]-b]):(_t=96,wt=0),p=1<<l-D,P=1<<_,c=P;do P-=p,i[g+(m>>D)+P]=Hn<<24|_t<<16|wt|0;while(P!==0);for(p=1<<l-1;m&p;)p>>=1;if(p!==0?(m&=p-1,m+=p):m=0,f++,--C[l]===0){if(l===u)break;l=n[t+o[f]]}if(l>h&&(m&E)!==F){for(D===0&&(D=h),g+=c,_=l-D,I=1<<_;_+D<u&&(I-=C[_+D],!(I<=0));)_++,I<<=1;if(y+=1<<_,e===1&&y>852||e===2&&y>592)return 1;F=m&E,i[F]=h<<24|_<<16|g-a|0}}return m!==0&&(i[g+m]=l-D<<24|64<<16|0),s.bits=h,0},$e=Jo});function ns(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Qo,ea,ta,Rt,Ur,Sr,Mr,Lr,Rr,Br,zr,Or,Nr,Lt,ce,xn,Hr,Cn,Fr,Zr,$r,Gr,St,Mt,jr,Xr,Vr,Wr,Kr,Pn,Yr,qr,N,Tn,na,es,ts,Jr,Se,rs,ra,as,is,Qr,Dn,kn,os,aa,ss,ls,fs,ds,ia,oa,Bt,sa,la,En,fa=w(()=>{an();on();Ar();vr();ge();Qo=0,ea=1,ta=2,Rt=16180,Ur=16181,Sr=16182,Mr=16183,Lr=16184,Rr=16185,Br=16186,zr=16187,Or=16188,Nr=16189,Lt=16190,ce=16191,xn=16192,Hr=16193,Cn=16194,Fr=16195,Zr=16196,$r=16197,Gr=16198,St=16199,Mt=16200,jr=16201,Xr=16202,Vr=16203,Wr=16204,Kr=16205,Pn=16206,Yr=16207,qr=16208,N=16209,Tn=16210,na=16211,es=852,ts=592,Jr=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);Se=e=>{if(!e)return 1;let n=e.state;return!n||n.strm!==e||n.mode<Rt||n.mode>na?1:0},rs=e=>{if(Se(e))return-2;let n=e.state;return e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=n.wrap&1),n.mode=Rt,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(es),n.distcode=n.distdyn=new Int32Array(ts),n.sane=1,n.back=-1,0},ra=e=>{if(Se(e))return-2;let n=e.state;return n.wsize=0,n.whave=0,n.wnext=0,rs(e)},as=(e,n)=>{let t;if(Se(e))return-2;let r=e.state;return n<0?(t=0,n=-n):(t=(n>>4)+5,n<48&&(n&=15)),n&&(n<8||n>15)?-2:(r.window!==null&&r.wbits!==n&&(r.window=null),r.wrap=t,r.wbits=n,ra(e))},is=(e,n)=>{if(!e)return-2;let t=new ns;e.state=t,t.strm=e,t.window=null,t.mode=Rt;let r=as(e,n);return r!==0&&(e.state=null),r},Qr=!0,os=e=>{if(Qr){Dn=new Int32Array(512),kn=new Int32Array(32);let n=0;for(;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for($e(ea,e.lens,0,288,Dn,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;$e(ta,e.lens,0,32,kn,0,e.work,{bits:5}),Qr=!1}e.lencode=Dn,e.lenbits=9,e.distcode=kn,e.distbits=5},aa=(e,n,t,r)=>{let i,a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(n.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(n.subarray(t-r,t-r+i),a.wnext),r-=i,r?(a.window.set(n.subarray(t-r,t),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},ss=(e,n)=>{let t,r,i,a,o,s,d,l,f,c,u,h,_,D,I=0,y,m,p,P,F,E,g,v,b=new Uint8Array(4),C,V,Ce=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Se(e)||!e.output||!e.input&&e.avail_in!==0)return-2;t=e.state,t.mode===ce&&(t.mode=xn),o=e.next_out,i=e.output,d=e.avail_out,a=e.next_in,r=e.input,s=e.avail_in,l=t.hold,f=t.bits,c=s,u=d,v=0;e:for(;;)switch(t.mode){case Rt:if(t.wrap===0){t.mode=xn;break}for(;f<16;){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}if(t.wrap&2&&l===35615){t.wbits===0&&(t.wbits=15),t.check=0,b[0]=l&255,b[1]=l>>>8&255,t.check=G(t.check,b,2,0),l=0,f=0,t.mode=Ur;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",t.mode=N;break}if((l&15)!==8){e.msg="unknown compression method",t.mode=N;break}if(l>>>=4,f-=4,g=(l&15)+8,t.wbits===0&&(t.wbits=g),g>15||g>t.wbits){e.msg="invalid window size",t.mode=N;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=l&512?Nr:ce,l=0,f=0;break;case Ur:for(;f<16;){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}if(t.flags=l,(t.flags&255)!==8){e.msg="unknown compression method",t.mode=N;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=N;break}t.head&&(t.head.text=l>>8&1),t.flags&512&&t.wrap&4&&(b[0]=l&255,b[1]=l>>>8&255,t.check=G(t.check,b,2,0)),l=0,f=0,t.mode=Sr;case Sr:for(;f<32;){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}t.head&&(t.head.time=l),t.flags&512&&t.wrap&4&&(b[0]=l&255,b[1]=l>>>8&255,b[2]=l>>>16&255,b[3]=l>>>24&255,t.check=G(t.check,b,4,0)),l=0,f=0,t.mode=Mr;case Mr:for(;f<16;){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}t.head&&(t.head.xflags=l&255,t.head.os=l>>8),t.flags&512&&t.wrap&4&&(b[0]=l&255,b[1]=l>>>8&255,t.check=G(t.check,b,2,0)),l=0,f=0,t.mode=Lr;case Lr:if(t.flags&1024){for(;f<16;){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}t.length=l,t.head&&(t.head.extra_len=l),t.flags&512&&t.wrap&4&&(b[0]=l&255,b[1]=l>>>8&255,t.check=G(t.check,b,2,0)),l=0,f=0}else t.head&&(t.head.extra=null);t.mode=Rr;case Rr:if(t.flags&1024&&(h=t.length,h>s&&(h=s),h&&(t.head&&(g=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(a,a+h),g)),t.flags&512&&t.wrap&4&&(t.check=G(t.check,r,h,a)),s-=h,a+=h,t.length-=h),t.length))break e;t.length=0,t.mode=Br;case Br:if(t.flags&2048){if(s===0)break e;h=0;do g=r[a+h++],t.head&&g&&t.length<65536&&(t.head.name+=String.fromCharCode(g));while(g&&h<s);if(t.flags&512&&t.wrap&4&&(t.check=G(t.check,r,h,a)),s-=h,a+=h,g)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=zr;case zr:if(t.flags&4096){if(s===0)break e;h=0;do g=r[a+h++],t.head&&g&&t.length<65536&&(t.head.comment+=String.fromCharCode(g));while(g&&h<s);if(t.flags&512&&t.wrap&4&&(t.check=G(t.check,r,h,a)),s-=h,a+=h,g)break e}else t.head&&(t.head.comment=null);t.mode=Or;case Or:if(t.flags&512){for(;f<16;){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}if(t.wrap&4&&l!==(t.check&65535)){e.msg="header crc mismatch",t.mode=N;break}l=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=ce;break;case Nr:for(;f<32;){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}e.adler=t.check=Jr(l),l=0,f=0,t.mode=Lt;case Lt:if(t.havedict===0)return e.next_out=o,e.avail_out=d,e.next_in=a,e.avail_in=s,t.hold=l,t.bits=f,2;e.adler=t.check=1,t.mode=ce;case ce:if(n===5||n===6)break e;case xn:if(t.last){l>>>=f&7,f-=f&7,t.mode=Pn;break}for(;f<3;){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}switch(t.last=l&1,l>>>=1,f-=1,l&3){case 0:t.mode=Hr;break;case 1:if(os(t),t.mode=St,n===6){l>>>=2,f-=2;break e}break;case 2:t.mode=Zr;break;case 3:e.msg="invalid block type",t.mode=N}l>>>=2,f-=2;break;case Hr:for(l>>>=f&7,f-=f&7;f<32;){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",t.mode=N;break}if(t.length=l&65535,l=0,f=0,t.mode=Cn,n===6)break e;case Cn:t.mode=Fr;case Fr:if(h=t.length,h){if(h>s&&(h=s),h>d&&(h=d),h===0)break e;i.set(r.subarray(a,a+h),o),s-=h,a+=h,d-=h,o+=h,t.length-=h;break}t.mode=ce;break;case Zr:for(;f<14;){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}if(t.nlen=(l&31)+257,l>>>=5,f-=5,t.ndist=(l&31)+1,l>>>=5,f-=5,t.ncode=(l&15)+4,l>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=N;break}t.have=0,t.mode=$r;case $r:for(;t.have<t.ncode;){for(;f<3;){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}t.lens[Ce[t.have++]]=l&7,l>>>=3,f-=3}for(;t.have<19;)t.lens[Ce[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,C={bits:t.lenbits},v=$e(Qo,t.lens,0,19,t.lencode,0,t.work,C),t.lenbits=C.bits,v){e.msg="invalid code lengths set",t.mode=N;break}t.have=0,t.mode=Gr;case Gr:for(;t.have<t.nlen+t.ndist;){for(;I=t.lencode[l&(1<<t.lenbits)-1],y=I>>>24,m=I>>>16&255,p=I&65535,!(y<=f);){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}if(p<16)l>>>=y,f-=y,t.lens[t.have++]=p;else{if(p===16){for(V=y+2;f<V;){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}if(l>>>=y,f-=y,t.have===0){e.msg="invalid bit length repeat",t.mode=N;break}g=t.lens[t.have-1],h=3+(l&3),l>>>=2,f-=2}else if(p===17){for(V=y+3;f<V;){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}l>>>=y,f-=y,g=0,h=3+(l&7),l>>>=3,f-=3}else{for(V=y+7;f<V;){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}l>>>=y,f-=y,g=0,h=11+(l&127),l>>>=7,f-=7}if(t.have+h>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=N;break}for(;h--;)t.lens[t.have++]=g}}if(t.mode===N)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=N;break}if(t.lenbits=9,C={bits:t.lenbits},v=$e(ea,t.lens,0,t.nlen,t.lencode,0,t.work,C),t.lenbits=C.bits,v){e.msg="invalid literal/lengths set",t.mode=N;break}if(t.distbits=6,t.distcode=t.distdyn,C={bits:t.distbits},v=$e(ta,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,C),t.distbits=C.bits,v){e.msg="invalid distances set",t.mode=N;break}if(t.mode=St,n===6)break e;case St:t.mode=Mt;case Mt:if(s>=6&&d>=258){e.next_out=o,e.avail_out=d,e.next_in=a,e.avail_in=s,t.hold=l,t.bits=f,In(e,u),o=e.next_out,i=e.output,d=e.avail_out,a=e.next_in,r=e.input,s=e.avail_in,l=t.hold,f=t.bits,t.mode===ce&&(t.back=-1);break}for(t.back=0;I=t.lencode[l&(1<<t.lenbits)-1],y=I>>>24,m=I>>>16&255,p=I&65535,!(y<=f);){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}if(m&&(m&240)===0){for(P=y,F=m,E=p;I=t.lencode[E+((l&(1<<P+F)-1)>>P)],y=I>>>24,m=I>>>16&255,p=I&65535,!(P+y<=f);){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}l>>>=P,f-=P,t.back+=P}if(l>>>=y,f-=y,t.back+=y,t.length=p,m===0){t.mode=Kr;break}if(m&32){t.back=-1,t.mode=ce;break}if(m&64){e.msg="invalid literal/length code",t.mode=N;break}t.extra=m&15,t.mode=jr;case jr:if(t.extra){for(V=t.extra;f<V;){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Xr;case Xr:for(;I=t.distcode[l&(1<<t.distbits)-1],y=I>>>24,m=I>>>16&255,p=I&65535,!(y<=f);){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}if((m&240)===0){for(P=y,F=m,E=p;I=t.distcode[E+((l&(1<<P+F)-1)>>P)],y=I>>>24,m=I>>>16&255,p=I&65535,!(P+y<=f);){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}l>>>=P,f-=P,t.back+=P}if(l>>>=y,f-=y,t.back+=y,m&64){e.msg="invalid distance code",t.mode=N;break}t.offset=p,t.extra=m&15,t.mode=Vr;case Vr:if(t.extra){for(V=t.extra;f<V;){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=N;break}t.mode=Wr;case Wr:if(d===0)break e;if(h=u-d,t.offset>h){if(h=t.offset-h,h>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=N;break}h>t.wnext?(h-=t.wnext,_=t.wsize-h):_=t.wnext-h,h>t.length&&(h=t.length),D=t.window}else D=i,_=o-t.offset,h=t.length;h>d&&(h=d),d-=h,t.length-=h;do i[o++]=D[_++];while(--h);t.length===0&&(t.mode=Mt);break;case Kr:if(d===0)break e;i[o++]=t.length,d--,t.mode=Mt;break;case Pn:if(t.wrap){for(;f<32;){if(s===0)break e;s--,l|=r[a++]<<f,f+=8}if(u-=d,e.total_out+=u,t.total+=u,t.wrap&4&&u&&(e.adler=t.check=t.flags?G(t.check,i,u,o-u):Te(t.check,i,u,o-u)),u=d,t.wrap&4&&(t.flags?l:Jr(l))!==t.check){e.msg="incorrect data check",t.mode=N;break}l=0,f=0}t.mode=Yr;case Yr:if(t.wrap&&t.flags){for(;f<32;){if(s===0)break e;s--,l+=r[a++]<<f,f+=8}if(t.wrap&4&&l!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=N;break}l=0,f=0}t.mode=qr;case qr:v=1;break e;case N:v=-3;break e;case Tn:return-4;case na:default:return-2}return e.next_out=o,e.avail_out=d,e.next_in=a,e.avail_in=s,t.hold=l,t.bits=f,(t.wsize||u!==e.avail_out&&t.mode<N&&(t.mode<Pn||n!==4))&&aa(e,e.output,e.next_out,u-e.avail_out)?(t.mode=Tn,-4):(c-=e.avail_in,u-=e.avail_out,e.total_in+=c,e.total_out+=u,t.total+=u,t.wrap&4&&u&&(e.adler=t.check=t.flags?G(t.check,i,u,e.next_out-u):Te(t.check,i,u,e.next_out-u)),e.data_type=t.bits+(t.last?64:0)+(t.mode===ce?128:0)+(t.mode===St||t.mode===Cn?256:0),(c===0&&u===0||n===4)&&v===0&&(v=-5),v)},ls=e=>{if(Se(e))return-2;let n=e.state;return n.window&&(n.window=null),e.state=null,0},fs=(e,n)=>{if(Se(e))return-2;let t=e.state;return(t.wrap&2)===0?-2:(t.head=n,n.done=!1,0)},ds=(e,n)=>{let t=n.length,r,i,a;return Se(e)?-2:(r=e.state,r.wrap!==0&&r.mode!==Lt?-2:r.mode===Lt&&(i=1,i=Te(i,n,t,0),i!==r.check)?-3:(a=aa(e,n,t,t),a?(r.mode=Tn,-4):(r.havedict=1,0)))},ia=ra,oa=is,Bt=ss,sa=ls,la=fs,En=ds});function cs(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var da,ca=w(()=>{da=cs});function be(e={}){this.options=Et({chunkSize:1024*64,windowBits:15,to:""},e);let n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(e&&e.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15)===0&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new vt,this.strm.avail_out=0;let t=oa(this.strm,n.windowBits);if(t!==0)throw new Error(de[t]);if(this.header=new da,la(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=it(n.dictionary):ha.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(t=En(this.strm,n.dictionary),t!==0)))throw new Error(de[t])}var ha,ua=w(()=>{fa();wn();yn();Dt();bn();ca();ge();ge();ha=Object.prototype.toString;be.prototype.push=function(e,n){let t=this.strm,r=this.options.chunkSize,i=this.options.dictionary,a,o,s;if(this.ended)return!1;for(n===~~n?o=n:o=n===!0?4:0,ha.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),a=Bt(t,o),a===2&&i&&(a=En(t,i),a===0?a=Bt(t,o):a===-3&&(a=2));t.avail_in>0&&a===1&&t.state.wrap>0&&e[t.next_in]!==0;)ia(t),a=Bt(t,o);switch(a){case-2:case-3:case 2:case-4:return this.onEnd(a),this.ended=!0,!1}if(s=t.avail_out,t.next_out&&(t.avail_out===0||a===1))if(this.options.to==="string"){let d=kr(t.output,t.next_out),l=t.next_out-d,f=Dr(t.output,d);t.next_out=l,t.avail_out=r-l,l&&t.output.set(t.output.subarray(d,d+l),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===0&&s===0)){if(a===1)return a=sa(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};be.prototype.onData=function(e){this.chunks.push(e)};be.prototype.onEnd=function(e){e===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=At(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}});var dt=w(()=>{Er();ua();ge()});function ct(e,n,t){let r=e+n-t,i=Math.abs(r-e),a=Math.abs(r-n),o=Math.abs(r-t);return i<=a&&i<=o?e:a<=o?n:t}var An=w(()=>{});function pa(e,n,t){let r=us(e,t),i;n.interlaceMethod===1?i=ms(e,n,r):i=ga(e,n,r);let a=e.metadata.find(s=>s.type==="tRNS"),o=_s(e,n,i,e.palette,a);return a&&(n.colorType===0||n.colorType===2)&&ws(n,o,a),o}function us(e,n){let t=new be,r=0;for(let i of n)r=i.offset+4+4,t.push(e.view.buffer.slice(e.view.byteOffset+r,e.view.byteOffset+r+i.dataLength));if(t.err)throw Pe(e,n[0],`Inflate error: ${t.msg}`,n[0].offset);if(t.result===void 0)throw new $(e,"IDAT: Failed to decompress data chunks",0);return t.result}function ga(e,n,t,r=0,i=n.width,a=n.height){let o=0,s=vn(n),d=Ot(n),l=ma(n,i),f=Math.ceil(i*d),c=new Uint8Array(a*f),u=new Map;for(let h=0;h<a;h++){let _=r+h*(l+1),D=t[_++];if(!ps)throw new $(e,`IDAT: Invalid filter type ${D}`,0);let I=u.get(D);I||(I=gs(d,l,i,D),u.set(D,I));let y=1,m=0;switch(D){case 0:case 1:{for(;m<s;m++)c[o]=t[_+m],o++;break}case 3:{let p=0;for(;m<s;m++)p=o-i*s,c[o]=t[_+m]+Math.floor(0+(p<0?0:c[p]))/2,o++;break}case 2:{y=0;break}case 4:{for(;m<s;m++){let p=Math.floor(o-l);c[o]=(t[_+m]+ct(0,p<0?0:c[p],0))%256,o++}break}}if(n.bitDepth>=8)for(;y<i;y++)for(let p=0;p<s;p++)c[o]=I(t,_+y*s+p,c,o),o++;else{for(y&&(o-=y),m=y;m<l;m++)c[o+m]=I(t,_+m,c,o+m);o+=l}}return c}function ps(e){return e%1===0&&e>=0&&e<=4}function gs(e,n,t,r){let i=0,a=0,o=0;switch(r){case 0:return(s,d)=>s[d];case 1:return(s,d,l,f)=>(s[d]+l[Math.floor(f-e)])%256;case 2:return(s,d,l,f)=>(a=Math.floor(f-t*e),a<0?s[d]:(s[d]+l[a])%256);case 3:return(s,d,l,f)=>(i=Math.floor(f-e),a=Math.floor(f-t*e),s[d]+Math.floor((i<0?0:l[i])+(a<0?0:l[a]))/2);case 4:return(s,d,l,f)=>(i=Math.floor(f-Math.ceil(e)),a=Math.floor(f-n),o=Math.floor(f-n-Math.ceil(e)),(s[d]+ct(i<0?0:l[i],a<0?0:l[a],o<0?0:l[o]))%256)}}function vn(e){return Math.ceil(Ot(e))}function Ot(e){return _a(e.colorType)*e.bitDepth/8}function ma(e,n){return Math.ceil(_a(e.colorType)*e.bitDepth*n/8)}function _a(e){switch(e){case 0:return 1;case 2:return 3;case 3:return 1;case 4:return 2;case 6:return 4}}function ms(e,n,t){let r=Ot(n),i=Math.ceil(n.width*r),a=new Uint8Array(i*n.height),o=vn(n),s=8/n.bitDepth,d=(1<<n.bitDepth)-1,l=[0,4,0,2,0,1,0],f=[0,0,4,0,2,0,1],c=[8,8,4,4,2,2,1],u=[8,8,8,4,4,2,2],h=0;for(let _=0;_<7;_++){let D=l[_],I=f[_],y=c[_],m=u[_],p=Math.ceil((n.width-D)/y),P=Math.ceil((n.height-I)/m),F=Math.ceil(r*p);if(p===0||P===0)continue;let E=ga(e,n,t,h,p,P),g=0;for(let v=0;v<P;v++){g=(I+v*m)*i+D*r;for(let b=0;b<p;b++){if(n.bitDepth<8){let C=E[v*F+Math.floor(b*r)];C>>=(s-b%s-1)*n.bitDepth,C&=d;let V=(s-1-g%1*s)*n.bitDepth;C<<=V,a[Math.floor(g)]|=C}else for(let C=0;C<o;C++)a[g+C]=E[(v*p+b)*o+C];g+=y*r}}h+=P*(1+ma(n,p))}return a}function _s(e,n,t,r,i){let a=new(n.bitDepth===16?Uint16Array:Uint8Array)(n.width*n.height*4),o=0,s=vn(n),d=Ot(n),l=Math.ceil(n.width*d);switch(n.colorType){case 0:{switch(n.bitDepth){case 1:case 2:case 4:{let f=8/n.bitDepth,c=(1<<n.bitDepth)-1,u=n.bitDepth/8;for(let h=0;h<n.height;h++)for(let _=0;_<n.width;_++)o=(h*n.width+_)*4,a[o]=t[h*l+Math.floor(_*u)],a[o]>>=(f-_%f-1)*n.bitDepth,a[o]&=c,a[o]*=255/c,a[o+1]=a[o],a[o+2]=a[o],a[o+3]=255;break}case 8:case 16:{for(let f=0;f<n.height;f++)for(let c=0;c<n.width;c++)o=(f*n.width+c)*4,n.bitDepth===16?a[o]=t[(f*n.width+c)*s]<<8|t[(f*n.width+c)*s+1]:a[o]=t[(f*n.width+c)*s],a[o+1]=a[o],a[o+2]=a[o],a[o+3]=n.bitDepth===16?65535:255;break}}break}case 4:{for(let f=0;f<n.height;f++)for(let c=0;c<n.width;c++)o=(f*n.width+c)*4,n.bitDepth===16?a[o]=t[(f*n.width+c)*s]<<8|t[(f*n.width+c)*s+1]:a[o]=t[(f*n.width+c)*s],a[o+1]=a[o],a[o+2]=a[o],n.bitDepth===16?a[o+3]=t[(f*n.width+c)*s+2]<<8|t[(f*n.width+c)*s+3]:a[o+3]=t[(f*n.width+c)*s+1];break}case 3:{if(!r)throw new $(e,"IDAT: Cannot decode indexed color type without a palette",0);switch(n.bitDepth){case 1:case 2:case 4:{let f=8/n.bitDepth,c=(1<<n.bitDepth)-1,u=n.bitDepth/8;for(let h=0;h<n.height;h++)for(let _=0;_<n.width;_++){o=(h*n.width+_)*4;let D=t[h*l+Math.floor(_*u)];D>>=(f-_%f-1)*n.bitDepth,D&=c,r.setRgba(a,o,D),i&&i.transparency.length>D&&(a[o+3]=i.transparency[D])}break}case 8:{let f=0;for(let c=0;c<n.height;c++)for(let u=0;u<n.width;u++)o=(c*n.width+u)*4,f=t[c*n.width+u],r.setRgba(a,o,f),i&&i.transparency.length>f&&(a[o+3]=i.transparency[f]);break}}break}case 2:{for(let f=0;f<n.height;f++)for(let c=0;c<n.width;c++)o=(f*n.width+c)*4,n.bitDepth===16?(a[o]=t[(f*n.width+c)*s]<<8|t[(f*n.width+c)*s+1],a[o+1]=t[(f*n.width+c)*s+2]<<8|t[(f*n.width+c)*s+3],a[o+2]=t[(f*n.width+c)*s+4]<<8|t[(f*n.width+c)*s+5]):(a[o]=t[(f*n.width+c)*s],a[o+1]=t[(f*n.width+c)*s+1],a[o+2]=t[(f*n.width+c)*s+2]),a[o+3]=n.bitDepth===16?65535:255;break}case 6:{for(let f=0;f<n.height;f++)for(let c=0;c<n.width;c++)o=(f*n.width+c)*4,n.bitDepth===16?(a[o]=t[(f*n.width+c)*s]<<8|t[(f*n.width+c)*s+1],a[o+1]=t[(f*n.width+c)*s+2]<<8|t[(f*n.width+c)*s+3],a[o+2]=t[(f*n.width+c)*s+4]<<8|t[(f*n.width+c)*s+5],a[o+3]=t[(f*n.width+c)*s+6]<<8|t[(f*n.width+c)*s+7]):(a[o]=t[(f*n.width+c)*s],a[o+1]=t[(f*n.width+c)*s+1],a[o+2]=t[(f*n.width+c)*s+2],a[o+3]=t[(f*n.width+c)*s+3]);break}}return a}function ws(e,n,t){let r=(1<<e.bitDepth)-1,i=e.bitDepth===16?65535:255;if(e.colorType===0){let a=i/r*t.transparency;for(let o=0;o<n.length;o+=4)n[o]===a&&(n[o+3]=0);return}if(e.colorType===2){let a=[i/r*t.transparency[0],i/r*t.transparency[1],i/r*t.transparency[2]];for(let o=0;o<n.length;o+=4)n[o]===a[0]&&n[o+1]===a[1]&&n[o+2]===a[2]&&(n[o+3]=0);return}}var wa=w(()=>{dt();z();An();U();});function ya(e,n,t){Re(e,t,"IDAT"),B(e,t,0)}var ba=w(()=>{z();U();});function Ia(e){return e===1||e===2||e===4||e===8||e===16}function xa(e,n){return e===0&&n>=1&&n<=16||e===2&&n>=8&&n<=16||e===3&&n>=1&&n<=8||e===4&&n>=8&&n<=16||e===6&&n>=8&&n<=16}function Ca(e){return e===0}function Pa(e){return e===0||e===1}var Da=w(()=>{U();});function ka(e,n){B(e,n,13);let t=n.offset+4+4,r=e.view.getUint32(t);t+=4;let i=e.view.getUint32(t);t+=4;let a=e.view.getUint8(t);if(!Ia(a))throw Pe(e,n,`Bit depth "${a}" is not valid`,t);t++;let o=e.view.getUint8(t);if(!xa(o,a))throw Pe(e,n,`Color type "${o}" is not valid with bit depth "${a}"`,t);t++;let s=e.view.getUint8(t);pe(e,n,s,t),t++;let d=e.view.getUint8(t);Ca(d)||(Z(e,x(n,`Filter method "${d}" is not valid`,t)),d=0),t++;let l=e.view.getUint8(t);return Pa(l)||(Z(e,x(n,`Interlace method "${l}" is not valid`,t)),l=0),t++,{width:r,height:i,bitDepth:a,colorType:o,interlaceMethod:l}}var Ta=w(()=>{z();U();Da();});function ys(){if(ht)return ht;ht=[];for(let e=0;e<256;e++){let n=e;for(let t=0;t<8;t++)n&1?n=3988292384^n>>>1:n=n>>>1;ht[e]=n>>>0}return ht}function bs(e,n,t,r){let i=ys(),a=e;for(let o=0;o<r;o++)a=i[(a^n.getUint8(t+o))&255]^a>>>8;return a}function ut(e,n,t){return(bs(4294967295,e,n,t)^4294967295)>>>0}var ht,Un=w(()=>{});var Ea={};M(Ea,{parseChunk:()=>Is});function Is(e,n,t){L(e,t),k(e,t,"IDAT");let r=t.offset+4+4,i,a;switch(n.colorType){case 0:case 4:{i=e.view.getUint16(r),a=2;break}case 2:case 6:{i=[e.view.getUint16(r),e.view.getUint16(r+2),e.view.getUint16(r+4)],a=6;break}case 3:{i=e.view.getUint8(r),a=1;break}default:throw x(t,`Unrecognized color type "${n.colorType}"`,r)}return B(e,t,a),{type:"bKGD",color:i}}var Aa=w(()=>{z();U();});var va={};M(va,{parseChunk:()=>xs});function xs(e,n,t){L(e,t),k(e,t,"PLTE"),k(e,t,"IDAT"),B(e,t,32);let r=t.offset+4+4,i={x:e.view.getUint32(r)/1e5,y:e.view.getUint32(r+4)/1e5};if(i.x>1||i.y>1)throw x(t,`Invalid white point (${i.x},${i.y})`,r);r+=8;let a={x:e.view.getUint32(r)/1e5,y:e.view.getUint32(r+4)/1e5};if(a.x>1||a.y>1)throw x(t,`Invalid red (${a.x},${a.y})`,r);r+=8;let o={x:e.view.getUint32(r)/1e5,y:e.view.getUint32(r+4)/1e5};if(o.x>1||o.y>1)throw x(t,`Invalid green (${o.x},${o.y})`,r);r+=8;let s={x:e.view.getUint32(r)/1e5,y:e.view.getUint32(r+4)/1e5};if(s.x>1||s.y>1)throw x(t,`Invalid blue (${s.x},${s.y})`,r);return{type:"cHRM",whitePoint:i,red:a,green:o,blue:s}}var Ua=w(()=>{z();U();});var Sa={};M(Sa,{parseChunk:()=>Cs});function Cs(e,n,t){let r=t.offset+4+4;return{type:"eXIf",value:e.view.buffer.slice(e.view.byteOffset+r,e.view.byteOffset+r+t.dataLength)}}var Ma=w(()=>{U();});var La={};M(La,{parseChunk:()=>Ps});function Ps(e,n,t){L(e,t),k(e,t,"PLTE"),k(e,t,"IDAT"),B(e,t,4);let r=t.offset+4+4,i=e.view.getUint32(r)/1e5;return i===0&&Z(e,x(t,"A value of 0 is meaningless",r)),{type:"gAMA",value:i}}var Ra=w(()=>{z();U();});var Ba={};M(Ba,{parseChunk:()=>Ds});function Ds(e,n,t){L(e,t),Re(e,t,"PLTE"),k(e,t,"IDAT"),B(e,t,e.palette.size*2);let r=t.offset+4+4,i=[];for(let a=0;a<e.palette.size*2;a+=2)i.push(e.view.getUint16(r+a));return{type:"hIST",frequency:i}}var za=w(()=>{z();U();});function j(e,n,t,r,i,a,o,s){let d=[],l=0,f=0;for(;(r===void 0||f<r)&&!(!o&&i===a);f++){try{l=e.view.getUint8(i)}catch(u){throw u instanceof Error&&u.message==="Offset is outside the bounds of the DataView"?x(n,"EOF while reading text",i):u}if(!s&&l===0)break;i++,d.push(l)}if(o&&e.view.getUint8(i)!==0)throw x(n,"No null character after text",i);let c=new Uint8Array(d);if(s){let u=new be;if(u.push(c),u.err)throw x(n,`Inflate error: ${u.msg}`,i);c=u.result}return{text:t?t.decode(c):String.fromCharCode(...d),bytesRead:f+1}}var Ie=w(()=>{dt();z();});var Oa={};M(Oa,{parseChunk:()=>ks});function ks(e,n,t){L(e,t),It(e,t,"sRGB"),k(e,t,"PLTE"),k(e,t,"IDAT"),J(e,t,3);let r=t.offset+4+4,i=r+t.dataLength,a=r,o=new TextDecoder("latin1"),s=j(e,t,o,79,a,i,!0);a+=s.bytesRead;let d=s.text,l=e.view.getUint8(a);pe(e,t,l,a),a++;let f=new Uint8Array(e.view.buffer.slice(e.view.byteOffset+a,e.view.byteOffset+i));return{type:"iCCP",name:d,data:f}}var Na=w(()=>{z();Ie();U();});var Ha={};M(Ha,{parseChunk:()=>Ts});function Ts(e,n,t){J(e,t,6);let r=t.offset+4+4,i=r+t.dataLength,a=new TextDecoder("utf8"),o;o=j(e,t,a,79,r,i,!0),r+=o.bytesRead;let s=o.text,d=e.view.getUint8(r++)===1,l=e.view.getUint8(r);d&&pe(e,t,l,r),r++,o=j(e,t,a,void 0,r,i,!0),r+=o.bytesRead;let f=o.text;o=j(e,t,a,void 0,r,i,!0),r+=o.bytesRead;let c=o.text;o=j(e,t,a,void 0,r,i,!1,d),r+=o.bytesRead;let u=o.text;return{type:"iTXt",keyword:s,languageTag:f,translatedKeyword:c,text:u}}var Fa=w(()=>{z();Ie();U();});var Za={};M(Za,{parseChunk:()=>Es});function Es(e,n,t){L(e,t),B(e,t,7);let r=t.offset+4+4,i=e.view.getUint16(r);r+=2;let a=e.view.getUint8(r++),o=e.view.getUint8(r++),s=e.view.getUint8(r++),d=e.view.getUint8(r++),l=e.view.getUint8(r++);return{type:"tIME",value:new Date(i,a,o,s,d,l)}}var $a=w(()=>{z();U();});var Ga={};M(Ga,{parseChunk:()=>As});function As(e,n,t){L(e,t),k(e,t,"IDAT"),B(e,t,9);let r=t.offset+4+4,i=e.view.getInt32(r);r+=4;let a=e.view.getInt32(r);r+=4;let o=e.view.getUint8(r),s;switch(o){case 0:s="pixel";break;case 1:s="micrometer";break;default:throw x(t,`Invalid oFFs unit type ("${o}")`,r)}return{type:"oFFs",offset:{x:i,y:a},unitType:s}}var ja=w(()=>{z();U();});function pt(e,n,t,r,i,a){let o=j(e,n,t,void 0,r,i,a);r+=o.bytesRead,vs(o.text)||Z(e,x(n,`Invalid character in floating point number ("${o.text}")`,r));let s=parseFloat(o.text);return{bytesRead:o.bytesRead,value:s}}function vs(e){return e.match(/^[+-]?[0-9]+\.[0-9]+([eE][+-]?[0-9]+)?$/)||e.match(/^[+-]?[0-9]+\.?([eE][+-]?[0-9]+)?$/)||e.match(/^[+-]?\.[0-9]+([eE][+-]?[0-9]+)?$/)}var Sn=w(()=>{z();Ie();});var Xa={};M(Xa,{parseChunk:()=>Us});function Us(e,n,t){L(e,t),k(e,t,"IDAT"),J(e,t,4);let r=t.offset+4+4,i=r+t.dataLength,a=r,o=new TextDecoder("latin1"),s;s=j(e,t,o,79,a,i,!0),a+=s.bytesRead;let d=s.text,l=e.view.getInt32(a);a+=4;let f=e.view.getInt32(a);a+=4;let c=e.view.getUint8(a++),u;switch(c){case 0:u="linear-mapping";break;case 1:u="base-e exponential mapping";break;case 2:u="arbitrary-base exponential mapping";break;case 3:u="hyperbolic mapping";break;default:throw x(t,`Invalid equation type "${c}"`,a)}let h=e.view.getUint8(a++);s=j(e,t,o,79,a,i,!0),a+=s.bytesRead;let _=s.text,D=[],I;for(let y=0;y<h;y++)I=pt(e,t,o,a,i,y<h-1),a+=I.bytesRead,D.push(I.value);return{type:"pCAL",calibrationName:d,x0:l,x1:f,equationType:u,unitName:_,params:D}}var Va=w(()=>{z();Sn();Ie();U();});var Wa={};M(Wa,{parseChunk:()=>Ss});function Ss(e,n,t){L(e,t),k(e,t,"IDAT"),B(e,t,9);let r=t.offset+4+4,i=e.view.getUint32(r);r+=4;let a=e.view.getUint32(r);r+=4;let o=e.view.getUint8(r)===1?"meter":"unknown";return{type:"pHYs",pixelsPerUnit:{x:i,y:a},unitType:o}}var Ka=w(()=>{z();U();});var Ya={};M(Ya,{parseChunk:()=>Ms});function Ms(e,n,t){L(e,t),k(e,t,"PLTE"),k(e,t,"IDAT");let r=t.offset+4+4,i,a;switch(n.colorType){case 0:{i=e.view.getUint8(r),a=1;break}case 2:case 3:{i=[e.view.getUint8(r),e.view.getUint8(r+1),e.view.getUint8(r+2)],a=3;break}case 4:{i=[e.view.getUint8(r),e.view.getUint8(r+1)],a=2;break}case 6:{i=[e.view.getUint8(r),e.view.getUint8(r+1),e.view.getUint8(r+2),e.view.getUint8(r+3)],a=4;break}default:throw x(t,`Unrecognized color type "${n.colorType}"`,r)}return B(e,t,a),{type:"sBIT",value:i}}var qa=w(()=>{z();U();});var Ja={};M(Ja,{parseChunk:()=>Ls});function Ls(e,n,t){L(e,t),k(e,t,"IDAT"),J(e,t,4);let r=t.offset+4+4,i=r+t.dataLength,a=r,o=new TextDecoder("latin1"),s=e.view.getUint8(a),d;switch(s){case 0:d="meter";break;case 1:d="radian";break;default:throw x(t,`Invalid sCAL unit type ("${s}")`,a)}a++;let l;l=pt(e,t,o,a,i,!0),a+=l.bytesRead;let f=l.value;l=pt(e,t,o,a,i,!1),a+=l.bytesRead;let c=l.value;if(f<0||c<0)throw x(t,`Values cannot be negative (${f}, ${c})`,a);return{type:"sCAL",pixelsPerUnit:{x:f,y:c},unitType:d}}var Qa=w(()=>{z();Sn();U();});var ei={};M(ei,{parseChunk:()=>Rs});function Rs(e,n,t){k(e,t,"IDAT");let r=t.offset+4+4,i=r,a=i+t.dataLength,o=new TextDecoder("latin1"),s=j(e,t,o,void 0,i,a,!0);i+=s.bytesRead;let d=s.text,l=e.view.getUint8(i++),f=l===16?2:1,c=f*4+2,u=t.dataLength-(i-r),h=u/c;if(h%1!==0)throw x(t,`Invalid data length: ${u} should be divisible by entry size ${c}`,i);let _=[];for(let D=0;D<h;D++){let I=[];for(let m=0;m<4;m++)I.push(f===2?e.view.getUint16(i):e.view.getUint8(i)),i+=f;let y=e.view.getUint16(i);i+=2,_.push({red:I[0],green:I[1],blue:I[2],alpha:I[3],frequency:y})}return{type:"sPLT",name:d,sampleDepth:l,entries:_}}var ti=w(()=>{z();Ie();U();});var ni={};M(ni,{parseChunk:()=>Bs});function Bs(e,n,t){L(e,t),It(e,t,"iCCP"),k(e,t,"PLTE"),k(e,t,"IDAT"),B(e,t,1);let r=t.offset+4+4,i=e.view.getUint8(r),a;switch(i){case 0:case 1:case 2:case 3:a=i;break;default:throw x(t,`Invalid rendering intent "${i}"`,r)}return{type:"sRGB",renderingIntent:a}}var ri=w(()=>{z();U();});var ai={};M(ai,{parseChunk:()=>zs});function zs(e,n,t){L(e,t),k(e,t,"IDAT"),B(e,t,1);let r=t.offset+4+4,i=e.view.getUint8(r),a;switch(i){case 0:a="cross-fuse";break;case 1:a="diverging-fuse";break;default:throw x(t,`Invalid layout mode "${i}"`,r)}let o=15-(n.width-1)%16;if(o>7)throw x(t,`Invalid padding value "${o}" for image width ${n.width}`,r);let s=Math.floor((n.width-o)/2);return{type:"sTER",layoutMode:a,subimageWidth:s,padding:o}}var ii=w(()=>{z();U();});var oi={};M(oi,{parseChunk:()=>Os});function Os(e,n,t){J(e,t,6);let r=t.offset+4+4,i=r+t.dataLength,a=r,o=new TextDecoder("utf8"),s;s=j(e,t,o,79,a,i,!0),a+=s.bytesRead;let d=s.text;s=j(e,t,o,void 0,a,i,!1),a+=s.bytesRead;let l=s.text;return{type:"tEXt",keyword:d,text:l}}var si=w(()=>{z();Ie();U();});var li={};M(li,{parseChunk:()=>Ns});function Ns(e,n,t){switch(k(e,t,"IDAT"),n.colorType){case 0:B(e,t,2);break;case 2:B(e,t,6);break;case 3:if(Re(e,t,"PLTE"),t.dataLength>e.palette.size)throw x(t,`Invalid data length for color type ${n.colorType}: ${t.dataLength} > ${e.palette.size}`,t.offset+4+4);break;case 4:case 6:throw x(t,`Chunk invalid when color type has alpha (${n.colorType})`,t.offset+4+4)}let r=t.offset+4+4,i;switch(n.colorType){case 0:i=e.view.getUint16(r);break;case 2:i=[e.view.getUint16(r),e.view.getUint16(r+2),e.view.getUint16(r+4)];break;case 3:i=[];for(let a=0;a<t.dataLength;a++)i.push(e.view.getUint8(r+a));break}return{type:"tRNS",transparency:i}}var fi=w(()=>{z();U();});var di={};M(di,{parseChunk:()=>Hs});function Hs(e,n,t){J(e,t,6);let r=t.offset+4+4,i=r+t.dataLength,a=r,o=new TextDecoder("utf8"),s;s=j(e,t,o,79,a,i,!0),a+=s.bytesRead;let d=s.text,l=e.view.getUint8(a);pe(e,t,l,a),a++,s=j(e,t,o,void 0,a,i,!1,!0),a+=s.bytesRead;let f=s.text;return{type:"zTXt",keyword:d,text:f}}var ci=w(()=>{z();Ie();U();});var hi={};M(hi,{Palette:()=>Nt,parseChunk:()=>Fs});function Fs(e,n,t){L(e,t),k(e,t,"bKGD"),k(e,t,"hIST"),k(e,t,"tRNS"),k(e,t,"IDAT");let r=t.offset+4;if(n.colorType===0||n.colorType===4)throw x(t,`Color type "${n.colorType}" cannot have a palette`,r);if(r+=4,t.dataLength===0)throw x(t,"Cannot have 0 entries",r);if(t.dataLength%3!==0)throw x(t,`Chunk length must be divisible by 3 (actual "${t.dataLength}")`,r);return t.dataLength/3>256&&Z(e,x(t,`Too many entries (${t.dataLength/3} > 256)`,r)),t.dataLength/3>Math.pow(2,n.bitDepth)&&Z(e,x(t,`Too many entries for bit depth (${t.dataLength/3} > 2^${n.bitDepth})`,r)),new Nt(e.view,t.offset+4+4,t.dataLength)}var Nt,ui=w(()=>{z();U();Nt=class{constructor(n,t,r){this._view=n;this._paletteOffset=t;this._length=r}get size(){return this._length/3}getRgb(n){return this._checkIndex(n),new Uint8Array(this._view.buffer.slice(this._view.byteOffset+this._paletteOffset+n*3,this._view.byteOffset+this._paletteOffset+n*3+3))}setRgba(n,t,r){this._checkIndex(r);let i=this._paletteOffset+r*3;n[t]=this._view.getUint8(i),n[t+1]=this._view.getUint8(i+1),n[t+2]=this._view.getUint8(i+2),n[t+3]=255}_checkIndex(n){if(n<0||n*3>this._length-3)throw new Error(`Palette does not contain color index "${n}"`)}}});var bi={};M(bi,{DecodeError:()=>$,DecodeWarning:()=>te,decodePng:()=>$s,readChunk:()=>yi,readChunks:()=>wi,verifyPngSignature:()=>_i});function _i(e){if(e.view.byteLength<7)throw new $(e,`Not enough bytes in file for png signature (${e.view.byteLength})`,0);if(!(e.view.getUint8(0)===137&&e.view.getUint8(1)===80&&e.view.getUint8(2)===78&&e.view.getUint8(3)===71&&e.view.getUint8(4)===13&&e.view.getUint8(5)===10&&e.view.getUint8(6)===26&&e.view.getUint8(7)===10)){let t=pi(Array.from(new Uint8Array(e.view.buffer).slice(e.view.byteOffset,e.view.byteOffset+8))),r=pi([137,80,78,71,13,10,26,10]);throw new $(e,`Png signature is not correct (${t} != ${r})`,0)}}function pi(e){return`0x${e.map(n=>n.toString(16).padStart(2,"0")).join("")}`}function Zs(e){switch(e){case"bKGD":return Promise.resolve().then(()=>(Aa(),Ea));case"cHRM":return Promise.resolve().then(()=>(Ua(),va));case"eXIf":return Promise.resolve().then(()=>(Ma(),Sa));case"gAMA":return Promise.resolve().then(()=>(Ra(),La));case"hIST":return Promise.resolve().then(()=>(za(),Ba));case"iCCP":return Promise.resolve().then(()=>(Na(),Oa));case"iTXt":return Promise.resolve().then(()=>(Fa(),Ha));case"tIME":return Promise.resolve().then(()=>($a(),Za));case"oFFs":return Promise.resolve().then(()=>(ja(),Ga));case"pCAL":return Promise.resolve().then(()=>(Va(),Xa));case"pHYs":return Promise.resolve().then(()=>(Ka(),Wa));case"sBIT":return Promise.resolve().then(()=>(qa(),Ya));case"sCAL":return Promise.resolve().then(()=>(Qa(),Ja));case"sPLT":return Promise.resolve().then(()=>(ti(),ei));case"sRGB":return Promise.resolve().then(()=>(ri(),ni));case"sTER":return Promise.resolve().then(()=>(ii(),ai));case"tEXt":return Promise.resolve().then(()=>(si(),oi));case"tRNS":return Promise.resolve().then(()=>(fi(),li));case"zTXt":return Promise.resolve().then(()=>(ci(),di));default:throw new Error(`Could not get decoder for chunk type "${e}"`)}}async function $s(e,n={}){let t={view:new DataView(e.buffer,e.byteOffset,e.byteLength),image:void 0,palette:void 0,metadata:[],parsedChunks:new Set,warnings:[],info:[],options:n};_i(t);let r=wi(t);t.rawChunks=r;let i=ka(t,r[0]),a={...t,header:i},o;n&&n.parseChunkTypes?n.parseChunkTypes==="*"?o=mi:o=gi.concat(n.parseChunkTypes):o=gi;for(let s=1;s<r.length;s++){let d=r[s];switch(d.type){case"IHDR":Z(a,x(d,"Multiple IHDR chunks not allowed",d.offset+4));break;case"IDAT":{let l=[d];for(;r.length>s+1&&r[s+1].type==="IDAT";)l.push(r[++s]);a.image={width:i.width,height:i.height,data:pa(a,i,l)};break}case"PLTE":a.palette=(await Promise.resolve().then(()=>(ui(),hi))).parseChunk(a,i,d);break;case"IEND":ya(a,i,d);break;default:if(o.includes(d.type))try{a.metadata.push((await Zs(d.type)).parseChunk(a,i,d))}catch(l){if(l instanceof te)Z(a,l);else throw l}else if(!mi.includes(d.type))if(d.isAncillary)a.info.push(`Unrecognized chunk type "${d.type}"`);else throw new $(a,`Unrecognized critical chunk type "${d.type}"`,d.offset+4);break}a.parsedChunks.add(d.type)}if(!a.image)throw new $(a,"Failed to decode, no IDAT chunk",0);return n&&n.force32&&a.image.data.BYTES_PER_ELEMENT===2&&(a.image.data=Zn(a.image.data)),{image:a.image,details:{width:i.width,height:i.height,bitDepth:i.bitDepth,colorType:i.colorType,interlaceMethod:i.interlaceMethod},palette:a.palette,metadata:a.metadata,rawChunks:r,warnings:a.warnings,info:a.info}}function wi(e){let n=[],t=8,r=!1,i=!1,a;for(;t<e.view.byteLength;){try{a=yi(e,t)}catch(o){if(!i||!(o instanceof Error))throw o;Z(e,new te("Could not parse chunk after IEND: "+o.message,t))}t+=8+a.dataLength+4,n.push(a),r||=a.type==="IDAT",i||=a.type==="IEND"}if(n[0].type!=="IHDR")throw new $(e,"First chunk is not IHDR",n[0].offset+4);if(n[n.length-1].type!=="IEND"&&Z(e,new te("Last chunk is not IEND",n[n.length-1].offset+4)),!r)throw new $(e,"No IDAT chunk",0);return n}function yi(e,n){if(e.view.byteLength<n+4)throw new $(e,"EOF while reading chunk length",n);let t=e.view.getUint32(n);if(e.view.byteLength<n+4+4)throw new $(e,"EOF while reading chunk type",n);let r=String.fromCharCode(e.view.getUint8(n+4),e.view.getUint8(n+5),e.view.getUint8(n+6),e.view.getUint8(n+7));if(e.view.byteLength<n+4+4+t+4)throw new $(e,`EOF while reading chunk "${r}"`,n);let i=e.view.getUint32(n+4+4+t)>>>0,a=ut(e.view,n+4,4+t);return i!==a&&Z(e,new te(`CRC for chunk "${r}" at offset 0x${n.toString(16)} doesn't match (0x${i.toString(16)} !== 0x${a.toString(16)})`,n)),{offset:n,type:r,dataLength:t,isAncillary:Mn(r,0),isPrivate:Mn(r,1),isSafeToCopy:Mn(r,3)}}function Mn(e,n){return!!(e.charCodeAt(n)&32)}var gi,mi,Ii=w(()=>{$n();z();wa();ba();Ta();Un();U();gi=Object.freeze(["tRNS"]),mi=Object.freeze(["bKGD","cHRM","eXIf","gAMA","hIST","iCCP","iTXt","tIME","oFFs","pCAL","pHYs","sBIT","sCAL","sPLT","sRGB","sTER","tEXt","tRNS","zTXt"])});var he,Ht=w(()=>{he=class{constructor(n){this.offset=0;this.array=new Uint8Array(n),this.view=new DataView(this.array.buffer,this.array.byteOffset,this.array.byteLength)}writeUint8(n){this.view.setUint8(this.offset,n),this.offset+=1}writeUint16(n){this.view.setUint16(this.offset,n),this.offset+=2}writeUint32(n){this.view.setUint32(this.offset,n),this.offset+=4}writeArray(n){this.array.set(n,this.array.byteOffset+this.offset),this.offset+=n.length}assertAtEnd(){if(this.offset!==this.array.length)throw new Error("Writing finished before expected length of stream")}}});function xi(e,n){e.writeUint8(n.charCodeAt(0)),e.writeUint8(n.charCodeAt(1)),e.writeUint8(n.charCodeAt(2)),e.writeUint8(n.charCodeAt(3))}function Ft(e,n){let t=new he(8+n.length+4);if(t.writeUint32(n.length),e.length!==4)throw new Error(`Cannot encode a chunk type of length ${e.length}`);return xi(t,e),t.writeArray(n),t.writeUint32(ut(t.view,4,4+n.length)),t.assertAtEnd(),t.array}function ee(e,n,t){let r=new he(8+n+4);if(r.writeUint32(n),e.length!==4)throw new Error(`Cannot encode a chunk type of length ${e.length}`);return xi(r,e),t(r),r.writeUint32(ut(r.view,4,4+n)),r.assertAtEnd(),r.array}var xe=w(()=>{Ht();Un();U();});function Ci(e,n){let t=Gs(e,n),r=new he(t);js(e,n,r);let i=st(r.array);return Ft("IDAT",i)}function Gs(e,n){if(e.bitDepth<8)throw new Error("Only bit depth 8 and 16 is supported currently");if(n.data.BYTES_PER_ELEMENT===2&&e.bitDepth===8)throw new Error("16 to 8 bit conversion isn't supported yet");if(e.interlaceMethod!==0)throw new Error("Only interlace method 0 is supported currently");let t;switch(e.colorType){case 0:t=1;break;case 2:t=3;break;case 3:t=1;break;case 4:t=2;break;case 6:t=4;break}let r=e.bitDepth===16?2:1;return(1+t*r*n.width)*n.height}function js(e,n,t){let r=0,i=0,a=0;if(e.colorType===3){if(!e.palette)throw new Error("Cannot encode indexed file without palette");if(n.data.BYTES_PER_ELEMENT===2)throw new Error("Cannot encode indexed file from 16-bit image");for(;a<n.height;a++)for(t.writeUint8(0),i=0;i<n.width;i++)t.writeUint8(e.palette.get(n.data[r]<<24|n.data[r+1]<<16|n.data[r+2]<<8|n.data[r+3])),r+=4;return}let o;if(e.options.filterPattern){if(e.options.filterPattern.length===0)throw new Error("Filter pattern with 0 entries");o=e.options.filterPattern}let s=4*n.data.BYTES_PER_ELEMENT,d=[];for(let f of[0,1,2,3,4])d[f]=Vs(s,s*n.width,f);let l=Pi(e.colorType);for(;a<n.height;a++){let f=o?o[a%o.length]:Xs(e.colorType,n,a*n.width*4,d),c=new Uint8Array(n.data.buffer,n.data.byteOffset,n.data.byteLength);t.writeUint8(f);let u=0,h=0;for(i=0;i<n.width;i++){for(h of l)for(u=n.data.BYTES_PER_ELEMENT-1;u>=0;u--)t.writeUint8(d[f](c,(r+h)*n.data.BYTES_PER_ELEMENT+u,i===0));r+=4}}}function Xs(e,n,t,r){let i=[],a=4*n.data.BYTES_PER_ELEMENT;for(let d of[0,1,2,3,4]){let l=0,f=Pi(e),c=new Uint8Array(n.data.buffer,n.data.byteOffset,n.data.byteLength),u=0,h=0;for(let _=t;_<t+n.width*4;_+=4)for(u of f)for(h=n.data.BYTES_PER_ELEMENT-1;h>=0;h--)l+=r[d](c,(_+u)*n.data.BYTES_PER_ELEMENT+h,_===t);i[d]=l}let o=0,s=i[0];for(let d of[1,2,3,4])i[d]<s&&(o=d,s=i[d]);return o}function Vs(e,n,t){let r=0,i=0,a=0;switch(t){case 0:return(o,s)=>o[s];case 1:return(o,s,d)=>(r=d?-1:s-e,(o[s]-(r<0?0:o[s-e])+256)%256);case 2:return(o,s)=>(i=s-n,(o[s]-(i<0?0:o[i])+256)%256);case 3:return(o,s,d)=>(r=d?-1:s-e,i=s-n,(o[s]-Math.floor(((r<0?0:o[r])+(i<0?0:o[i]))/2)+256)%256);case 4:return(o,s,d)=>(r=d?-1:s-e,i=s-n,a=d?-1:s-e-n,(o[s]-ct(r<0?0:o[r],i<0?0:o[i],a<0?0:o[a])+256)%256)}}function Pi(e){switch(e){case 0:return[0];case 2:return[0,1,2];case 4:return[0,3];case 6:return[0,1,2,3]}}var Di=w(()=>{dt();Ht();An();U();xe();});function ki(){return Ft("IEND",new Uint8Array(0))}var Ti=w(()=>{xe();});function Ei(e,n){if(n.width<=0||n.height<=0)throw new Error(`Invalid dimensions ${n.width}x${n.height}`);return ee("IHDR",13,t=>{t.writeUint32(n.width),t.writeUint32(n.height),t.writeUint8(e.bitDepth),t.writeUint8(e.colorType),t.writeUint8(0),t.writeUint8(0),t.writeUint8(e.interlaceMethod)})}var Ai=w(()=>{xe();});var vi={};M(vi,{encodeChunk:()=>Ws});function Ws(e,n){switch(e.colorType){case 0:{if(e.firstTransparentColor===void 0)throw new Error("Cannot write tRNS for grayscale without any transparent colors");let t=e.firstTransparentColor;return ee("tRNS",2,r=>{n.data.BYTES_PER_ELEMENT===2?r.writeUint16(t>>48&65535):r.writeUint16(t>>24&255)})}case 3:{if(!e.palette)throw new Error("Cannot encode tRNS chunk for indexed image without palette");return ee("tRNS",e.palette.size,t=>{for(let r of e.colorSet)t.writeUint8(r&255)})}case 2:{if(e.firstTransparentColor===void 0)throw new Error("Cannot write tRNS for True color without any transparent colors");let t=e.firstTransparentColor;return ee("tRNS",6,r=>{n.data.BYTES_PER_ELEMENT===2?(r.writeUint16(t>>48&65535),r.writeUint16(t>>32&65535),r.writeUint16(t>>16&65535)):(r.writeUint16(t>>24&255),r.writeUint16(t>>16&255),r.writeUint16(t>>8&255))})}default:throw new Error(`Cannot encode tRNS chunk for color type "${e.colorType}"`)}}var Ui=w(()=>{U();xe();});var Si={};M(Si,{encodeChunk:()=>Ks});function Ks(e,n){if(e.bitDepth===16||n.data.BYTES_PER_ELEMENT===2)throw new Error("Cannot encode 16 bit images using indexed color type");if(e.colorSet.size>Math.pow(2,e.bitDepth))throw new Error(`Too many colors ${e.colorSet.size} to encode into indexed image (2^${e.bitDepth} = ${Math.pow(2,e.bitDepth)})`);let t=ee("PLTE",e.colorSet.size*3,i=>{for(let a of e.colorSet.values())i.writeUint8(a>>24&255),i.writeUint8(a>>16&255),i.writeUint8(a>>8&255)}),r=new Map;for(let i of e.colorSet.values())r.set(i,r.size);return{chunkData:t,palette:r}}var Mi=w(()=>{xe();});var Li={};M(Li,{encodeChunk:()=>Ys});function Ys(e,n,t,r){if(t.length===0||t.length>79)throw new ne(`tEXt: Invalid keyword length: 0 < ${t.length} < 80`,0);r=r instanceof Uint8Array?r:new TextEncoder().encode(r);let i=t.length+1+r.length;return ee("tEXt",i,a=>{let o=0;for(;o<t.length;o++)a.writeUint8(t.charCodeAt(o));for(a.writeUint8(0),o=0;o<r.length;o++)a.writeUint8(r[o])})}var Ri=w(()=>{Xe();xe();});var Bi={};M(Bi,{encodeChunk:()=>qs});function qs(e,n,t,r){if(t.length===0||t.length>79)throw new ne(`zTXt: Invalid keyword length: 0 < ${t.length} < 80`,0);r=st(r);let i=t.length+1+1+r.byteLength;return ee("zTXt",i,a=>{let o=0;for(;o<t.length;o++)a.writeUint8(t.charCodeAt(o));for(a.writeUint8(0),a.writeUint8(0),o=0;o<r.byteLength;o++)a.writeUint8(r[o])})}var zi=w(()=>{dt();Xe();xe()});var Oi={};M(Oi,{EncodeError:()=>ne,EncodeWarning:()=>De,encodePng:()=>Qs});function Js(e){switch(e){case"tRNS":return Promise.resolve().then(()=>(Ui(),vi));default:throw new Error(`Could not get encoder for chunk type "${e}"`)}}async function Qs(e,n={}){if(e.data.length!==e.width*e.height*4)throw new ne(`Provided image data length (${e.data.length}) is not expected length (${e.width*e.height*4})`,Math.min(e.data.length,e.width*e.height*4)-1);let t=[];t.push(el());let r=tl(e,n);if(t.push(Ei(r,e)),r.colorType===3){let s=(await Promise.resolve().then(()=>(Mi(),Si))).encodeChunk(r,e);r.palette=s.palette,t.push(s.chunkData)}if(r.useTransparencyChunk&&t.push((await Js("tRNS")).encodeChunk(r,e)),t.push(Ci(r,e)),n?.ancillaryChunks!==void 0)for(let s of n.ancillaryChunks)switch(s.type){case"tEXt":t.push((await Promise.resolve().then(()=>(Ri(),Li))).encodeChunk(r,e,s.keyword,s.text));break;case"zTXt":t.push((await Promise.resolve().then(()=>(zi(),Bi))).encodeChunk(r,e,s.keyword,s.text));break;default:throw new Error(`Cannot encode chunk type "${s.type}"`)}t.push(ki());let i=t.reduce((s,d)=>s+d.length,0),a=new Uint8Array(i),o=0;for(let s of t)a.set(s,o),o+=s.length;return{data:a,warnings:r.warnings,info:r.info}}function el(){let e=new he(8);return e.writeUint8(137),e.writeUint8(80),e.writeUint8(78),e.writeUint8(71),e.writeUint8(13),e.writeUint8(10),e.writeUint8(26),e.writeUint8(10),e.assertAtEnd(),e.array}function tl(e,n={}){let t=[],r=[],a=e.width*e.height*4,o=new Set,s=new Set,d=0;if(e.data.BYTES_PER_ELEMENT===2)for(let c=0;c<a;c+=4)d=e.data[c]<<48|e.data[c+1]<<32|e.data[c+2]<<16|e.data[c+3],e.data[c+3]<65535&&s.add(d),o.add(d);else for(let c=0;c<a;c+=4)d=e.data[c]<<24|e.data[c+1]<<16|e.data[c+2]<<8|e.data[c+3],e.data[c+3]<255&&s.add(d),o.add(d);let l=n.colorType;l===void 0&&(o.size>256||e.data.BYTES_PER_ELEMENT===2?l=2:l=3);let f;switch(l){case 0:case 2:f=s.size===1,!f&&s.size>1&&(l=l===2?6:4,n.colorType===2&&Fn({options:n,warnings:t},new De(`Cannot encode image as color type Truecolor as it contains ${s.size} transparent colors`,0)));break;case 3:f=s.size>0;break;default:f=!1}return n.colorType===void 0&&r.push(`Using color type ${l}`),{colorType:l,bitDepth:e.data.BYTES_PER_ELEMENT===2?16:8,interlaceMethod:0,colorSet:o,transparentColorCount:s.size,firstTransparentColor:s.size>0?s.values().next().value:void 0,useTransparencyChunk:f,options:n,warnings:t,info:r}}var Ni=w(()=>{Ht();Di();Ti();Ai();Xe();U();});var Nn={};M(Nn,{arrayBufferToValue:()=>Rn,compress:()=>Gt,compressJson:()=>al,createDataBlock:()=>Bn,decode:()=>gl,decodeBinary:()=>ml,decodeImageData:()=>Vi,decodeImageDataBinary:()=>On,decodeImageDataBlocks:()=>zn,decodeImageMetadata:()=>pl,decompress:()=>ol,decompressAsArrayBuffer:()=>jt,decompressAsString:()=>il,defaultCompressionFormat:()=>je,encode:()=>sl,encodeBinary:()=>ll,encodeImageData:()=>mt,encodeImageDataBlocks:()=>cl,encodeToBlob:()=>fl,encodeToImage:()=>dl,getDataBlock:()=>hl,getDataBlocks:()=>ul,valueToArrayBuffer:()=>gt});var Ln={};M(Ln,{ChunkPartByteLength:()=>R,ColorType:()=>re,DecodeError:()=>$,DecodeWarning:()=>te,EncodeError:()=>ne,EncodeWarning:()=>De,FilterMethod:()=>Vt,FilterType:()=>bt,InterlaceMethod:()=>ue,KnownChunkTypes:()=>H,RenderingIntent:()=>yt,decodePng:()=>Me,encodePng:()=>Ge});z();Xe();async function Me(e,n){return(await Promise.resolve().then(()=>(Ii(),bi))).decodePng(e,n)}async function Ge(e,n){return(await Promise.resolve().then(()=>(Ni(),Oi))).encodePng(e,n)}Xt();U();function Zt(e){return new Blob([e],{type:"image/png"})}async function Hi(e,n=document.createElement("img")){return new Promise((t,r)=>{let i=()=>{URL.revokeObjectURL(n.src),n.removeEventListener("load",i),n.removeEventListener("error",r),t(n)};n.addEventListener("load",i),n.addEventListener("error",r),n.src=URL.createObjectURL(e)})}function Fi(e,n){let t=e.length;for(let r=0;r<3;r++)n[r]=t/Math.pow(256,r)%256|0;n[3]=255;for(let r=4,i=0,a=n.length;r<a;r+=4,i+=3)n[r]=e[i]||0,n[r+1]=e[i+1]||0,n[r+2]=e[i+2]||0,n[r+3]=255;return n}function Zi(e){let n=0;for(let r=0;r<3;r++){let i=e[r]*Math.pow(256,r);n+=i}let t=new Uint8Array(n);e:for(let r=4,i=0,a=e.length;i<a;r+=4,i+=3)for(let o=0;o<3;o++){if(i+o>=n)break e;t[i+o]=e[r+o]}return t.buffer}async function $i(e){let n=new Uint8Array(e),t=Math.ceil(Math.sqrt(n.length/3+1)),r=new Uint8ClampedArray(t*t*4);return Fi(n,r),(await Ge({width:t,height:t,data:new Uint8Array(r.buffer)})).data.buffer}async function Gi(e){let{image:n}=await Me(new Uint8Array(e instanceof ArrayBuffer?e:e.buffer));return Zi(new Uint8ClampedArray(n.data.buffer))}function gt(e){return new TextEncoder().encode(JSON.stringify(e)).buffer}function Rn(e){return JSON.parse(new TextDecoder().decode(e))}var{CompressionStream:nl,DecompressionStream:rl,Response:$t}=globalThis,je="gzip";async function Gt(e,n=je){let t=new nl(n),r=new $t(e).body?.pipeThrough(t);return await new $t(r).arrayBuffer()}async function al(e,n=je){return await Gt(gt(e),n)}async function ji(e,n=je){let t=new rl(n),r=new $t(e).body?.pipeThrough(t);return new $t(r)}async function jt(e,n=je){return(await ji(e,n)).arrayBuffer()}async function il(e,n=je){return(await ji(e,n)).text()}var ol=jt;async function mt(e){return await $i(await Gt(e instanceof ArrayBuffer||e instanceof Uint8Array?e:gt(e)))}async function sl(e){return await mt(e)}async function ll(e){return await mt(e)}async function fl(e){return Zt(await mt(e))}async function dl(e,n){return Hi(Zt(await mt(e)),n)}function Xi(e){let n=new Uint8Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}var{KnownChunkTypes:Le}=Ln;function Bn(e,n){return n instanceof ArrayBuffer&&(n=new Uint8Array(n)),n instanceof Uint8Array?{type:"bin",name:e,value:n}:typeof n=="string"?{type:"text",name:e,value:n}:{type:"json",name:e,value:n}}async function zn(e,n=[]){let{image:t,metadata:r,details:i,palette:a}=await Me(e instanceof Uint8Array?e:new Uint8Array(e),{parseChunkTypes:n==="*"?n:[...n,Le.tEXt,Le.zTXt]}),o=[];for(let{type:s,keyword:d="",text:l}of r){let[f,c]=d.split("/");switch(s){case Le.tEXt:switch(f){case"text":o.push({type:f,name:c,value:l});break}break;case Le.zTXt:switch(f){case"json":o.push({type:f,name:c,value:JSON.parse(String(l))});break;case"bin":o.push({type:f,name:c,value:Xi(l)});break}break}}return{image:t,blocks:o,chunks:r,details:i,palette:a}}async function cl(e,n){let t=e instanceof ArrayBuffer||e instanceof Uint8Array?(await Me(e)).image:e,r=[],i=[];for(let[a,o]of Object.entries(n))if(Array.isArray(o))for(let s of o)r.push(Bn(a,s));else r.push(Bn(a,o));for(let{type:a,name:o,value:s}of r)switch(a){case"text":i.push({type:Le.tEXt,keyword:`${a}/${o}`,text:s});break;case"json":i.push({type:Le.zTXt,keyword:`${a}/${o}`,text:JSON.stringify(s)});break;case"bin":i.push({type:Le.zTXt,keyword:`${a}/${o}`,text:String.fromCharCode.apply(null,new Uint16Array(s))});break;default:break}return(await Ge(t,{ancillaryChunks:i})).data}function hl(e,n){for(let t of n)if(t.name===e)return t.value}function ul(e,n){return n.filter(t=>t.name===e).map(t=>t.value)}async function Vi(e){return Rn(await On(e))}async function On(e){return await jt(await Gi(e))}async function pl(e){return await zn(e)}async function gl(e){return await Vi(e)}async function ml(e){return await On(e)}window.PNGCompressor=Nn;})();
/**
 * @license
 * Copyright (c) 2022 Daniel Imms <http://www.growingwiththeweb.com>
 * Released under MIT license. See LICENSE in the project root for details.
 */
//# sourceMappingURL=png-compressor.js.map
