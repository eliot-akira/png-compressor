(()=>{var Fi=Object.defineProperty;var m=(e,n)=>()=>(e&&(n=e(e=0)),n);var B=(e,n)=>{for(var t in n)Fi(e,t,{get:n[t],enumerable:!0})};var On=m(()=>{});var S=m(()=>{On();});function U(e,n){e.parsedChunks.has(n.type)&&F(e,I(n,`Multiple ${n.type} chunks not allowed`,n.offset+4))}function L(e,n,t){if(n.dataLength!==t){let r=I(n,`Invalid data length: ${n.dataLength} !== ${t}`,n.offset);if(n.dataLength>t)F(e,r);else throw r}}function J(e,n,t){if(n.dataLength<t)throw xe(e,n,`Invalid data length: ${n.dataLength} < ${t}`,n.offset)}function T(e,n,t){e.parsedChunks.has(t)&&F(e,I(n,`Must precede ${t}`,n.offset+4))}function Se(e,n,t){if(!e.parsedChunks.has(t))throw xe(e,n,`Must follow ${t}`,n.offset+4)}function ht(e,n,t){e.parsedChunks.has(t)&&F(e,I(n,`Should not be present alongside ${t}`,n.offset+4))}function ce(e,n,t,r){t!==0&&F(e,I(n,`Unknown compression method "${t}"`,r))}function xe(e,n,t,r){return new G(e,`${n.type}: ${t}`,r)}function I(e,n,t){return new ee(`${e.type}: ${n}`,t)}function F(e,n){if(e.options.strictMode)throw n;e.warnings.push(n)}var G,ee,R=m(()=>{S();G=class extends Error{constructor(t,r,a){super(r);this.offset=a;this.partiallyDecodedImage={details:"header"in t&&t.header?{width:t.header.width,height:t.header.height,bitDepth:t.header.bitDepth,colorType:t.header.colorType,interlaceMethod:t.header.interlaceMethod}:void 0,info:t.info,metadata:t.metadata,rawChunks:t.rawChunks,warnings:t.warnings}}};ee=class extends Error{constructor(t,r){super(t);this.offset=r}}});function Nn(e,n){if(e.options.strictMode)throw n;e.warnings.push(n)}var he,Me,ut=m(()=>{he=class extends Error{constructor(t,r){super(t);this.offset=r}},Me=class extends Error{constructor(t,r){super(t);this.offset=r}}});function Hn(e){let n=new Uint8Array(e.buffer),t=new Uint8Array(e.length);for(let r=0;r<t.length;r++)t[r]=n[r*2+1];return t}var Fn=m(()=>{});function Le(e){let n=e.length;for(;--n>=0;)e[n]=0}function Ft(e,n,t,r,a){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}function Zt(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}var $i,Xn,Gi,ji,Wi,Wt,Xe,$e,Ue,Xt,Yn,Ce,Ht,Xi,Yt,Kn,Vn,qn,Gt,pt,Yi,Jn,Ki,oe,Ze,Ge,je,Kt,gt,Qn,er,tr,nr,We,K,te,rr,Vi,qi,ar,Ji,ir,or,Zn,$t,$n,jt,Gn,jn,Qi,eo,to,Wn,no,sr,ro,ao,io,lr,_t,fr,se,dr,cr=m(()=>{$i=0,Xn=1,Gi=2,ji=3,Wi=258,Wt=29,Xe=256,$e=Xe+1+Wt,Ue=30,Xt=19,Yn=2*$e+1,Ce=15,Ht=16,Xi=7,Yt=256,Kn=16,Vn=17,qn=18,Gt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),pt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Yi=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Jn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ki=512,oe=new Array(($e+2)*2);Le(oe);Ze=new Array(Ue*2);Le(Ze);Ge=new Array(Ki);Le(Ge);je=new Array(Wi-ji+1);Le(je);Kt=new Array(Wt);Le(Kt);gt=new Array(Ue);Le(gt);nr=e=>e<256?Ge[e]:Ge[256+(e>>>7)],We=(e,n)=>{e.pending_buf[e.pending++]=n&255,e.pending_buf[e.pending++]=n>>>8&255},K=(e,n,t)=>{e.bi_valid>Ht-t?(e.bi_buf|=n<<e.bi_valid&65535,We(e,e.bi_buf),e.bi_buf=n>>Ht-e.bi_valid,e.bi_valid+=t-Ht):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)},te=(e,n,t)=>{K(e,t[n*2],t[n*2+1])},rr=(e,n)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--n>0);return t>>>1},Vi=e=>{e.bi_valid===16?(We(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},qi=(e,n)=>{let t=n.dyn_tree,r=n.max_code,a=n.stat_desc.static_tree,i=n.stat_desc.has_stree,o=n.stat_desc.extra_bits,s=n.stat_desc.extra_base,d=n.stat_desc.max_length,l,f,h,u,c,_,P=0;for(u=0;u<=Ce;u++)e.bl_count[u]=0;for(t[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<Yn;l++)f=e.heap[l],u=t[t[f*2+1]*2+1]+1,u>d&&(u=d,P++),t[f*2+1]=u,!(f>r)&&(e.bl_count[u]++,c=0,f>=s&&(c=o[f-s]),_=t[f*2],e.opt_len+=_*(u+c),i&&(e.static_len+=_*(a[f*2+1]+c)));if(P!==0){do{for(u=d-1;e.bl_count[u]===0;)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[d]--,P-=2}while(P>0);for(u=d;u!==0;u--)for(f=e.bl_count[u];f!==0;)h=e.heap[--l],!(h>r)&&(t[h*2+1]!==u&&(e.opt_len+=(u-t[h*2+1])*t[h*2],t[h*2+1]=u),f--)}},ar=(e,n,t)=>{let r=new Array(Ce+1),a=0,i,o;for(i=1;i<=Ce;i++)a=a+t[i-1]<<1,r[i]=a;for(o=0;o<=n;o++){let s=e[o*2+1];s!==0&&(e[o*2]=rr(r[s]++,s))}},Ji=()=>{let e,n,t,r,a,i=new Array(Ce+1);for(t=0,r=0;r<Wt-1;r++)for(Kt[r]=t,e=0;e<1<<Gt[r];e++)je[t++]=r;for(je[t-1]=r,a=0,r=0;r<16;r++)for(gt[r]=a,e=0;e<1<<pt[r];e++)Ge[a++]=r;for(a>>=7;r<Ue;r++)for(gt[r]=a<<7,e=0;e<1<<pt[r]-7;e++)Ge[256+a++]=r;for(n=0;n<=Ce;n++)i[n]=0;for(e=0;e<=143;)oe[e*2+1]=8,e++,i[8]++;for(;e<=255;)oe[e*2+1]=9,e++,i[9]++;for(;e<=279;)oe[e*2+1]=7,e++,i[7]++;for(;e<=287;)oe[e*2+1]=8,e++,i[8]++;for(ar(oe,$e+1,i),e=0;e<Ue;e++)Ze[e*2+1]=5,Ze[e*2]=rr(e,5);Qn=new Ft(oe,Gt,Xe+1,$e,Ce),er=new Ft(Ze,pt,0,Ue,Ce),tr=new Ft(new Array(0),Yi,0,Xt,Xi)},ir=e=>{let n;for(n=0;n<$e;n++)e.dyn_ltree[n*2]=0;for(n=0;n<Ue;n++)e.dyn_dtree[n*2]=0;for(n=0;n<Xt;n++)e.bl_tree[n*2]=0;e.dyn_ltree[Yt*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},or=e=>{e.bi_valid>8?We(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Zn=(e,n,t,r)=>{let a=n*2,i=t*2;return e[a]<e[i]||e[a]===e[i]&&r[n]<=r[t]},$t=(e,n,t)=>{let r=e.heap[t],a=t<<1;for(;a<=e.heap_len&&(a<e.heap_len&&Zn(n,e.heap[a+1],e.heap[a],e.depth)&&a++,!Zn(n,r,e.heap[a],e.depth));)e.heap[t]=e.heap[a],t=a,a<<=1;e.heap[t]=r},$n=(e,n,t)=>{let r,a,i=0,o,s;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+i++]&255,r+=(e.pending_buf[e.sym_buf+i++]&255)<<8,a=e.pending_buf[e.sym_buf+i++],r===0?te(e,a,n):(o=je[a],te(e,o+Xe+1,n),s=Gt[o],s!==0&&(a-=Kt[o],K(e,a,s)),r--,o=nr(r),te(e,o,t),s=pt[o],s!==0&&(r-=gt[o],K(e,r,s)));while(i<e.sym_next);te(e,Yt,n)},jt=(e,n)=>{let t=n.dyn_tree,r=n.stat_desc.static_tree,a=n.stat_desc.has_stree,i=n.stat_desc.elems,o,s,d=-1,l;for(e.heap_len=0,e.heap_max=Yn,o=0;o<i;o++)t[o*2]!==0?(e.heap[++e.heap_len]=d=o,e.depth[o]=0):t[o*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=d<2?++d:0,t[l*2]=1,e.depth[l]=0,e.opt_len--,a&&(e.static_len-=r[l*2+1]);for(n.max_code=d,o=e.heap_len>>1;o>=1;o--)$t(e,t,o);l=i;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],$t(e,t,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,t[l*2]=t[o*2]+t[s*2],e.depth[l]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,t[o*2+1]=t[s*2+1]=l,e.heap[1]=l++,$t(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],qi(e,n),ar(t,d,e.bl_count)},Gn=(e,n,t)=>{let r,a=-1,i,o=n[0*2+1],s=0,d=7,l=4;for(o===0&&(d=138,l=3),n[(t+1)*2+1]=65535,r=0;r<=t;r++)i=o,o=n[(r+1)*2+1],!(++s<d&&i===o)&&(s<l?e.bl_tree[i*2]+=s:i!==0?(i!==a&&e.bl_tree[i*2]++,e.bl_tree[Kn*2]++):s<=10?e.bl_tree[Vn*2]++:e.bl_tree[qn*2]++,s=0,a=i,o===0?(d=138,l=3):i===o?(d=6,l=3):(d=7,l=4))},jn=(e,n,t)=>{let r,a=-1,i,o=n[0*2+1],s=0,d=7,l=4;for(o===0&&(d=138,l=3),r=0;r<=t;r++)if(i=o,o=n[(r+1)*2+1],!(++s<d&&i===o)){if(s<l)do te(e,i,e.bl_tree);while(--s!==0);else i!==0?(i!==a&&(te(e,i,e.bl_tree),s--),te(e,Kn,e.bl_tree),K(e,s-3,2)):s<=10?(te(e,Vn,e.bl_tree),K(e,s-3,3)):(te(e,qn,e.bl_tree),K(e,s-11,7));s=0,a=i,o===0?(d=138,l=3):i===o?(d=6,l=3):(d=7,l=4)}},Qi=e=>{let n;for(Gn(e,e.dyn_ltree,e.l_desc.max_code),Gn(e,e.dyn_dtree,e.d_desc.max_code),jt(e,e.bl_desc),n=Xt-1;n>=3&&e.bl_tree[Jn[n]*2+1]===0;n--);return e.opt_len+=3*(n+1)+5+5+4,n},eo=(e,n,t,r)=>{let a;for(K(e,n-257,5),K(e,t-1,5),K(e,r-4,4),a=0;a<r;a++)K(e,e.bl_tree[Jn[a]*2+1],3);jn(e,e.dyn_ltree,n-1),jn(e,e.dyn_dtree,t-1)},to=e=>{let n=4093624447,t;for(t=0;t<=31;t++,n>>>=1)if(n&1&&e.dyn_ltree[t*2]!==0)return 0;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return 1;for(t=32;t<Xe;t++)if(e.dyn_ltree[t*2]!==0)return 1;return 0},Wn=!1,no=e=>{Wn||(Ji(),Wn=!0),e.l_desc=new Zt(e.dyn_ltree,Qn),e.d_desc=new Zt(e.dyn_dtree,er),e.bl_desc=new Zt(e.bl_tree,tr),e.bi_buf=0,e.bi_valid=0,ir(e)},sr=(e,n,t,r)=>{K(e,($i<<1)+(r?1:0),3),or(e),We(e,t),We(e,~t),t&&e.pending_buf.set(e.window.subarray(n,n+t),e.pending),e.pending+=t},ro=e=>{K(e,Xn<<1,3),te(e,Yt,oe),Vi(e)},ao=(e,n,t,r)=>{let a,i,o=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=to(e)),jt(e,e.l_desc),jt(e,e.d_desc),o=Qi(e),a=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=a&&(a=i)):a=i=t+5,t+4<=a&&n!==-1?sr(e,n,t,r):e.strategy===4||i===a?(K(e,(Xn<<1)+(r?1:0),3),$n(e,oe,Ze)):(K(e,(Gi<<1)+(r?1:0),3),eo(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),$n(e,e.dyn_ltree,e.dyn_dtree)),ir(e),r&&or(e)},io=(e,n,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=n,e.pending_buf[e.sym_buf+e.sym_next++]=n>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,n===0?e.dyn_ltree[t*2]++:(e.matches++,n--,e.dyn_ltree[(je[t]+Xe+1)*2]++,e.dyn_dtree[nr(n)*2]++),e.sym_next===e.sym_end),lr=no,_t=sr,fr=ao,se=io,dr=ro});var oo,Pe,Vt=m(()=>{oo=(e,n,t,r)=>{let a=e&65535|0,i=e>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do a=a+n[r++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0},Pe=oo});var so,lo,fo,Z,qt=m(()=>{so=()=>{let e,n=[];for(var t=0;t<256;t++){e=t;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;n[t]=e}return n},lo=new Uint32Array(so()),fo=(e,n,t,r)=>{let a=lo,i=r+t;e^=-1;for(let o=r;o<i;o++)e=e>>>8^a[(e^n[o])&255];return e^-1},Z=fo});var le,mt=m(()=>{"use strict";le={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var ue=m(()=>{});function ne(e,n,t,r,a){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=r,this.func=a}function Ao(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Io*2),this.dyn_dtree=new Uint16Array((2*yo+1)*2),this.bl_tree=new Uint16Array((2*bo+1)*2),pe(this.dyn_ltree),pe(this.dyn_dtree),pe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(xo+1),this.heap=new Uint16Array(2*en+1),pe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*en+1),pe(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var _o,mo,wo,en,yo,bo,Io,xo,v,ge,re,Co,Be,fn,tn,nn,rn,an,De,Ke,Y,Oe,ke,Ne,Po,Te,hr,pe,Do,To,_e,V,q,M,Ye,on,pr,ze,gr,Qt,Re,ko,Eo,Ve,vo,Je,So,Mo,Uo,Lo,Ro,Bo,zo,_r,mr,wr,yr,br,Ir=m(()=>{cr();Vt();qt();mt();ue();_o=9,mo=29,wo=256,en=wo+1+mo,yo=30,bo=19,Io=2*en+1,xo=15,v=3,ge=258,re=ge+v+1,Co=32,Be=42,fn=57,tn=69,nn=73,rn=91,an=103,De=113,Ke=666,Y=1,Oe=2,ke=3,Ne=4,Po=3,Te=(e,n)=>(e.msg=le[n],n),hr=e=>e*2-(e>4?9:0),pe=e=>{let n=e.length;for(;--n>=0;)e[n]=0},Do=e=>{let n,t,r,a=e.w_size;n=e.hash_size,r=n;do t=e.head[--r],e.head[r]=t>=a?t-a:0;while(--n);n=a,r=n;do t=e.prev[--r],e.prev[r]=t>=a?t-a:0;while(--n)},To=(e,n,t)=>(n<<e.hash_shift^t)&e.hash_mask,_e=To,V=e=>{let n=e.state,t=n.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+t),e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,n.pending===0&&(n.pending_out=0))},q=(e,n)=>{fr(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,V(e.strm)},M=(e,n)=>{e.pending_buf[e.pending++]=n},Ye=(e,n)=>{e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=n&255},on=(e,n,t,r)=>{let a=e.avail_in;return a>r&&(a=r),a===0?0:(e.avail_in-=a,n.set(e.input.subarray(e.next_in,e.next_in+a),t),e.state.wrap===1?e.adler=Pe(e.adler,n,a,t):e.state.wrap===2&&(e.adler=Z(e.adler,n,a,t)),e.next_in+=a,e.total_in+=a,a)},pr=(e,n)=>{let t=e.max_chain_length,r=e.strstart,a,i,o=e.prev_length,s=e.nice_match,d=e.strstart>e.w_size-re?e.strstart-(e.w_size-re):0,l=e.window,f=e.w_mask,h=e.prev,u=e.strstart+ge,c=l[r+o-1],_=l[r+o];e.prev_length>=e.good_match&&(t>>=2),s>e.lookahead&&(s=e.lookahead);do if(a=n,!(l[a+o]!==_||l[a+o-1]!==c||l[a]!==l[r]||l[++a]!==l[r+1])){r+=2,a++;do;while(l[++r]===l[++a]&&l[++r]===l[++a]&&l[++r]===l[++a]&&l[++r]===l[++a]&&l[++r]===l[++a]&&l[++r]===l[++a]&&l[++r]===l[++a]&&l[++r]===l[++a]&&r<u);if(i=ge-(u-r),r=u-ge,i>o){if(e.match_start=n,o=i,i>=s)break;c=l[r+o-1],_=l[r+o]}}while((n=h[n&f])>d&&--t!==0);return o<=e.lookahead?o:e.lookahead},ze=e=>{let n=e.w_size,t,r,a;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=n+(n-re)&&(e.window.set(e.window.subarray(n,n+n-r),0),e.match_start-=n,e.strstart-=n,e.block_start-=n,e.insert>e.strstart&&(e.insert=e.strstart),Do(e),r+=n),e.strm.avail_in===0)break;if(t=on(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=t,e.lookahead+e.insert>=v)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=_e(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=_e(e,e.ins_h,e.window[a+v-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<v)););}while(e.lookahead<re&&e.strm.avail_in!==0)},gr=(e,n)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,a,i,o=0,s=e.strm.avail_in;do{if(r=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,a=e.strstart-e.block_start,r>a+e.strm.avail_in&&(r=a+e.strm.avail_in),r>i&&(r=i),r<t&&(r===0&&n!==4||n===0||r!==a+e.strm.avail_in)))break;o=n===4&&r===a+e.strm.avail_in?1:0,_t(e,0,0,o),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,V(e.strm),a&&(a>r&&(a=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,r-=a),r&&(on(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(o===0);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?Ne:n!==0&&n!==4&&e.strm.avail_in===0&&e.strstart===e.block_start?Oe:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(on(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,t=i>e.w_size?e.w_size:i,a=e.strstart-e.block_start,(a>=t||(a||n===4)&&n!==0&&e.strm.avail_in===0&&a<=i)&&(r=a>i?i:a,o=n===4&&e.strm.avail_in===0&&r===a?1:0,_t(e,e.block_start,r,o),e.block_start+=r,V(e.strm)),o?ke:Y)},Qt=(e,n)=>{let t,r;for(;;){if(e.lookahead<re){if(ze(e),e.lookahead<re&&n===0)return Y;if(e.lookahead===0)break}if(t=0,e.lookahead>=v&&(e.ins_h=_e(e,e.ins_h,e.window[e.strstart+v-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-re&&(e.match_length=pr(e,t)),e.match_length>=v)if(r=se(e,e.strstart-e.match_start,e.match_length-v),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=v){e.match_length--;do e.strstart++,e.ins_h=_e(e,e.ins_h,e.window[e.strstart+v-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=_e(e,e.ins_h,e.window[e.strstart+1]);else r=se(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(q(e,!1),e.strm.avail_out===0))return Y}return e.insert=e.strstart<v-1?e.strstart:v-1,n===4?(q(e,!0),e.strm.avail_out===0?ke:Ne):e.sym_next&&(q(e,!1),e.strm.avail_out===0)?Y:Oe},Re=(e,n)=>{let t,r,a;for(;;){if(e.lookahead<re){if(ze(e),e.lookahead<re&&n===0)return Y;if(e.lookahead===0)break}if(t=0,e.lookahead>=v&&(e.ins_h=_e(e,e.ins_h,e.window[e.strstart+v-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=v-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-re&&(e.match_length=pr(e,t),e.match_length<=5&&(e.strategy===1||e.match_length===v&&e.strstart-e.match_start>4096)&&(e.match_length=v-1)),e.prev_length>=v&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-v,r=se(e,e.strstart-1-e.prev_match,e.prev_length-v),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=_e(e,e.ins_h,e.window[e.strstart+v-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=v-1,e.strstart++,r&&(q(e,!1),e.strm.avail_out===0))return Y}else if(e.match_available){if(r=se(e,0,e.window[e.strstart-1]),r&&q(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Y}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=se(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<v-1?e.strstart:v-1,n===4?(q(e,!0),e.strm.avail_out===0?ke:Ne):e.sym_next&&(q(e,!1),e.strm.avail_out===0)?Y:Oe},ko=(e,n)=>{let t,r,a,i,o=e.window;for(;;){if(e.lookahead<=ge){if(ze(e),e.lookahead<=ge&&n===0)return Y;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=v&&e.strstart>0&&(a=e.strstart-1,r=o[a],r===o[++a]&&r===o[++a]&&r===o[++a])){i=e.strstart+ge;do;while(r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&a<i);e.match_length=ge-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=v?(t=se(e,1,e.match_length-v),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=se(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(q(e,!1),e.strm.avail_out===0))return Y}return e.insert=0,n===4?(q(e,!0),e.strm.avail_out===0?ke:Ne):e.sym_next&&(q(e,!1),e.strm.avail_out===0)?Y:Oe},Eo=(e,n)=>{let t;for(;;){if(e.lookahead===0&&(ze(e),e.lookahead===0)){if(n===0)return Y;break}if(e.match_length=0,t=se(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(q(e,!1),e.strm.avail_out===0))return Y}return e.insert=0,n===4?(q(e,!0),e.strm.avail_out===0?ke:Ne):e.sym_next&&(q(e,!1),e.strm.avail_out===0)?Y:Oe};Ve=[new ne(0,0,0,0,gr),new ne(4,4,8,4,Qt),new ne(4,5,16,8,Qt),new ne(4,6,32,32,Qt),new ne(4,4,16,16,Re),new ne(8,16,32,32,Re),new ne(8,16,128,128,Re),new ne(8,32,128,256,Re),new ne(32,128,258,1024,Re),new ne(32,258,258,4096,Re)],vo=e=>{e.window_size=2*e.w_size,pe(e.head),e.max_lazy_match=Ve[e.level].max_lazy,e.good_match=Ve[e.level].good_length,e.nice_match=Ve[e.level].nice_length,e.max_chain_length=Ve[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=v-1,e.match_available=0,e.ins_h=0};Je=e=>{if(!e)return 1;let n=e.state;return!n||n.strm!==e||n.status!==Be&&n.status!==fn&&n.status!==tn&&n.status!==nn&&n.status!==rn&&n.status!==an&&n.status!==De&&n.status!==Ke?1:0},So=e=>{if(Je(e))return Te(e,-2);e.total_in=e.total_out=0,e.data_type=2;let n=e.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap===2?fn:n.wrap?Be:De,e.adler=n.wrap===2?0:1,n.last_flush=-2,lr(n),0},Mo=e=>{let n=So(e);return n===0&&vo(e.state),n},Uo=(e,n)=>Je(e)||e.state.wrap!==2?-2:(e.state.gzhead=n,0),Lo=(e,n,t,r,a,i)=>{if(!e)return-2;let o=1;if(n===-1&&(n=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),a<1||a>_o||t!==8||r<8||r>15||n<0||n>9||i<0||i>4||r===8&&o!==1)return Te(e,-2);r===8&&(r=9);let s=new Ao;return e.state=s,s.strm=e,s.status=Be,s.wrap=o,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=a+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+v-1)/v),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<a+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=n,s.strategy=i,s.method=t,Mo(e)},Ro=(e,n)=>{if(Je(e)||n>5||n<0)return e?Te(e,-2):-2;let t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===Ke&&n!==4)return Te(e,e.avail_out===0?-5:-2);let r=t.last_flush;if(t.last_flush=n,t.pending!==0){if(V(e),e.avail_out===0)return t.last_flush=-1,0}else if(e.avail_in===0&&hr(n)<=hr(r)&&n!==4)return Te(e,-5);if(t.status===Ke&&e.avail_in!==0)return Te(e,-5);if(t.status===Be&&t.wrap===0&&(t.status=De),t.status===Be){let a=8+(t.w_bits-8<<4)<<8,i=-1;if(t.strategy>=2||t.level<2?i=0:t.level<6?i=1:t.level===6?i=2:i=3,a|=i<<6,t.strstart!==0&&(a|=Co),a+=31-a%31,Ye(t,a),t.strstart!==0&&(Ye(t,e.adler>>>16),Ye(t,e.adler&65535)),e.adler=1,t.status=De,V(e),t.pending!==0)return t.last_flush=-1,0}if(t.status===fn){if(e.adler=0,M(t,31),M(t,139),M(t,8),t.gzhead)M(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),M(t,t.gzhead.time&255),M(t,t.gzhead.time>>8&255),M(t,t.gzhead.time>>16&255),M(t,t.gzhead.time>>24&255),M(t,t.level===9?2:t.strategy>=2||t.level<2?4:0),M(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(M(t,t.gzhead.extra.length&255),M(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=Z(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=tn;else if(M(t,0),M(t,0),M(t,0),M(t,0),M(t,0),M(t,t.level===9?2:t.strategy>=2||t.level<2?4:0),M(t,Po),t.status=De,V(e),t.pending!==0)return t.last_flush=-1,0}if(t.status===tn){if(t.gzhead.extra){let a=t.pending,i=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+i>t.pending_buf_size;){let s=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>a&&(e.adler=Z(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex+=s,V(e),t.pending!==0)return t.last_flush=-1,0;a=0,i-=s}let o=new Uint8Array(t.gzhead.extra);t.pending_buf.set(o.subarray(t.gzindex,t.gzindex+i),t.pending),t.pending+=i,t.gzhead.hcrc&&t.pending>a&&(e.adler=Z(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=nn}if(t.status===nn){if(t.gzhead.name){let a=t.pending,i;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(e.adler=Z(e.adler,t.pending_buf,t.pending-a,a)),V(e),t.pending!==0)return t.last_flush=-1,0;a=0}t.gzindex<t.gzhead.name.length?i=t.gzhead.name.charCodeAt(t.gzindex++)&255:i=0,M(t,i)}while(i!==0);t.gzhead.hcrc&&t.pending>a&&(e.adler=Z(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=rn}if(t.status===rn){if(t.gzhead.comment){let a=t.pending,i;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(e.adler=Z(e.adler,t.pending_buf,t.pending-a,a)),V(e),t.pending!==0)return t.last_flush=-1,0;a=0}t.gzindex<t.gzhead.comment.length?i=t.gzhead.comment.charCodeAt(t.gzindex++)&255:i=0,M(t,i)}while(i!==0);t.gzhead.hcrc&&t.pending>a&&(e.adler=Z(e.adler,t.pending_buf,t.pending-a,a))}t.status=an}if(t.status===an){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(V(e),t.pending!==0))return t.last_flush=-1,0;M(t,e.adler&255),M(t,e.adler>>8&255),e.adler=0}if(t.status=De,V(e),t.pending!==0)return t.last_flush=-1,0}if(e.avail_in!==0||t.lookahead!==0||n!==0&&t.status!==Ke){let a=t.level===0?gr(t,n):t.strategy===2?Eo(t,n):t.strategy===3?ko(t,n):Ve[t.level].func(t,n);if((a===ke||a===Ne)&&(t.status=Ke),a===Y||a===ke)return e.avail_out===0&&(t.last_flush=-1),0;if(a===Oe&&(n===1?dr(t):n!==5&&(_t(t,0,0,!1),n===3&&(pe(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),V(e),e.avail_out===0))return t.last_flush=-1,0}return n!==4?0:t.wrap<=0?1:(t.wrap===2?(M(t,e.adler&255),M(t,e.adler>>8&255),M(t,e.adler>>16&255),M(t,e.adler>>24&255),M(t,e.total_in&255),M(t,e.total_in>>8&255),M(t,e.total_in>>16&255),M(t,e.total_in>>24&255)):(Ye(t,e.adler>>>16),Ye(t,e.adler&65535)),V(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?0:1)},Bo=e=>{if(Je(e))return-2;let n=e.state.status;return e.state=null,n===De?Te(e,-3):0},zo=(e,n)=>{let t=n.length;if(Je(e))return-2;let r=e.state,a=r.wrap;if(a===2||a===1&&r.status!==Be||r.lookahead)return-2;if(a===1&&(e.adler=Pe(e.adler,n,t,0)),r.wrap=0,t>=r.w_size){a===0&&(pe(r.head),r.strstart=0,r.block_start=0,r.insert=0);let d=new Uint8Array(r.w_size);d.set(n.subarray(t-r.w_size,t),0),n=d,t=r.w_size}let i=e.avail_in,o=e.next_in,s=e.input;for(e.avail_in=t,e.next_in=0,e.input=n,ze(r);r.lookahead>=v;){let d=r.strstart,l=r.lookahead-(v-1);do r.ins_h=_e(r,r.ins_h,r.window[d+v-1]),r.prev[d&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=d,d++;while(--l);r.strstart=d,r.lookahead=v-1,ze(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=v-1,r.match_available=0,e.next_in=o,e.input=s,e.avail_in=i,r.wrap=a,0},_r=Lo,mr=Uo,wr=Ro,yr=Bo,br=zo});function bt(e,...n){for(;n.length;){let t=n.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(let r in t)Oo(t,r)&&(e[r]=t[r])}}return e}function It(e){let n=0;for(let r=0,a=e.length;r<a;r++)n+=e[r].length;let t=new Uint8Array(n);for(let r=0,a=0,i=e.length;r<i;r++){let o=e[r];t.set(o,a),a+=o.length}return t}var Oo,dn=m(()=>{Oo=(e,n)=>Object.prototype.hasOwnProperty.call(e,n)});function et(e){if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let n,t,r,a,i,o=e.length,s=0;for(a=0;a<o;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<o&&(r=e.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),s+=t<128?1:t<2048?2:t<65536?3:4;for(n=new Uint8Array(s),i=0,a=0;i<s;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<o&&(r=e.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),t<128?n[i++]=t:t<2048?(n[i++]=192|t>>>6,n[i++]=128|t&63):t<65536?(n[i++]=224|t>>>12,n[i++]=128|t>>>6&63,n[i++]=128|t&63):(n[i++]=240|t>>>18,n[i++]=128|t>>>12&63,n[i++]=128|t>>>6&63,n[i++]=128|t&63);return n}function Cr(e,n){let t=n||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,n));let r,a,i=new Array(t*2);for(a=0,r=0;r<t;){let o=e[r++];if(o<128){i[a++]=o;continue}let s=Qe[o];if(s>4){i[a++]=65533,r+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&r<t;)o=o<<6|e[r++]&63,s--;if(s>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return No(i,a)}function Pr(e,n){n=n||e.length,n>e.length&&(n=e.length);let t=n-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?n:t+Qe[e[t]]>n?t:n}var xr,Qe,No,cn=m(()=>{xr=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{xr=!1}Qe=new Uint8Array(256);for(let e=0;e<256;e++)Qe[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Qe[254]=Qe[254]=1;No=(e,n)=>{if(n<65534&&e.subarray&&xr)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));let t="";for(let r=0;r<n;r++)t+=String.fromCharCode(e[r]);return t}});function Ho(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var xt,hn=m(()=>{xt=Ho});function tt(e){this.options=bt({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0},e||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xt,this.strm.avail_out=0;let t=_r(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==0)throw new Error(le[t]);if(n.header&&mr(this.strm,n.header),n.dictionary){let r;if(typeof n.dictionary=="string"?r=et(n.dictionary):Dr.call(n.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(n.dictionary):r=n.dictionary,t=br(this.strm,r),t!==0)throw new Error(le[t]);this._dict_set=!0}}function un(e,n={}){let t=new tt(n);if(t.push(e,!0),t.err)throw t.msg||le[t.err];return t.result}var Dr,Tr=m(()=>{Ir();dn();cn();mt();hn();ue();ue();Dr=Object.prototype.toString;tt.prototype.push=function(e,n){let t=this.strm,r=this.options.chunkSize,a,i;if(this.ended)return!1;for(n===~~n?i=n:i=n===!0?4:0,typeof e=="string"?t.input=et(e):Dr.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(i===2||i===3)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(a=wr(t,i),a===1)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),a=yr(this.strm),this.onEnd(a),this.ended=!0,a===0;if(t.avail_out===0){this.onData(t.output);continue}if(i>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};tt.prototype.onData=function(e){this.chunks.push(e)};tt.prototype.onEnd=function(e){e===0&&(this.result=It(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}});function pn(e,n){let t,r,a,i,o,s,d,l,f,h,u,c,_,P,b,w,g,p,C,H,E,D,A,y,x=e.state;t=e.next_in,A=e.input,r=t+(e.avail_in-5),a=e.next_out,y=e.output,i=a-(n-e.avail_out),o=a+(e.avail_out-257),s=x.dmax,d=x.wsize,l=x.whave,f=x.wnext,h=x.window,u=x.hold,c=x.bits,_=x.lencode,P=x.distcode,b=(1<<x.lenbits)-1,w=(1<<x.distbits)-1;e:do{c<15&&(u+=A[t++]<<c,c+=8,u+=A[t++]<<c,c+=8),g=_[u&b];t:for(;;){if(p=g>>>24,u>>>=p,c-=p,p=g>>>16&255,p===0)y[a++]=g&65535;else if(p&16){C=g&65535,p&=15,p&&(c<p&&(u+=A[t++]<<c,c+=8),C+=u&(1<<p)-1,u>>>=p,c-=p),c<15&&(u+=A[t++]<<c,c+=8,u+=A[t++]<<c,c+=8),g=P[u&w];n:for(;;){if(p=g>>>24,u>>>=p,c-=p,p=g>>>16&255,p&16){if(H=g&65535,p&=15,c<p&&(u+=A[t++]<<c,c+=8,c<p&&(u+=A[t++]<<c,c+=8)),H+=u&(1<<p)-1,H>s){e.msg="invalid distance too far back",x.mode=16209;break e}if(u>>>=p,c-=p,p=a-i,H>p){if(p=H-p,p>l&&x.sane){e.msg="invalid distance too far back",x.mode=16209;break e}if(E=0,D=h,f===0){if(E+=d-p,p<C){C-=p;do y[a++]=h[E++];while(--p);E=a-H,D=y}}else if(f<p){if(E+=d+f-p,p-=f,p<C){C-=p;do y[a++]=h[E++];while(--p);if(E=0,f<C){p=f,C-=p;do y[a++]=h[E++];while(--p);E=a-H,D=y}}}else if(E+=f-p,p<C){C-=p;do y[a++]=h[E++];while(--p);E=a-H,D=y}for(;C>2;)y[a++]=D[E++],y[a++]=D[E++],y[a++]=D[E++],C-=3;C&&(y[a++]=D[E++],C>1&&(y[a++]=D[E++]))}else{E=a-H;do y[a++]=y[E++],y[a++]=y[E++],y[a++]=y[E++],C-=3;while(C>2);C&&(y[a++]=y[E++],C>1&&(y[a++]=y[E++]))}}else if(p&64){e.msg="invalid distance code",x.mode=16209;break e}else{g=P[(g&65535)+(u&(1<<p)-1)];continue n}break}}else if(p&64)if(p&32){x.mode=16191;break e}else{e.msg="invalid literal/length code",x.mode=16209;break e}else{g=_[(g&65535)+(u&(1<<p)-1)];continue t}break}}while(t<r&&a<o);C=c>>3,t-=C,c-=C<<3,u&=(1<<c)-1,e.next_in=t,e.next_out=a,e.avail_in=t<r?5+(r-t):5-(t-r),e.avail_out=a<o?257+(o-a):257-(a-o),x.hold=u,x.bits=c}var kr=m(()=>{});var Zo,$o,Go,jo,Wo,He,Er=m(()=>{Zo=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),$o=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Go=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),jo=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Wo=(e,n,t,r,a,i,o,s)=>{let d=s.bits,l=0,f=0,h=0,u=0,c=0,_=0,P=0,b=0,w=0,g=0,p,C,H,E,D,A=null,y,x=new Uint16Array(15+1),X=new Uint16Array(15+1),be=null,zn,dt,ct;for(l=0;l<=15;l++)x[l]=0;for(f=0;f<r;f++)x[n[t+f]]++;for(c=d,u=15;u>=1&&x[u]===0;u--);if(c>u&&(c=u),u===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,s.bits=1,0;for(h=1;h<u&&x[h]===0;h++);for(c<h&&(c=h),b=1,l=1;l<=15;l++)if(b<<=1,b-=x[l],b<0)return-1;if(b>0&&(e===0||u!==1))return-1;for(X[1]=0,l=1;l<15;l++)X[l+1]=X[l]+x[l];for(f=0;f<r;f++)n[t+f]!==0&&(o[X[n[t+f]]++]=f);if(e===0?(A=be=o,y=20):e===1?(A=Zo,be=$o,y=257):(A=Go,be=jo,y=0),g=0,f=0,l=h,D=i,_=c,P=0,H=-1,w=1<<c,E=w-1,e===1&&w>852||e===2&&w>592)return 1;for(;;){zn=l-P,o[f]+1<y?(dt=0,ct=o[f]):o[f]>=y?(dt=be[o[f]-y],ct=A[o[f]-y]):(dt=32+64,ct=0),p=1<<l-P,C=1<<_,h=C;do C-=p,a[D+(g>>P)+C]=zn<<24|dt<<16|ct|0;while(C!==0);for(p=1<<l-1;g&p;)p>>=1;if(p!==0?(g&=p-1,g+=p):g=0,f++,--x[l]===0){if(l===u)break;l=n[t+o[f]]}if(l>c&&(g&E)!==H){for(P===0&&(P=c),D+=h,_=l-P,b=1<<_;_+P<u&&(b-=x[_+P],!(b<=0));)_++,b<<=1;if(w+=1<<_,e===1&&w>852||e===2&&w>592)return 1;H=g&E,a[H]=c<<24|_<<16|D-i|0}}return g!==0&&(a[D+g]=l-P<<24|64<<16|0),s.bits=c,0},He=Wo});function Vo(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Xo,Jr,Qr,kt,vr,Ar,Sr,Mr,Ur,Lr,Rr,Br,zr,Tt,fe,gn,Or,_n,Nr,Hr,Fr,Zr,Pt,Dt,$r,Gr,jr,Wr,Xr,mn,Yr,Kr,N,bn,ea,Yo,Ko,Vr,ve,qo,ta,Jo,Qo,qr,wn,yn,es,na,ts,ns,rs,as,ra,aa,Et,ia,oa,In,sa=m(()=>{Vt();qt();kr();Er();ue();Xo=0,Jr=1,Qr=2,kt=16180,vr=16181,Ar=16182,Sr=16183,Mr=16184,Ur=16185,Lr=16186,Rr=16187,Br=16188,zr=16189,Tt=16190,fe=16191,gn=16192,Or=16193,_n=16194,Nr=16195,Hr=16196,Fr=16197,Zr=16198,Pt=16199,Dt=16200,$r=16201,Gr=16202,jr=16203,Wr=16204,Xr=16205,mn=16206,Yr=16207,Kr=16208,N=16209,bn=16210,ea=16211,Yo=852,Ko=592,Vr=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);ve=e=>{if(!e)return 1;let n=e.state;return!n||n.strm!==e||n.mode<kt||n.mode>ea?1:0},qo=e=>{if(ve(e))return-2;let n=e.state;return e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=n.wrap&1),n.mode=kt,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(Yo),n.distcode=n.distdyn=new Int32Array(Ko),n.sane=1,n.back=-1,0},ta=e=>{if(ve(e))return-2;let n=e.state;return n.wsize=0,n.whave=0,n.wnext=0,qo(e)},Jo=(e,n)=>{let t;if(ve(e))return-2;let r=e.state;return n<0?(t=0,n=-n):(t=(n>>4)+5,n<48&&(n&=15)),n&&(n<8||n>15)?-2:(r.window!==null&&r.wbits!==n&&(r.window=null),r.wrap=t,r.wbits=n,ta(e))},Qo=(e,n)=>{if(!e)return-2;let t=new Vo;e.state=t,t.strm=e,t.window=null,t.mode=kt;let r=Jo(e,n);return r!==0&&(e.state=null),r},qr=!0,es=e=>{if(qr){wn=new Int32Array(512),yn=new Int32Array(32);let n=0;for(;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(He(Jr,e.lens,0,288,wn,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;He(Qr,e.lens,0,32,yn,0,e.work,{bits:5}),qr=!1}e.lencode=wn,e.lenbits=9,e.distcode=yn,e.distbits=5},na=(e,n,t,r)=>{let a,i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(n.subarray(t-i.wsize,t),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>r&&(a=r),i.window.set(n.subarray(t-r,t-r+a),i.wnext),r-=a,r?(i.window.set(n.subarray(t-r,t),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},ts=(e,n)=>{let t,r,a,i,o,s,d,l,f,h,u,c,_,P,b=0,w,g,p,C,H,E,D,A,y=new Uint8Array(4),x,X,be=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ve(e)||!e.output||!e.input&&e.avail_in!==0)return-2;t=e.state,t.mode===fe&&(t.mode=gn),o=e.next_out,a=e.output,d=e.avail_out,i=e.next_in,r=e.input,s=e.avail_in,l=t.hold,f=t.bits,h=s,u=d,A=0;e:for(;;)switch(t.mode){case kt:if(t.wrap===0){t.mode=gn;break}for(;f<16;){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}if(t.wrap&2&&l===35615){t.wbits===0&&(t.wbits=15),t.check=0,y[0]=l&255,y[1]=l>>>8&255,t.check=Z(t.check,y,2,0),l=0,f=0,t.mode=vr;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",t.mode=N;break}if((l&15)!==8){e.msg="unknown compression method",t.mode=N;break}if(l>>>=4,f-=4,D=(l&15)+8,t.wbits===0&&(t.wbits=D),D>15||D>t.wbits){e.msg="invalid window size",t.mode=N;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=l&512?zr:fe,l=0,f=0;break;case vr:for(;f<16;){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}if(t.flags=l,(t.flags&255)!==8){e.msg="unknown compression method",t.mode=N;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=N;break}t.head&&(t.head.text=l>>8&1),t.flags&512&&t.wrap&4&&(y[0]=l&255,y[1]=l>>>8&255,t.check=Z(t.check,y,2,0)),l=0,f=0,t.mode=Ar;case Ar:for(;f<32;){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}t.head&&(t.head.time=l),t.flags&512&&t.wrap&4&&(y[0]=l&255,y[1]=l>>>8&255,y[2]=l>>>16&255,y[3]=l>>>24&255,t.check=Z(t.check,y,4,0)),l=0,f=0,t.mode=Sr;case Sr:for(;f<16;){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}t.head&&(t.head.xflags=l&255,t.head.os=l>>8),t.flags&512&&t.wrap&4&&(y[0]=l&255,y[1]=l>>>8&255,t.check=Z(t.check,y,2,0)),l=0,f=0,t.mode=Mr;case Mr:if(t.flags&1024){for(;f<16;){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}t.length=l,t.head&&(t.head.extra_len=l),t.flags&512&&t.wrap&4&&(y[0]=l&255,y[1]=l>>>8&255,t.check=Z(t.check,y,2,0)),l=0,f=0}else t.head&&(t.head.extra=null);t.mode=Ur;case Ur:if(t.flags&1024&&(c=t.length,c>s&&(c=s),c&&(t.head&&(D=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(i,i+c),D)),t.flags&512&&t.wrap&4&&(t.check=Z(t.check,r,c,i)),s-=c,i+=c,t.length-=c),t.length))break e;t.length=0,t.mode=Lr;case Lr:if(t.flags&2048){if(s===0)break e;c=0;do D=r[i+c++],t.head&&D&&t.length<65536&&(t.head.name+=String.fromCharCode(D));while(D&&c<s);if(t.flags&512&&t.wrap&4&&(t.check=Z(t.check,r,c,i)),s-=c,i+=c,D)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Rr;case Rr:if(t.flags&4096){if(s===0)break e;c=0;do D=r[i+c++],t.head&&D&&t.length<65536&&(t.head.comment+=String.fromCharCode(D));while(D&&c<s);if(t.flags&512&&t.wrap&4&&(t.check=Z(t.check,r,c,i)),s-=c,i+=c,D)break e}else t.head&&(t.head.comment=null);t.mode=Br;case Br:if(t.flags&512){for(;f<16;){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}if(t.wrap&4&&l!==(t.check&65535)){e.msg="header crc mismatch",t.mode=N;break}l=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=fe;break;case zr:for(;f<32;){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}e.adler=t.check=Vr(l),l=0,f=0,t.mode=Tt;case Tt:if(t.havedict===0)return e.next_out=o,e.avail_out=d,e.next_in=i,e.avail_in=s,t.hold=l,t.bits=f,2;e.adler=t.check=1,t.mode=fe;case fe:if(n===5||n===6)break e;case gn:if(t.last){l>>>=f&7,f-=f&7,t.mode=mn;break}for(;f<3;){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}switch(t.last=l&1,l>>>=1,f-=1,l&3){case 0:t.mode=Or;break;case 1:if(es(t),t.mode=Pt,n===6){l>>>=2,f-=2;break e}break;case 2:t.mode=Hr;break;case 3:e.msg="invalid block type",t.mode=N}l>>>=2,f-=2;break;case Or:for(l>>>=f&7,f-=f&7;f<32;){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",t.mode=N;break}if(t.length=l&65535,l=0,f=0,t.mode=_n,n===6)break e;case _n:t.mode=Nr;case Nr:if(c=t.length,c){if(c>s&&(c=s),c>d&&(c=d),c===0)break e;a.set(r.subarray(i,i+c),o),s-=c,i+=c,d-=c,o+=c,t.length-=c;break}t.mode=fe;break;case Hr:for(;f<14;){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}if(t.nlen=(l&31)+257,l>>>=5,f-=5,t.ndist=(l&31)+1,l>>>=5,f-=5,t.ncode=(l&15)+4,l>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=N;break}t.have=0,t.mode=Fr;case Fr:for(;t.have<t.ncode;){for(;f<3;){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}t.lens[be[t.have++]]=l&7,l>>>=3,f-=3}for(;t.have<19;)t.lens[be[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,x={bits:t.lenbits},A=He(Xo,t.lens,0,19,t.lencode,0,t.work,x),t.lenbits=x.bits,A){e.msg="invalid code lengths set",t.mode=N;break}t.have=0,t.mode=Zr;case Zr:for(;t.have<t.nlen+t.ndist;){for(;b=t.lencode[l&(1<<t.lenbits)-1],w=b>>>24,g=b>>>16&255,p=b&65535,!(w<=f);){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}if(p<16)l>>>=w,f-=w,t.lens[t.have++]=p;else{if(p===16){for(X=w+2;f<X;){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}if(l>>>=w,f-=w,t.have===0){e.msg="invalid bit length repeat",t.mode=N;break}D=t.lens[t.have-1],c=3+(l&3),l>>>=2,f-=2}else if(p===17){for(X=w+3;f<X;){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}l>>>=w,f-=w,D=0,c=3+(l&7),l>>>=3,f-=3}else{for(X=w+7;f<X;){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}l>>>=w,f-=w,D=0,c=11+(l&127),l>>>=7,f-=7}if(t.have+c>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=N;break}for(;c--;)t.lens[t.have++]=D}}if(t.mode===N)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=N;break}if(t.lenbits=9,x={bits:t.lenbits},A=He(Jr,t.lens,0,t.nlen,t.lencode,0,t.work,x),t.lenbits=x.bits,A){e.msg="invalid literal/lengths set",t.mode=N;break}if(t.distbits=6,t.distcode=t.distdyn,x={bits:t.distbits},A=He(Qr,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,x),t.distbits=x.bits,A){e.msg="invalid distances set",t.mode=N;break}if(t.mode=Pt,n===6)break e;case Pt:t.mode=Dt;case Dt:if(s>=6&&d>=258){e.next_out=o,e.avail_out=d,e.next_in=i,e.avail_in=s,t.hold=l,t.bits=f,pn(e,u),o=e.next_out,a=e.output,d=e.avail_out,i=e.next_in,r=e.input,s=e.avail_in,l=t.hold,f=t.bits,t.mode===fe&&(t.back=-1);break}for(t.back=0;b=t.lencode[l&(1<<t.lenbits)-1],w=b>>>24,g=b>>>16&255,p=b&65535,!(w<=f);){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}if(g&&!(g&240)){for(C=w,H=g,E=p;b=t.lencode[E+((l&(1<<C+H)-1)>>C)],w=b>>>24,g=b>>>16&255,p=b&65535,!(C+w<=f);){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}l>>>=C,f-=C,t.back+=C}if(l>>>=w,f-=w,t.back+=w,t.length=p,g===0){t.mode=Xr;break}if(g&32){t.back=-1,t.mode=fe;break}if(g&64){e.msg="invalid literal/length code",t.mode=N;break}t.extra=g&15,t.mode=$r;case $r:if(t.extra){for(X=t.extra;f<X;){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Gr;case Gr:for(;b=t.distcode[l&(1<<t.distbits)-1],w=b>>>24,g=b>>>16&255,p=b&65535,!(w<=f);){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}if(!(g&240)){for(C=w,H=g,E=p;b=t.distcode[E+((l&(1<<C+H)-1)>>C)],w=b>>>24,g=b>>>16&255,p=b&65535,!(C+w<=f);){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}l>>>=C,f-=C,t.back+=C}if(l>>>=w,f-=w,t.back+=w,g&64){e.msg="invalid distance code",t.mode=N;break}t.offset=p,t.extra=g&15,t.mode=jr;case jr:if(t.extra){for(X=t.extra;f<X;){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=N;break}t.mode=Wr;case Wr:if(d===0)break e;if(c=u-d,t.offset>c){if(c=t.offset-c,c>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=N;break}c>t.wnext?(c-=t.wnext,_=t.wsize-c):_=t.wnext-c,c>t.length&&(c=t.length),P=t.window}else P=a,_=o-t.offset,c=t.length;c>d&&(c=d),d-=c,t.length-=c;do a[o++]=P[_++];while(--c);t.length===0&&(t.mode=Dt);break;case Xr:if(d===0)break e;a[o++]=t.length,d--,t.mode=Dt;break;case mn:if(t.wrap){for(;f<32;){if(s===0)break e;s--,l|=r[i++]<<f,f+=8}if(u-=d,e.total_out+=u,t.total+=u,t.wrap&4&&u&&(e.adler=t.check=t.flags?Z(t.check,a,u,o-u):Pe(t.check,a,u,o-u)),u=d,t.wrap&4&&(t.flags?l:Vr(l))!==t.check){e.msg="incorrect data check",t.mode=N;break}l=0,f=0}t.mode=Yr;case Yr:if(t.wrap&&t.flags){for(;f<32;){if(s===0)break e;s--,l+=r[i++]<<f,f+=8}if(t.wrap&4&&l!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=N;break}l=0,f=0}t.mode=Kr;case Kr:A=1;break e;case N:A=-3;break e;case bn:return-4;case ea:default:return-2}return e.next_out=o,e.avail_out=d,e.next_in=i,e.avail_in=s,t.hold=l,t.bits=f,(t.wsize||u!==e.avail_out&&t.mode<N&&(t.mode<mn||n!==4))&&na(e,e.output,e.next_out,u-e.avail_out)?(t.mode=bn,-4):(h-=e.avail_in,u-=e.avail_out,e.total_in+=h,e.total_out+=u,t.total+=u,t.wrap&4&&u&&(e.adler=t.check=t.flags?Z(t.check,a,u,e.next_out-u):Pe(t.check,a,u,e.next_out-u)),e.data_type=t.bits+(t.last?64:0)+(t.mode===fe?128:0)+(t.mode===Pt||t.mode===_n?256:0),(h===0&&u===0||n===4)&&A===0&&(A=-5),A)},ns=e=>{if(ve(e))return-2;let n=e.state;return n.window&&(n.window=null),e.state=null,0},rs=(e,n)=>{if(ve(e))return-2;let t=e.state;return t.wrap&2?(t.head=n,n.done=!1,0):-2},as=(e,n)=>{let t=n.length,r,a,i;return ve(e)?-2:(r=e.state,r.wrap!==0&&r.mode!==Tt?-2:r.mode===Tt&&(a=1,a=Pe(a,n,t,0),a!==r.check)?-3:(i=na(e,n,t,t),i?(r.mode=bn,-4):(r.havedict=1,0)))},ra=ta,aa=Qo,Et=ts,ia=ns,oa=rs,In=as});function is(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var la,fa=m(()=>{la=is});function we(e={}){this.options=bt({chunkSize:1024*64,windowBits:15,to:""},e);let n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(e&&e.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15||(n.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xt,this.strm.avail_out=0;let t=aa(this.strm,n.windowBits);if(t!==0)throw new Error(le[t]);if(this.header=new la,oa(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=et(n.dictionary):da.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(t=In(this.strm,n.dictionary),t!==0)))throw new Error(le[t])}var da,ca=m(()=>{sa();dn();cn();mt();hn();fa();ue();ue();da=Object.prototype.toString;we.prototype.push=function(e,n){let t=this.strm,r=this.options.chunkSize,a=this.options.dictionary,i,o,s;if(this.ended)return!1;for(n===~~n?o=n:o=n===!0?4:0,da.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),i=Et(t,o),i===2&&a&&(i=In(t,a),i===0?i=Et(t,o):i===-3&&(i=2));t.avail_in>0&&i===1&&t.state.wrap>0&&e[t.next_in]!==0;)ra(t),i=Et(t,o);switch(i){case-2:case-3:case 2:case-4:return this.onEnd(i),this.ended=!0,!1}if(s=t.avail_out,t.next_out&&(t.avail_out===0||i===1))if(this.options.to==="string"){let d=Pr(t.output,t.next_out),l=t.next_out-d,f=Cr(t.output,d);t.next_out=l,t.avail_out=r-l,l&&t.output.set(t.output.subarray(d,d+l),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(i===0&&s===0)){if(i===1)return i=ia(this.strm),this.onEnd(i),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};we.prototype.onData=function(e){this.chunks.push(e)};we.prototype.onEnd=function(e){e===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=It(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}});var vt=m(()=>{Tr();ca();ue()});function at(e,n,t){let r=e+n-t,a=Math.abs(r-e),i=Math.abs(r-n),o=Math.abs(r-t);return a<=i&&a<=o?e:i<=o?n:t}var Cn=m(()=>{});function ha(e,n,t){let r=ls(e,t),a;n.interlaceMethod===1?a=cs(e,n,r):a=ua(e,n,r);let i=e.metadata.find(s=>s.type==="tRNS"),o=hs(e,n,a,e.palette,i);return i&&(n.colorType===0||n.colorType===2)&&us(n,o,i),o}function ls(e,n){let t=new we,r=0;for(let a of n)r=a.offset+4+4,t.push(e.view.buffer.slice(e.view.byteOffset+r,e.view.byteOffset+r+a.dataLength));if(t.err)throw xe(e,n[0],`Inflate error: ${t.msg}`,n[0].offset);if(t.result===void 0)throw new G(e,"IDAT: Failed to decompress data chunks",0);return t.result}function ua(e,n,t,r=0,a=n.width,i=n.height){let o=0,s=Pn(n),d=At(n),l=pa(n,a),f=Math.ceil(a*d),h=new Uint8Array(i*f),u=new Map;for(let c=0;c<i;c++){let _=r+c*(l+1),P=t[_++];if(!fs)throw new G(e,`IDAT: Invalid filter type ${P}`,0);let b=u.get(P);b||(b=ds(d,l,a,P),u.set(P,b));let w=1,g=0;switch(P){case 0:case 1:{for(;g<s;g++)h[o]=t[_+g],o++;break}case 3:{let p=0;for(;g<s;g++)p=o-a*s,h[o]=t[_+g]+Math.floor(0+(p<0?0:h[p]))/2,o++;break}case 2:{w=0;break}case 4:{for(;g<s;g++){let p=Math.floor(o-l);h[o]=(t[_+g]+at(0,p<0?0:h[p],0))%256,o++}break}}if(n.bitDepth>=8)for(;w<a;w++)for(let p=0;p<s;p++)h[o]=b(t,_+w*s+p,h,o),o++;else{for(w&&(o-=w),g=w;g<l;g++)h[o+g]=b(t,_+g,h,o+g);o+=l}}return h}function fs(e){return e%1===0&&e>=0&&e<=4}function ds(e,n,t,r){let a=0,i=0,o=0;switch(r){case 0:return(s,d)=>s[d];case 1:return(s,d,l,f)=>(s[d]+l[Math.floor(f-e)])%256;case 2:return(s,d,l,f)=>(i=Math.floor(f-t*e),i<0?s[d]:(s[d]+l[i])%256);case 3:return(s,d,l,f)=>(a=Math.floor(f-e),i=Math.floor(f-t*e),s[d]+Math.floor((a<0?0:l[a])+(i<0?0:l[i]))/2);case 4:return(s,d,l,f)=>(a=Math.floor(f-Math.ceil(e)),i=Math.floor(f-n),o=Math.floor(f-n-Math.ceil(e)),(s[d]+at(a<0?0:l[a],i<0?0:l[i],o<0?0:l[o]))%256)}}function Pn(e){return Math.ceil(At(e))}function At(e){return ga(e.colorType)*e.bitDepth/8}function pa(e,n){return Math.ceil(ga(e.colorType)*e.bitDepth*n/8)}function ga(e){switch(e){case 0:return 1;case 2:return 3;case 3:return 1;case 4:return 2;case 6:return 4}}function cs(e,n,t){let r=At(n),a=Math.ceil(n.width*r),i=new Uint8Array(a*n.height),o=Pn(n),s=8/n.bitDepth,d=(1<<n.bitDepth)-1,l=[0,4,0,2,0,1,0],f=[0,0,4,0,2,0,1],h=[8,8,4,4,2,2,1],u=[8,8,8,4,4,2,2],c=0;for(let _=0;_<7;_++){let P=l[_],b=f[_],w=h[_],g=u[_],p=Math.ceil((n.width-P)/w),C=Math.ceil((n.height-b)/g),H=Math.ceil(r*p);if(p===0||C===0)continue;let E=ua(e,n,t,c,p,C),D=0;for(let A=0;A<C;A++){D=(b+A*g)*a+P*r;for(let y=0;y<p;y++){if(n.bitDepth<8){let x=E[A*H+Math.floor(y*r)];x>>=(s-y%s-1)*n.bitDepth,x&=d;let X=(s-1-D%1*s)*n.bitDepth;x<<=X,i[Math.floor(D)]|=x}else for(let x=0;x<o;x++)i[D+x]=E[(A*p+y)*o+x];D+=w*r}}c+=C*(1+pa(n,p))}return i}function hs(e,n,t,r,a){let i=new(n.bitDepth===16?Uint16Array:Uint8Array)(n.width*n.height*4),o=0,s=Pn(n),d=At(n),l=Math.ceil(n.width*d);switch(n.colorType){case 0:{switch(n.bitDepth){case 1:case 2:case 4:{let f=8/n.bitDepth,h=(1<<n.bitDepth)-1,u=n.bitDepth/8;for(let c=0;c<n.height;c++)for(let _=0;_<n.width;_++)o=(c*n.width+_)*4,i[o]=t[c*l+Math.floor(_*u)],i[o]>>=(f-_%f-1)*n.bitDepth,i[o]&=h,i[o]*=255/h,i[o+1]=i[o],i[o+2]=i[o],i[o+3]=255;break}case 8:case 16:{for(let f=0;f<n.height;f++)for(let h=0;h<n.width;h++)o=(f*n.width+h)*4,n.bitDepth===16?i[o]=t[(f*n.width+h)*s]<<8|t[(f*n.width+h)*s+1]:i[o]=t[(f*n.width+h)*s],i[o+1]=i[o],i[o+2]=i[o],i[o+3]=n.bitDepth===16?65535:255;break}}break}case 4:{for(let f=0;f<n.height;f++)for(let h=0;h<n.width;h++)o=(f*n.width+h)*4,n.bitDepth===16?i[o]=t[(f*n.width+h)*s]<<8|t[(f*n.width+h)*s+1]:i[o]=t[(f*n.width+h)*s],i[o+1]=i[o],i[o+2]=i[o],n.bitDepth===16?i[o+3]=t[(f*n.width+h)*s+2]<<8|t[(f*n.width+h)*s+3]:i[o+3]=t[(f*n.width+h)*s+1];break}case 3:{if(!r)throw new G(e,"IDAT: Cannot decode indexed color type without a palette",0);switch(n.bitDepth){case 1:case 2:case 4:{let f=8/n.bitDepth,h=(1<<n.bitDepth)-1,u=n.bitDepth/8;for(let c=0;c<n.height;c++)for(let _=0;_<n.width;_++){o=(c*n.width+_)*4;let P=t[c*l+Math.floor(_*u)];P>>=(f-_%f-1)*n.bitDepth,P&=h,r.setRgba(i,o,P),a&&a.transparency.length>P&&(i[o+3]=a.transparency[P])}break}case 8:{let f=0;for(let h=0;h<n.height;h++)for(let u=0;u<n.width;u++)o=(h*n.width+u)*4,f=t[h*n.width+u],r.setRgba(i,o,f),a&&a.transparency.length>f&&(i[o+3]=a.transparency[f]);break}}break}case 2:{for(let f=0;f<n.height;f++)for(let h=0;h<n.width;h++)o=(f*n.width+h)*4,n.bitDepth===16?(i[o]=t[(f*n.width+h)*s]<<8|t[(f*n.width+h)*s+1],i[o+1]=t[(f*n.width+h)*s+2]<<8|t[(f*n.width+h)*s+3],i[o+2]=t[(f*n.width+h)*s+4]<<8|t[(f*n.width+h)*s+5]):(i[o]=t[(f*n.width+h)*s],i[o+1]=t[(f*n.width+h)*s+1],i[o+2]=t[(f*n.width+h)*s+2]),i[o+3]=n.bitDepth===16?65535:255;break}case 6:{for(let f=0;f<n.height;f++)for(let h=0;h<n.width;h++)o=(f*n.width+h)*4,n.bitDepth===16?(i[o]=t[(f*n.width+h)*s]<<8|t[(f*n.width+h)*s+1],i[o+1]=t[(f*n.width+h)*s+2]<<8|t[(f*n.width+h)*s+3],i[o+2]=t[(f*n.width+h)*s+4]<<8|t[(f*n.width+h)*s+5],i[o+3]=t[(f*n.width+h)*s+6]<<8|t[(f*n.width+h)*s+7]):(i[o]=t[(f*n.width+h)*s],i[o+1]=t[(f*n.width+h)*s+1],i[o+2]=t[(f*n.width+h)*s+2],i[o+3]=t[(f*n.width+h)*s+3]);break}}return i}function us(e,n,t){let r=(1<<e.bitDepth)-1,a=e.bitDepth===16?65535:255;if(e.colorType===0){let i=a/r*t.transparency;for(let o=0;o<n.length;o+=4)n[o]===i&&(n[o+3]=0);return}if(e.colorType===2){let i=[a/r*t.transparency[0],a/r*t.transparency[1],a/r*t.transparency[2]];for(let o=0;o<n.length;o+=4)n[o]===i[0]&&n[o+1]===i[1]&&n[o+2]===i[2]&&(n[o+3]=0);return}}var _a=m(()=>{vt();R();Cn();S();});function ma(e,n,t){Se(e,t,"IDAT"),L(e,t,0)}var wa=m(()=>{R();S();});function ya(e){return e===1||e===2||e===4||e===8||e===16}function ba(e,n){return e===0&&n>=1&&n<=16||e===2&&n>=8&&n<=16||e===3&&n>=1&&n<=8||e===4&&n>=8&&n<=16||e===6&&n>=8&&n<=16}function Ia(e){return e===0}function xa(e){return e===0||e===1}var Ca=m(()=>{S();});function Pa(e,n){L(e,n,13);let t=n.offset+4+4,r=e.view.getUint32(t);t+=4;let a=e.view.getUint32(t);t+=4;let i=e.view.getUint8(t);if(!ya(i))throw xe(e,n,`Bit depth "${i}" is not valid`,t);t++;let o=e.view.getUint8(t);if(!ba(o,i))throw xe(e,n,`Color type "${o}" is not valid with bit depth "${i}"`,t);t++;let s=e.view.getUint8(t);ce(e,n,s,t),t++;let d=e.view.getUint8(t);Ia(d)||(F(e,I(n,`Filter method "${d}" is not valid`,t)),d=0),t++;let l=e.view.getUint8(t);return xa(l)||(F(e,I(n,`Interlace method "${l}" is not valid`,t)),l=0),t++,{width:r,height:a,bitDepth:i,colorType:o,interlaceMethod:l}}var Da=m(()=>{R();S();Ca();});function ps(){if(it)return it;it=[];for(let e=0;e<256;e++){let n=e;for(let t=0;t<8;t++)n&1?n=3988292384^n>>>1:n=n>>>1;it[e]=n>>>0}return it}function gs(e,n,t,r){let a=ps(),i=e;for(let o=0;o<r;o++)i=a[(i^n.getUint8(t+o))&255]^i>>>8;return i}function ot(e,n,t){return(gs(4294967295,e,n,t)^4294967295)>>>0}var it,Dn=m(()=>{});var Ta={};B(Ta,{parseChunk:()=>_s});function _s(e,n,t){U(e,t),T(e,t,"IDAT");let r=t.offset+4+4,a,i;switch(n.colorType){case 0:case 4:{a=e.view.getUint16(r),i=2;break}case 2:case 6:{a=[e.view.getUint16(r),e.view.getUint16(r+2),e.view.getUint16(r+4)],i=6;break}case 3:{a=e.view.getUint8(r),i=1;break}default:throw I(t,`Unrecognized color type "${n.colorType}"`,r)}return L(e,t,i),{type:"bKGD",color:a}}var ka=m(()=>{R();S();});var Ea={};B(Ea,{parseChunk:()=>ms});function ms(e,n,t){U(e,t),T(e,t,"PLTE"),T(e,t,"IDAT"),L(e,t,32);let r=t.offset+4+4,a={x:e.view.getUint32(r)/1e5,y:e.view.getUint32(r+4)/1e5};if(a.x>1||a.y>1)throw I(t,`Invalid white point (${a.x},${a.y})`,r);r+=8;let i={x:e.view.getUint32(r)/1e5,y:e.view.getUint32(r+4)/1e5};if(i.x>1||i.y>1)throw I(t,`Invalid red (${i.x},${i.y})`,r);r+=8;let o={x:e.view.getUint32(r)/1e5,y:e.view.getUint32(r+4)/1e5};if(o.x>1||o.y>1)throw I(t,`Invalid green (${o.x},${o.y})`,r);r+=8;let s={x:e.view.getUint32(r)/1e5,y:e.view.getUint32(r+4)/1e5};if(s.x>1||s.y>1)throw I(t,`Invalid blue (${s.x},${s.y})`,r);return{type:"cHRM",whitePoint:a,red:i,green:o,blue:s}}var va=m(()=>{R();S();});var Aa={};B(Aa,{parseChunk:()=>ws});function ws(e,n,t){let r=t.offset+4+4;return{type:"eXIf",value:e.view.buffer.slice(e.view.byteOffset+r,e.view.byteOffset+r+t.dataLength)}}var Sa=m(()=>{S();});var Ma={};B(Ma,{parseChunk:()=>ys});function ys(e,n,t){U(e,t),T(e,t,"PLTE"),T(e,t,"IDAT"),L(e,t,4);let r=t.offset+4+4,a=e.view.getUint32(r)/1e5;return a===0&&F(e,I(t,"A value of 0 is meaningless",r)),{type:"gAMA",value:a}}var Ua=m(()=>{R();S();});var La={};B(La,{parseChunk:()=>bs});function bs(e,n,t){U(e,t),Se(e,t,"PLTE"),T(e,t,"IDAT"),L(e,t,e.palette.size*2);let r=t.offset+4+4,a=[];for(let i=0;i<e.palette.size*2;i+=2)a.push(e.view.getUint16(r+i));return{type:"hIST",frequency:a}}var Ra=m(()=>{R();S();});function $(e,n,t,r,a,i,o,s){let d=[],l=0,f=0;for(;(r===void 0||f<r)&&!(!o&&a===i);f++){try{l=e.view.getUint8(a)}catch(u){throw u instanceof Error&&u.message==="Offset is outside the bounds of the DataView"?I(n,"EOF while reading text",a):u}if(!s&&l===0)break;a++,d.push(l)}if(o&&e.view.getUint8(a)!==0)throw I(n,"No null character after text",a);let h=new Uint8Array(d);if(s){let u=new we;if(u.push(h),u.err)throw I(n,`Inflate error: ${u.msg}`,a);h=u.result}return{text:t?t.decode(h):String.fromCharCode(...d),bytesRead:f+1}}var ye=m(()=>{vt();R();});var Ba={};B(Ba,{parseChunk:()=>Is});function Is(e,n,t){U(e,t),ht(e,t,"sRGB"),T(e,t,"PLTE"),T(e,t,"IDAT"),J(e,t,3);let r=t.offset+4+4,a=r+t.dataLength,i=r,o=new TextDecoder("latin1"),s=$(e,t,o,79,i,a,!0);i+=s.bytesRead;let d=s.text,l=e.view.getUint8(i);ce(e,t,l,i),i++;let f=new Uint8Array(e.view.buffer.slice(e.view.byteOffset+i,e.view.byteOffset+a));return{type:"iCCP",name:d,data:f}}var za=m(()=>{R();ye();S();});var Oa={};B(Oa,{parseChunk:()=>xs});function xs(e,n,t){J(e,t,6);let r=t.offset+4+4,a=r+t.dataLength,i=new TextDecoder("utf8"),o;o=$(e,t,i,79,r,a,!0),r+=o.bytesRead;let s=o.text,d=e.view.getUint8(r++)===1,l=e.view.getUint8(r);d&&ce(e,t,l,r),r++,o=$(e,t,i,void 0,r,a,!0),r+=o.bytesRead;let f=o.text;o=$(e,t,i,void 0,r,a,!0),r+=o.bytesRead;let h=o.text;o=$(e,t,i,void 0,r,a,!1,d),r+=o.bytesRead;let u=o.text;return{type:"iTXt",keyword:s,languageTag:f,translatedKeyword:h,text:u}}var Na=m(()=>{R();ye();S();});var Ha={};B(Ha,{parseChunk:()=>Cs});function Cs(e,n,t){U(e,t),L(e,t,7);let r=t.offset+4+4,a=e.view.getUint16(r);r+=2;let i=e.view.getUint8(r++),o=e.view.getUint8(r++),s=e.view.getUint8(r++),d=e.view.getUint8(r++),l=e.view.getUint8(r++);return{type:"tIME",value:new Date(a,i,o,s,d,l)}}var Fa=m(()=>{R();S();});var Za={};B(Za,{parseChunk:()=>Ps});function Ps(e,n,t){U(e,t),T(e,t,"IDAT"),L(e,t,9);let r=t.offset+4+4,a=e.view.getInt32(r);r+=4;let i=e.view.getInt32(r);r+=4;let o=e.view.getUint8(r),s;switch(o){case 0:s="pixel";break;case 1:s="micrometer";break;default:throw I(t,`Invalid oFFs unit type ("${o}")`,r)}return{type:"oFFs",offset:{x:a,y:i},unitType:s}}var $a=m(()=>{R();S();});function st(e,n,t,r,a,i){let o=$(e,n,t,void 0,r,a,i);r+=o.bytesRead,Ds(o.text)||F(e,I(n,`Invalid character in floating point number ("${o.text}")`,r));let s=parseFloat(o.text);return{bytesRead:o.bytesRead,value:s}}function Ds(e){return e.match(/^[+-]?[0-9]+\.[0-9]+([eE][+-]?[0-9]+)?$/)||e.match(/^[+-]?[0-9]+\.?([eE][+-]?[0-9]+)?$/)||e.match(/^[+-]?\.[0-9]+([eE][+-]?[0-9]+)?$/)}var Tn=m(()=>{R();ye();});var Ga={};B(Ga,{parseChunk:()=>Ts});function Ts(e,n,t){U(e,t),T(e,t,"IDAT"),J(e,t,4);let r=t.offset+4+4,a=r+t.dataLength,i=r,o=new TextDecoder("latin1"),s;s=$(e,t,o,79,i,a,!0),i+=s.bytesRead;let d=s.text,l=e.view.getInt32(i);i+=4;let f=e.view.getInt32(i);i+=4;let h=e.view.getUint8(i++),u;switch(h){case 0:u="linear-mapping";break;case 1:u="base-e exponential mapping";break;case 2:u="arbitrary-base exponential mapping";break;case 3:u="hyperbolic mapping";break;default:throw I(t,`Invalid equation type "${h}"`,i)}let c=e.view.getUint8(i++);s=$(e,t,o,79,i,a,!0),i+=s.bytesRead;let _=s.text,P=[],b;for(let w=0;w<c;w++)b=st(e,t,o,i,a,w<c-1),i+=b.bytesRead,P.push(b.value);return{type:"pCAL",calibrationName:d,x0:l,x1:f,equationType:u,unitName:_,params:P}}var ja=m(()=>{R();Tn();ye();S();});var Wa={};B(Wa,{parseChunk:()=>ks});function ks(e,n,t){U(e,t),T(e,t,"IDAT"),L(e,t,9);let r=t.offset+4+4,a=e.view.getUint32(r);r+=4;let i=e.view.getUint32(r);r+=4;let o=e.view.getUint8(r)===1?"meter":"unknown";return{type:"pHYs",pixelsPerUnit:{x:a,y:i},unitType:o}}var Xa=m(()=>{R();S();});var Ya={};B(Ya,{parseChunk:()=>Es});function Es(e,n,t){U(e,t),T(e,t,"PLTE"),T(e,t,"IDAT");let r=t.offset+4+4,a,i;switch(n.colorType){case 0:{a=e.view.getUint8(r),i=1;break}case 2:case 3:{a=[e.view.getUint8(r),e.view.getUint8(r+1),e.view.getUint8(r+2)],i=3;break}case 4:{a=[e.view.getUint8(r),e.view.getUint8(r+1)],i=2;break}case 6:{a=[e.view.getUint8(r),e.view.getUint8(r+1),e.view.getUint8(r+2),e.view.getUint8(r+3)],i=4;break}default:throw I(t,`Unrecognized color type "${n.colorType}"`,r)}return L(e,t,i),{type:"sBIT",value:a}}var Ka=m(()=>{R();S();});var Va={};B(Va,{parseChunk:()=>vs});function vs(e,n,t){U(e,t),T(e,t,"IDAT"),J(e,t,4);let r=t.offset+4+4,a=r+t.dataLength,i=r,o=new TextDecoder("latin1"),s=e.view.getUint8(i),d;switch(s){case 0:d="meter";break;case 1:d="radian";break;default:throw I(t,`Invalid sCAL unit type ("${s}")`,i)}i++;let l;l=st(e,t,o,i,a,!0),i+=l.bytesRead;let f=l.value;l=st(e,t,o,i,a,!1),i+=l.bytesRead;let h=l.value;if(f<0||h<0)throw I(t,`Values cannot be negative (${f}, ${h})`,i);return{type:"sCAL",pixelsPerUnit:{x:f,y:h},unitType:d}}var qa=m(()=>{R();Tn();S();});var Ja={};B(Ja,{parseChunk:()=>As});function As(e,n,t){T(e,t,"IDAT");let r=t.offset+4+4,a=r,i=a+t.dataLength,o=new TextDecoder("latin1"),s=$(e,t,o,void 0,a,i,!0);a+=s.bytesRead;let d=s.text,l=e.view.getUint8(a++),f=l===16?2:1,h=f*4+2,u=t.dataLength-(a-r),c=u/h;if(c%1!==0)throw I(t,`Invalid data length: ${u} should be divisible by entry size ${h}`,a);let _=[];for(let P=0;P<c;P++){let b=[];for(let g=0;g<4;g++)b.push(f===2?e.view.getUint16(a):e.view.getUint8(a)),a+=f;let w=e.view.getUint16(a);a+=2,_.push({red:b[0],green:b[1],blue:b[2],alpha:b[3],frequency:w})}return{type:"sPLT",name:d,sampleDepth:l,entries:_}}var Qa=m(()=>{R();ye();S();});var ei={};B(ei,{parseChunk:()=>Ss});function Ss(e,n,t){U(e,t),ht(e,t,"iCCP"),T(e,t,"PLTE"),T(e,t,"IDAT"),L(e,t,1);let r=t.offset+4+4,a=e.view.getUint8(r),i;switch(a){case 0:case 1:case 2:case 3:i=a;break;default:throw I(t,`Invalid rendering intent "${a}"`,r)}return{type:"sRGB",renderingIntent:i}}var ti=m(()=>{R();S();});var ni={};B(ni,{parseChunk:()=>Ms});function Ms(e,n,t){U(e,t),T(e,t,"IDAT"),L(e,t,1);let r=t.offset+4+4,a=e.view.getUint8(r),i;switch(a){case 0:i="cross-fuse";break;case 1:i="diverging-fuse";break;default:throw I(t,`Invalid layout mode "${a}"`,r)}let o=15-(n.width-1)%16;if(o>7)throw I(t,`Invalid padding value "${o}" for image width ${n.width}`,r);let s=Math.floor((n.width-o)/2);return{type:"sTER",layoutMode:i,subimageWidth:s,padding:o}}var ri=m(()=>{R();S();});var ai={};B(ai,{parseChunk:()=>Us});function Us(e,n,t){J(e,t,6);let r=t.offset+4+4,a=r+t.dataLength,i=r,o=new TextDecoder("latin1"),s;s=$(e,t,o,79,i,a,!0),i+=s.bytesRead;let d=s.text;s=$(e,t,o,void 0,i,a,!1),i+=s.bytesRead;let l=s.text;return{type:"tEXt",keyword:d,text:l}}var ii=m(()=>{R();ye();S();});var oi={};B(oi,{parseChunk:()=>Ls});function Ls(e,n,t){switch(T(e,t,"IDAT"),n.colorType){case 0:L(e,t,2);break;case 2:L(e,t,6);break;case 3:if(Se(e,t,"PLTE"),t.dataLength>e.palette.size)throw I(t,`Invalid data length for color type ${n.colorType}: ${t.dataLength} > ${e.palette.size}`,t.offset+4+4);break;case 4:case 6:throw I(t,`Chunk invalid when color type has alpha (${n.colorType})`,t.offset+4+4)}let r=t.offset+4+4,a;switch(n.colorType){case 0:a=e.view.getUint16(r);break;case 2:a=[e.view.getUint16(r),e.view.getUint16(r+2),e.view.getUint16(r+4)];break;case 3:a=[];for(let i=0;i<t.dataLength;i++)a.push(e.view.getUint8(r+i));break}return{type:"tRNS",transparency:a}}var si=m(()=>{R();S();});var li={};B(li,{parseChunk:()=>Rs});function Rs(e,n,t){J(e,t,6);let r=t.offset+4+4,a=r+t.dataLength,i=r,o=new TextDecoder("latin1"),s;s=$(e,t,o,79,i,a,!0),i+=s.bytesRead;let d=s.text,l=e.view.getUint8(i);ce(e,t,l,i),i++,s=$(e,t,o,void 0,i,a,!1,!0),i+=s.bytesRead;let f=s.text;return{type:"zTXt",keyword:d,text:f}}var fi=m(()=>{R();ye();S();});var di={};B(di,{Palette:()=>St,parseChunk:()=>Bs});function Bs(e,n,t){U(e,t),T(e,t,"bKGD"),T(e,t,"hIST"),T(e,t,"tRNS"),T(e,t,"IDAT");let r=t.offset+4;if(n.colorType===0||n.colorType===4)throw I(t,`Color type "${n.colorType}" cannot have a palette`,r);if(r+=4,t.dataLength===0)throw I(t,"Cannot have 0 entries",r);if(t.dataLength%3!==0)throw I(t,`Chunk length must be divisible by 3 (actual "${t.dataLength}")`,r);return t.dataLength/3>256&&F(e,I(t,`Too many entries (${t.dataLength/3} > 256)`,r)),t.dataLength/3>Math.pow(2,n.bitDepth)&&F(e,I(t,`Too many entries for bit depth (${t.dataLength/3} > 2^${n.bitDepth})`,r)),new St(e.view,t.offset+4+4,t.dataLength)}var St,ci=m(()=>{R();S();St=class{constructor(n,t,r){this._view=n;this._paletteOffset=t;this._length=r}get size(){return this._length/3}getRgb(n){return this._checkIndex(n),new Uint8Array(this._view.buffer.slice(this._view.byteOffset+this._paletteOffset+n*3,this._view.byteOffset+this._paletteOffset+n*3+3))}setRgba(n,t,r){this._checkIndex(r);let a=this._paletteOffset+r*3;n[t]=this._view.getUint8(a),n[t+1]=this._view.getUint8(a+1),n[t+2]=this._view.getUint8(a+2),n[t+3]=255}_checkIndex(n){if(n<0||n*3>this._length-3)throw new Error(`Palette does not contain color index "${n}"`)}}});var wi={};B(wi,{DecodeError:()=>G,DecodeWarning:()=>ee,decodePng:()=>Os,readChunk:()=>mi,readChunks:()=>_i,verifyPngSignature:()=>gi});function gi(e){if(e.view.byteLength<7)throw new G(e,`Not enough bytes in file for png signature (${e.view.byteLength})`,0);if(!(e.view.getUint8(0)===137&&e.view.getUint8(1)===80&&e.view.getUint8(2)===78&&e.view.getUint8(3)===71&&e.view.getUint8(4)===13&&e.view.getUint8(5)===10&&e.view.getUint8(6)===26&&e.view.getUint8(7)===10)){let t=hi(Array.from(new Uint8Array(e.view.buffer).slice(e.view.byteOffset,e.view.byteOffset+8))),r=hi([137,80,78,71,13,10,26,10]);throw new G(e,`Png signature is not correct (${t} != ${r})`,0)}}function hi(e){return`0x${e.map(n=>n.toString(16).padStart(2,"0")).join("")}`}function zs(e){switch(e){case"bKGD":return Promise.resolve().then(()=>(ka(),Ta));case"cHRM":return Promise.resolve().then(()=>(va(),Ea));case"eXIf":return Promise.resolve().then(()=>(Sa(),Aa));case"gAMA":return Promise.resolve().then(()=>(Ua(),Ma));case"hIST":return Promise.resolve().then(()=>(Ra(),La));case"iCCP":return Promise.resolve().then(()=>(za(),Ba));case"iTXt":return Promise.resolve().then(()=>(Na(),Oa));case"tIME":return Promise.resolve().then(()=>(Fa(),Ha));case"oFFs":return Promise.resolve().then(()=>($a(),Za));case"pCAL":return Promise.resolve().then(()=>(ja(),Ga));case"pHYs":return Promise.resolve().then(()=>(Xa(),Wa));case"sBIT":return Promise.resolve().then(()=>(Ka(),Ya));case"sCAL":return Promise.resolve().then(()=>(qa(),Va));case"sPLT":return Promise.resolve().then(()=>(Qa(),Ja));case"sRGB":return Promise.resolve().then(()=>(ti(),ei));case"sTER":return Promise.resolve().then(()=>(ri(),ni));case"tEXt":return Promise.resolve().then(()=>(ii(),ai));case"tRNS":return Promise.resolve().then(()=>(si(),oi));case"zTXt":return Promise.resolve().then(()=>(fi(),li));default:throw new Error(`Could not get decoder for chunk type "${e}"`)}}async function Os(e,n={}){let t={view:new DataView(e.buffer,e.byteOffset,e.byteLength),image:void 0,palette:void 0,metadata:[],parsedChunks:new Set,warnings:[],info:[],options:n};gi(t);let r=_i(t);t.rawChunks=r;let a=Pa(t,r[0]),i={...t,header:a},o;n&&n.parseChunkTypes?n.parseChunkTypes==="*"?o=pi:o=ui.concat(n.parseChunkTypes):o=ui;for(let s=1;s<r.length;s++){let d=r[s];switch(d.type){case"IHDR":F(i,I(d,"Multiple IHDR chunks not allowed",d.offset+4));break;case"IDAT":{let l=[d];for(;r.length>s+1&&r[s+1].type==="IDAT";)l.push(r[++s]);i.image={width:a.width,height:a.height,data:ha(i,a,l)};break}case"PLTE":i.palette=(await Promise.resolve().then(()=>(ci(),di))).parseChunk(i,a,d);break;case"IEND":ma(i,a,d);break;default:if(o.includes(d.type))try{i.metadata.push((await zs(d.type)).parseChunk(i,a,d))}catch(l){if(l instanceof ee)F(i,l);else throw l}else if(!pi.includes(d.type))if(d.isAncillary)i.info.push(`Unrecognized chunk type "${d.type}"`);else throw new G(i,`Unrecognized critical chunk type "${d.type}"`,d.offset+4);break}i.parsedChunks.add(d.type)}if(!i.image)throw new G(i,"Failed to decode, no IDAT chunk",0);return n&&n.force32&&i.image.data.BYTES_PER_ELEMENT===2&&(i.image.data=Hn(i.image.data)),{image:i.image,details:{width:a.width,height:a.height,bitDepth:a.bitDepth,colorType:a.colorType,interlaceMethod:a.interlaceMethod},palette:i.palette,metadata:i.metadata,rawChunks:r,warnings:i.warnings,info:i.info}}function _i(e){let n=[],t=8,r=!1,a=!1,i;for(;t<e.view.byteLength;){try{i=mi(e,t)}catch(o){if(!a||!(o instanceof Error))throw o;F(e,new ee("Could not parse chunk after IEND: "+o.message,t))}t+=4+4+i.dataLength+4,n.push(i),r||=i.type==="IDAT",a||=i.type==="IEND"}if(n[0].type!=="IHDR")throw new G(e,"First chunk is not IHDR",n[0].offset+4);if(n[n.length-1].type!=="IEND"&&F(e,new ee("Last chunk is not IEND",n[n.length-1].offset+4)),!r)throw new G(e,"No IDAT chunk",0);return n}function mi(e,n){if(e.view.byteLength<n+4)throw new G(e,"EOF while reading chunk length",n);let t=e.view.getUint32(n);if(e.view.byteLength<n+4+4)throw new G(e,"EOF while reading chunk type",n);let r=String.fromCharCode(e.view.getUint8(n+4),e.view.getUint8(n+5),e.view.getUint8(n+6),e.view.getUint8(n+7));if(e.view.byteLength<n+4+4+t+4)throw new G(e,`EOF while reading chunk "${r}"`,n);let a=e.view.getUint32(n+4+4+t)>>>0,i=ot(e.view,n+4,4+t);return a!==i&&F(e,new ee(`CRC for chunk "${r}" at offset 0x${n.toString(16)} doesn't match (0x${a.toString(16)} !== 0x${i.toString(16)})`,n)),{offset:n,type:r,dataLength:t,isAncillary:kn(r,0),isPrivate:kn(r,1),isSafeToCopy:kn(r,3)}}function kn(e,n){return!!(e.charCodeAt(n)&32)}var ui,pi,yi=m(()=>{Fn();R();_a();wa();Da();Dn();S();ui=Object.freeze(["tRNS"]),pi=Object.freeze(["bKGD","cHRM","eXIf","gAMA","hIST","iCCP","iTXt","tIME","oFFs","pCAL","pHYs","sBIT","sCAL","sPLT","sRGB","sTER","tEXt","tRNS","zTXt"])});var de,Mt=m(()=>{de=class{constructor(n){this.offset=0;this.array=new Uint8Array(n),this.view=new DataView(this.array.buffer,this.array.byteOffset,this.array.byteLength)}writeUint8(n){this.view.setUint8(this.offset,n),this.offset+=1}writeUint16(n){this.view.setUint16(this.offset,n),this.offset+=2}writeUint32(n){this.view.setUint32(this.offset,n),this.offset+=4}writeArray(n){this.array.set(n,this.array.byteOffset+this.offset),this.offset+=n.length}assertAtEnd(){if(this.offset!==this.array.length)throw new Error("Writing finished before expected length of stream")}}});function bi(e,n){e.writeUint8(n.charCodeAt(0)),e.writeUint8(n.charCodeAt(1)),e.writeUint8(n.charCodeAt(2)),e.writeUint8(n.charCodeAt(3))}function Ut(e,n){let t=new de(4+4+n.length+4);if(t.writeUint32(n.length),e.length!==4)throw new Error(`Cannot encode a chunk type of length ${e.length}`);return bi(t,e),t.writeArray(n),t.writeUint32(ot(t.view,4,4+n.length)),t.assertAtEnd(),t.array}function ie(e,n,t){let r=new de(4+4+n+4);if(r.writeUint32(n),e.length!==4)throw new Error(`Cannot encode a chunk type of length ${e.length}`);return bi(r,e),t(r),r.writeUint32(ot(r.view,4,4+n)),r.assertAtEnd(),r.array}var Ae=m(()=>{Mt();Dn();S();});function Ii(e,n){let t=Ns(e,n),r=new de(t);Hs(e,n,r);let a=un(r.array);return Ut("IDAT",a)}function Ns(e,n){if(e.bitDepth<8)throw new Error("Only bit depth 8 and 16 is supported currently");if(n.data.BYTES_PER_ELEMENT===2&&e.bitDepth===8)throw new Error("16 to 8 bit conversion isn't supported yet");if(e.interlaceMethod!==0)throw new Error("Only interlace method 0 is supported currently");let t;switch(e.colorType){case 0:t=1;break;case 2:t=3;break;case 3:t=1;break;case 4:t=2;break;case 6:t=4;break}let r=e.bitDepth===16?2:1;return(1+t*r*n.width)*n.height}function Hs(e,n,t){let r=0,a=0,i=0;if(e.colorType===3){if(!e.palette)throw new Error("Cannot encode indexed file without palette");if(n.data.BYTES_PER_ELEMENT===2)throw new Error("Cannot encode indexed file from 16-bit image");for(;i<n.height;i++)for(t.writeUint8(0),a=0;a<n.width;a++)t.writeUint8(e.palette.get(n.data[r]<<24|n.data[r+1]<<16|n.data[r+2]<<8|n.data[r+3])),r+=4;return}let o;if(e.options.filterPattern){if(e.options.filterPattern.length===0)throw new Error("Filter pattern with 0 entries");o=e.options.filterPattern}let s=4*n.data.BYTES_PER_ELEMENT,d=[];for(let f of[0,1,2,3,4])d[f]=Zs(s,s*n.width,f);let l=xi(e.colorType);for(;i<n.height;i++){let f=o?o[i%o.length]:Fs(e.colorType,n,i*n.width*4,d),h=new Uint8Array(n.data.buffer,n.data.byteOffset,n.data.byteLength);t.writeUint8(f);let u=0,c=0;for(a=0;a<n.width;a++){for(c of l)for(u=n.data.BYTES_PER_ELEMENT-1;u>=0;u--)t.writeUint8(d[f](h,(r+c)*n.data.BYTES_PER_ELEMENT+u,a===0));r+=4}}}function Fs(e,n,t,r){let a=[],i=4*n.data.BYTES_PER_ELEMENT;for(let d of[0,1,2,3,4]){let l=0,f=xi(e),h=new Uint8Array(n.data.buffer,n.data.byteOffset,n.data.byteLength),u=0,c=0;for(let _=t;_<t+n.width*4;_+=4)for(u of f)for(c=n.data.BYTES_PER_ELEMENT-1;c>=0;c--)l+=r[d](h,(_+u)*n.data.BYTES_PER_ELEMENT+c,_===t);a[d]=l}let o=0,s=a[0];for(let d of[1,2,3,4])a[d]<s&&(o=d,s=a[d]);return o}function Zs(e,n,t){let r=0,a=0,i=0;switch(t){case 0:return(o,s)=>o[s];case 1:return(o,s,d)=>(r=d?-1:s-e,(o[s]-(r<0?0:o[s-e])+256)%256);case 2:return(o,s)=>(a=s-n,(o[s]-(a<0?0:o[a])+256)%256);case 3:return(o,s,d)=>(r=d?-1:s-e,a=s-n,(o[s]-Math.floor(((r<0?0:o[r])+(a<0?0:o[a]))/2)+256)%256);case 4:return(o,s,d)=>(r=d?-1:s-e,a=s-n,i=d?-1:s-e-n,(o[s]-at(r<0?0:o[r],a<0?0:o[a],i<0?0:o[i])+256)%256)}}function xi(e){switch(e){case 0:return[0];case 2:return[0,1,2];case 4:return[0,3];case 6:return[0,1,2,3]}}var Ci=m(()=>{vt();Mt();Cn();S();Ae();});function Pi(){return Ut("IEND",new Uint8Array(0))}var Di=m(()=>{Ae();});function Ti(e,n){if(n.width<=0||n.height<=0)throw new Error(`Invalid dimensions ${n.width}x${n.height}`);return ie("IHDR",13,t=>{t.writeUint32(n.width),t.writeUint32(n.height),t.writeUint8(e.bitDepth),t.writeUint8(e.colorType),t.writeUint8(0),t.writeUint8(0),t.writeUint8(e.interlaceMethod)})}var ki=m(()=>{Ae();});var Ei={};B(Ei,{encodeChunk:()=>$s});function $s(e,n){switch(e.colorType){case 0:{if(e.firstTransparentColor===void 0)throw new Error("Cannot write tRNS for grayscale without any transparent colors");let t=e.firstTransparentColor;return ie("tRNS",2,r=>{n.data.BYTES_PER_ELEMENT===2?r.writeUint16(t>>48&65535):r.writeUint16(t>>24&255)})}case 3:{if(!e.palette)throw new Error("Cannot encode tRNS chunk for indexed image without palette");return ie("tRNS",e.palette.size,t=>{for(let r of e.colorSet)t.writeUint8(r&255)})}case 2:{if(e.firstTransparentColor===void 0)throw new Error("Cannot write tRNS for True color without any transparent colors");let t=e.firstTransparentColor;return ie("tRNS",6,r=>{n.data.BYTES_PER_ELEMENT===2?(r.writeUint16(t>>48&65535),r.writeUint16(t>>32&65535),r.writeUint16(t>>16&65535)):(r.writeUint16(t>>24&255),r.writeUint16(t>>16&255),r.writeUint16(t>>8&255))})}default:throw new Error(`Cannot encode tRNS chunk for color type "${e.colorType}"`)}}var vi=m(()=>{S();Ae();});var Ai={};B(Ai,{encodeChunk:()=>Gs});function Gs(e,n){if(e.bitDepth===16||n.data.BYTES_PER_ELEMENT===2)throw new Error("Cannot encode 16 bit images using indexed color type");if(e.colorSet.size>Math.pow(2,e.bitDepth))throw new Error(`Too many colors ${e.colorSet.size} to encode into indexed image (2^${e.bitDepth} = ${Math.pow(2,e.bitDepth)})`);let t=ie("PLTE",e.colorSet.size*3,a=>{for(let i of e.colorSet.values())a.writeUint8(i>>24&255),a.writeUint8(i>>16&255),a.writeUint8(i>>8&255)}),r=new Map;for(let a of e.colorSet.values())r.set(a,r.size);return{chunkData:t,palette:r}}var Si=m(()=>{Ae();});var En={};B(En,{encodeChunk:()=>js});function js(e,n,t,r){if(t.length===0||t.length>79)throw new he(`tEXt: Invalid keyword length: 0 < ${t.length} < 80`,0);let a=t.length+1+r.length;return ie("tEXt",a,i=>{let o=0;for(;o<t.length;o++)i.writeUint8(t.charCodeAt(o));for(i.writeUint8(0),o=0;o<r.length;o++)i.writeUint8(r.charCodeAt(o))})}var vn=m(()=>{ut();Ae();});var Mi={};B(Mi,{EncodeError:()=>he,EncodeWarning:()=>Me,encodePng:()=>Xs});function Ws(e){switch(e){case"tRNS":return Promise.resolve().then(()=>(vi(),Ei));default:throw new Error(`Could not get encoder for chunk type "${e}"`)}}async function Xs(e,n={}){if(e.data.length!==e.width*e.height*4)throw new he(`Provided image data length (${e.data.length}) is not expected length (${e.width*e.height*4})`,Math.min(e.data.length,e.width*e.height*4)-1);let t=[];t.push(Ys());let r=Ks(e,n);if(t.push(Ti(r,e)),r.colorType===3){let s=(await Promise.resolve().then(()=>(Si(),Ai))).encodeChunk(r,e);r.palette=s.palette,t.push(s.chunkData)}if(r.useTransparencyChunk&&t.push((await Ws("tRNS")).encodeChunk(r,e)),t.push(Ii(r,e)),n?.ancillaryChunks===void 0)t.push((await Promise.resolve().then(()=>(vn(),En))).encodeChunk(r,e,"Software","@lunapaint/png-codec"));else for(let s of n.ancillaryChunks)switch(s.type){case"tEXt":t.push((await Promise.resolve().then(()=>(vn(),En))).encodeChunk(r,e,s.keyword,s.text));break;default:throw new Error(`Cannot encode chunk type "${s.type}"`)}t.push(Pi());let a=t.reduce((s,d)=>s+d.length,0),i=new Uint8Array(a),o=0;for(let s of t)i.set(s,o),o+=s.length;return{data:i,warnings:r.warnings,info:r.info}}function Ys(){let e=new de(8);return e.writeUint8(137),e.writeUint8(80),e.writeUint8(78),e.writeUint8(71),e.writeUint8(13),e.writeUint8(10),e.writeUint8(26),e.writeUint8(10),e.assertAtEnd(),e.array}function Ks(e,n={}){let t=[],r=[],i=e.width*e.height*4,o=new Set,s=new Set,d=0;if(e.data.BYTES_PER_ELEMENT===2)for(let h=0;h<i;h+=4)d=e.data[h]<<48|e.data[h+1]<<32|e.data[h+2]<<16|e.data[h+3],e.data[h+3]<65535&&s.add(d),o.add(d);else for(let h=0;h<i;h+=4)d=e.data[h]<<24|e.data[h+1]<<16|e.data[h+2]<<8|e.data[h+3],e.data[h+3]<255&&s.add(d),o.add(d);let l=n.colorType;l===void 0&&(o.size>256||e.data.BYTES_PER_ELEMENT===2?l=2:l=3);let f;switch(l){case 0:case 2:f=s.size===1,!f&&s.size>1&&(l=l===2?6:4,n.colorType===2&&Nn({options:n,warnings:t},new Me(`Cannot encode image as color type Truecolor as it contains ${s.size} transparent colors`,0)));break;case 3:f=s.size>0;break;default:f=!1}return n.colorType===void 0&&r.push(`Using color type ${l}`),{colorType:l,bitDepth:e.data.BYTES_PER_ELEMENT===2?16:8,interlaceMethod:0,colorSet:o,transparentColorCount:s.size,firstTransparentColor:s.size>0?s.values().next().value:void 0,useTransparencyChunk:f,options:n,warnings:t,info:r}}var Ui=m(()=>{Mt();Ci();Di();ki();ut();S();});var Bn={};B(Bn,{arrayBufferToValue:()=>ft,blobToImageElement:()=>An,compress:()=>Bt,decode:()=>al,decodeBinary:()=>Nt,decodeBinaryFromFile:()=>Ni,decodeBinaryFromPng:()=>Rn,decodeDataFromImage:()=>Un,decodeFromFile:()=>ol,decompress:()=>tl,decompressAsArrayBuffer:()=>zt,decompressAsString:()=>el,defaultCompressionFormat:()=>lt,downloadImage:()=>il,encode:()=>nl,encodeBinary:()=>Oi,encodeBinaryToBlob:()=>Ln,encodeBinaryToPng:()=>Lt,encodeDataIntoImage:()=>Mn,encodeToBlob:()=>zi,encodeToImage:()=>rl,getBufferfromFile:()=>Hi,getImageData:()=>qs,imageElementToBlob:()=>Vs,imageElementToCanvas:()=>Sn,valueToArrayBuffer:()=>Ot});R();ut();async function Li(e,n){return(await Promise.resolve().then(()=>(yi(),wi))).decodePng(e,n)}async function Ri(e,n){return(await Promise.resolve().then(()=>(Ui(),Mi))).encodePng(e,n)}async function Vs(e){let{canvas:n}=Sn(e);return new Promise((t,r)=>{n.toBlob(function(a){a?t(a):r(new Error(""))},"image/png")})}async function An(e,n=document.createElement("img")){return new Promise((t,r)=>{let a=()=>{URL.revokeObjectURL(n.src),n.removeEventListener("load",a),n.removeEventListener("error",r),t(n)};n.addEventListener("load",a),n.addEventListener("error",r),n.src=URL.createObjectURL(e)})}function qs(e){let{context:n,width:t,height:r}=Sn(e);return n.getImageData(0,0,t,r).data}function Sn(e){let n=document.createElement("canvas"),t=n.getContext("2d"),r=n.width=e.naturalWidth,a=n.height=e.naturalHeight;return t?.drawImage(e,0,0),{canvas:n,context:t,width:r,height:a}}function Mn(e,n){let t=e.length;for(let r=0;r<3;r++)n[r]=t/Math.pow(256,r)%256|0;n[3]=255;for(let r=4,a=0,i=n.length;r<i;r+=4,a+=3)n[r]=e[a]||0,n[r+1]=e[a+1]||0,n[r+2]=e[a+2]||0,n[r+3]=255;return n}function Un(e){let n=0;for(let r=0;r<3;r++){let a=e[r]*Math.pow(256,r);n+=a}let t=new Uint8Array(n);e:for(let r=4,a=0,i=e.length;a<i;r+=4,a+=3)for(let o=0;o<3;o++){if(a+o>=n)break e;t[a+o]=e[r+o]}return t.buffer}async function Lt(e){let n=new Uint8Array(e),t=Math.ceil(Math.sqrt(n.length/3+1)),r=new Uint8ClampedArray(t*t*4);return Mn(n,r),(await Ri({width:t,height:t,data:new Uint8Array(r.buffer)})).data.buffer}async function Ln(e){let n=await Lt(e);return new Blob([n],{type:"image/png"})}async function Rn(e){if(!(e instanceof ArrayBuffer))throw new Error("Expected ArrayBuffer but got "+typeof e);let n=await Li(new Uint8Array(e));return Un(new Uint8ClampedArray(n.image.data.buffer))}var{CompressionStream:Js,DecompressionStream:Qs,Response:Rt}=globalThis,lt="gzip";async function Bt(e,n=lt){let t=new Js(n),r=new Rt(e).body?.pipeThrough(t);return await new Rt(r).arrayBuffer()}async function Bi(e,n=lt){let t=new Qs(n),r=new Rt(e).body?.pipeThrough(t);return new Rt(r)}async function zt(e,n=lt){return(await Bi(e,n)).arrayBuffer()}async function el(e,n=lt){return(await Bi(e,n)).text()}var tl=zt;function Ot(e){return new TextEncoder().encode(JSON.stringify(e)).buffer}function ft(e){return JSON.parse(new TextDecoder().decode(e))}async function nl(e){return await Oi(Ot(e))}async function zi(e){return await Ln(await Bt(Ot(e)))}async function rl(e,n){return An(await zi(e),n)}async function Oi(e){return await Lt(await Bt(e))}async function al(e){return ft(await Nt(e))}async function Nt(e){return await zt(await Rn(e))}function il(e,n="compressed.png"){let t=URL.createObjectURL(e),r=document.createElement("a");r.download=n,r.href=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}async function Ni(e){let n=await Hi(e);return await Nt(n)}async function ol(e){return ft(await Ni(e))}async function Hi(e){return new Promise((n,t)=>{let r=new FileReader;r.addEventListener("load",()=>{n(r.result)}),r.addEventListener("error",t),r.readAsArrayBuffer(e)})}window.PNGCompressor=Bn;})();
/**
 * @license
 * Copyright (c) 2022 Daniel Imms <http://www.growingwiththeweb.com>
 * Released under MIT license. See LICENSE in the project root for details.
 */
//# sourceMappingURL=png-compressor.js.map
