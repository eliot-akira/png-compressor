<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>png-compressor</title><meta name="description" content="Documentation for png-compressor"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">png-compressor</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>png-compressor</h1></div><div class="tsd-panel tsd-typography"><h1 id="png-compressor" class="tsd-anchor-link">PNG Compressor<a href="#png-compressor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><blockquote>
<p>Compress and encode data in Portable Network Graphics (PNG) image</p>
</blockquote>
<p><img src="media/screenshot.jpg" alt="Screenshot"></p>
<p><strong><a href="https://eliot-akira.github.io/png-compressor/">Demo</a> · <a href="https://eliot-akira.github.io/png-compressor/api/">API</a> · <a href="https://github.com/eliot-akira/png-compressor">Source</a></strong></p>
<h2 id="why" class="tsd-anchor-link">Why<a href="#why" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>It can be useful to encode data or persist application state into an image file, to import/export and share easily. Other formats like JSON and ZIP can be difficult to send by email or upload to a discussion forum.</p>
<p>The PNG image format is a mature standard supported by many languages and environments. It's often used to store and transfer data in addition to the image itself. Examples include the <a href="https://pico-8.fandom.com/wiki/P8PNGFileFormat">P8PNGFileFormat</a>.</p>
<blockquote>
<p>PICO-8 cartridges can be saved in a special <code>.png</code> format and sent directly to other users, shared with anyone via a web cart player, or exported to stand-alone HTML5, Windows, Mac and Linux apps. Any cartridge can be opened again in PICO-8, letting you peek inside to modify or study the code, graphics and sound.</p>
</blockquote>
<p>AI image generation tools like ComfyUI and Automatic1111 export PNG files with metadata for prompts and node graphs. Adobe Fireworks used PNG as its native file format, storing data for layers, animation, vector data, text and effects.</p>
<h2 id="how" class="tsd-anchor-link">How<a href="#how" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This library offers two ways to store data in a PNG image.</p>
<ol>
<li>Encode the data into <a href="#color-channels">color channels</a> to create an image</li>
<li>Attach invisible <a href="#data-blocks">data blocks</a> to an existing image</li>
</ol>
<p>The first method results in an image that looks like colorful noise.</p>
<img src="media/color-channels.svg" style="max-width:600px">
<p>The second method adds data blocks as metadata, without affecting how the image looks.</p>
<img src="media/png-file-format.svg" style="max-width:280px">
<p>The image and data blocks (except plain text) are compressed using the classic <code>deflate</code> algorithm for lossless compression, with the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Compression_Streams_API">Compression Streams API</a> well-supported by browsers and server-side JavaScript runtimes.</p>
<h4 id="reference" class="tsd-anchor-link">Reference<a href="#reference" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><a href="https://www.w3.org/TR/2003/REC-PNG-20031110/">Portable Network Graphics (PNG) Specification (Second Edition)</a></li>
<li><a href="https://en.wikipedia.org/wiki/PNG">https://en.wikipedia.org/wiki/PNG</a></li>
<li><a href="https://github.com/pnggroup/libpng">https://github.com/pnggroup/libpng</a></li>
</ul>
<h2 id="install" class="tsd-anchor-link">Install<a href="#install" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Install as a dependency in your project.</p>
<pre><code class="sh"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-3">--save</span><span class="hl-1"> </span><span class="hl-2">png-compressor</span>
</code><button type="button">Copy</button></pre>

<!--TODO: Or globally as a command-line tool.

```sh
npm install --global png-compressor
```
-->
<h2 id="develop" class="tsd-anchor-link">Develop<a href="#develop" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Prerequisites: <a href="https://git-scm.com/">Git</a>, <a href="https://bun.sh/">Bun</a></p>
<p>Clone the project and install dependencies.</p>
<pre><code class="sh"><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-2">clone</span><span class="hl-1"> </span><span class="hl-2">https://github.com/eliot-akira/png-compressor</span><br/><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">png-compressor</span><br/><span class="hl-0">bun</span><span class="hl-1"> </span><span class="hl-2">install</span>
</code><button type="button">Copy</button></pre>

<p>Build for development, watch files for changes and rebuild. Serve static site for  documentation at <a href="http://localhost:8080">http://localhost:8080</a>.</p>
<pre><code class="sh"><span class="hl-0">bun</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">start</span>
</code><button type="button">Copy</button></pre>

<p>Build for production. Run formatter, tests, minify assets, build docs.</p>
<pre><code class="sh"><span class="hl-0">bun</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build</span>
</code><button type="button">Copy</button></pre>

<p>Run tests.</p>
<pre><code class="sh"><span class="hl-0">bun</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">test</span>
</code><button type="button">Copy</button></pre>

<p>Use <code>bun run tdd</code> instead to watch files and re-run tests.</p>
<h2 id="use" class="tsd-anchor-link">Use<a href="#use" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="color-channels" class="tsd-anchor-link">Color channels<a href="#color-channels" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Use <code>encodeImageData()</code> to convert data into an image buffer by encoding every byte into the color channels (red/green/blue). The opacity (alpha) channel is not used because it affects color values.</p>
<p>The encoded buffer can be written to a file, or rendered as an image element and downloaded.</p>
<pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">encodeImageData</span><span class="hl-1">, </span><span class="hl-5">decodeImageData</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;png-compressor&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">imageData</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">encodeImageData</span><span class="hl-1">({ </span><span class="hl-5">key:</span><span class="hl-1"> </span><span class="hl-2">&#39;value&#39;</span><span class="hl-1"> })</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">decoded</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">decodeImageData</span><span class="hl-1">(</span><span class="hl-5">imageData</span><span class="hl-1">)</span><br/><br/><span class="hl-5">assert</span><span class="hl-1">.</span><span class="hl-0">deepEqual</span><span class="hl-1">(</span><span class="hl-5">decoded</span><span class="hl-1">, </span><span class="hl-5">object</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<p>The data can be a JSON-serializable object or binary (<code>ArrayBuffer</code> or <code>Uint8Array</code>).</p>
<p>Use <code>decodeImageData</code> to decode JSON value; and <code>decodeImageDataBinary</code> for binary data.</p>
<pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">encodeImageData</span><span class="hl-1">, </span><span class="hl-5">decodeImageDataBinary</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;png-compressor&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">buffer</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">ArrayBuffer</span><span class="hl-1">(</span><span class="hl-7">8</span><span class="hl-1">)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">imageData</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">encodeImageData</span><span class="hl-1">(</span><span class="hl-5">buffer</span><span class="hl-1">)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">decoded</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">decodeImageDataBinary</span><span class="hl-1">(</span><span class="hl-5">imageData</span><span class="hl-1">)</span><br/><br/><span class="hl-5">assert</span><span class="hl-1">.</span><span class="hl-0">deepEqual</span><span class="hl-1">(</span><span class="hl-5">decoded</span><span class="hl-1">, </span><span class="hl-5">buffer</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<h3 id="data-blocks" class="tsd-anchor-link">Data blocks<a href="#data-blocks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Blocks of data can be attached to an existing image buffer.</p>
<p>They are stored in the image as <a href="https://www.w3.org/TR/2003/REC-PNG-20031110/#11Ancillary-chunks">ancillary chunks</a> of the PNG format, using <code>tEXt</code> (textual data) and <code>zTXt</code> (compressed textual data).</p>
<p>Each block has a &quot;key&quot; to identify it by name; and a &quot;value&quot; which can be:</p>
<ul>
<li>Text - <code>string</code></li>
<li>JSON-serializable object</li>
<li>Binary - <code>ArrayBuffer</code>, <code>Uint8Array</code></li>
</ul>
<p>A key can also group together multiple blocks of the same name, such as a collection of binary data.</p>
<h4 id="example" class="tsd-anchor-link">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-5">fs</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node:fs/promises&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">encodeImageDataBlocks</span><span class="hl-1">, </span><span class="hl-5">decodeImageDataBlocks</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;png-compressor&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">imageData</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">fs</span><span class="hl-1">.</span><span class="hl-0">readFile</span><span class="hl-1">(</span><span class="hl-2">&#39;./example.png&#39;</span><span class="hl-1">)</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">blocks</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-5">text:</span><span class="hl-1"> </span><span class="hl-2">&#39;hello&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">info:</span><span class="hl-1"> { </span><span class="hl-5">key:</span><span class="hl-1"> </span><span class="hl-2">&#39;value&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-5">file:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">ArrayBuffer</span><span class="hl-1">(</span><span class="hl-7">8</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-8">// Multiple blocks</span><br/><span class="hl-1">  </span><span class="hl-5">items:</span><span class="hl-1"> [</span><br/><span class="hl-1">    { </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;item-1&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;item-2&#39;</span><span class="hl-1"> }</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-8">// Encode</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">encodedImageData</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">encodeImageDataBlocks</span><span class="hl-1">(</span><span class="hl-5">imageData</span><span class="hl-1">, </span><span class="hl-5">blocks</span><span class="hl-1">)</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">fs</span><span class="hl-1">.</span><span class="hl-0">writeFile</span><span class="hl-1">(</span><span class="hl-2">&#39;./example-with-data.png&#39;</span><span class="hl-1">, </span><span class="hl-5">encodedImageData</span><span class="hl-1">)</span><br/><br/><span class="hl-8">// Decode</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">decoded</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">decodeImageDataBlocks</span><span class="hl-1">(</span><span class="hl-5">encodedImageData</span><span class="hl-1">)</span><br/><span class="hl-5">assert</span><span class="hl-1">.</span><span class="hl-0">deepEqual</span><span class="hl-1">(</span><span class="hl-5">decoded</span><span class="hl-1">.</span><span class="hl-5">blocks</span><span class="hl-1">, </span><span class="hl-5">blocks</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<h3 id="browser" class="tsd-anchor-link">Browser<a href="#browser" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="create-image-element" class="tsd-anchor-link">Create image element<a href="#create-image-element" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">encodeImageData</span><span class="hl-1">, </span><span class="hl-5">createImageElement</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;png-compressor&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">object</span><span class="hl-1"> = { </span><span class="hl-5">key:</span><span class="hl-1"> </span><span class="hl-2">&#39;value&#39;</span><span class="hl-1"> }</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">imageData</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">encodeImageData</span><span class="hl-1">(</span><span class="hl-5">object</span><span class="hl-1">)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">imageElement</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">createImageElement</span><span class="hl-1">(</span><span class="hl-5">imageData</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<p>Or pass an image element as second argument to render into it.</p>
<pre><code class="ts"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">imageElement</span><span class="hl-1"> = </span><span class="hl-5">document</span><span class="hl-1">.</span><span class="hl-0">createElement</span><span class="hl-1">(</span><span class="hl-2">&#39;img&#39;</span><span class="hl-1">)</span><br/><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">createImageElement</span><span class="hl-1">(</span><span class="hl-5">imageData</span><span class="hl-1">, </span><span class="hl-5">imageElement</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<h4 id="download-as-image" class="tsd-anchor-link">Download as image<a href="#download-as-image" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">encodeImageData</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">createImageBlob</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">downloadImageBlob</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;png-compressor&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">imageData</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">encodeImageData</span><span class="hl-1">(</span><span class="hl-5">object</span><span class="hl-1">)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">blob</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">createImageBlob</span><span class="hl-1">(</span><span class="hl-5">imageData</span><span class="hl-1">)</span><br/><br/><span class="hl-0">downloadImageBlob</span><span class="hl-1">(</span><span class="hl-5">blob</span><span class="hl-1">, </span><span class="hl-2">&#39;example.png&#39;</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<h3 id="server" class="tsd-anchor-link">Server<a href="#server" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="write-to-image-file" class="tsd-anchor-link">Write to image file<a href="#write-to-image-file" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-5">fs</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node:fs/promises&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">encodeImageData</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;png-compressor&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">object</span><span class="hl-1"> = { </span><span class="hl-5">key:</span><span class="hl-1"> </span><span class="hl-2">&#39;value&#39;</span><span class="hl-1"> }</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">encoded</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">encodeImageData</span><span class="hl-1">(</span><span class="hl-5">object</span><span class="hl-1">)</span><br/><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">fs</span><span class="hl-1">.</span><span class="hl-0">writeFile</span><span class="hl-1">(</span><span class="hl-2">&#39;test.png&#39;</span><span class="hl-1">, </span><span class="hl-5">Buffer</span><span class="hl-1">.</span><span class="hl-0">from</span><span class="hl-1">(</span><span class="hl-5">encoded</span><span class="hl-1">))</span>
</code><button type="button">Copy</button></pre>

<h4 id="read-from-image-file" class="tsd-anchor-link">Read from image file<a href="#read-from-image-file" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-5">fs</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node:fs/promises&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">decodeImageData</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;png-compressor&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">buffer</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-5">fs</span><span class="hl-1">.</span><span class="hl-0">readFile</span><span class="hl-1">(</span><span class="hl-2">&#39;test.png&#39;</span><span class="hl-1">)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">decoded</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">decodeImageData</span><span class="hl-1">(</span><span class="hl-5">buffer</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#png-compressor"><span>PNG <wbr/>Compressor</span></a><ul><li><a href="#why"><span>Why</span></a></li><li><a href="#how"><span>How</span></a></li><li><ul><li><ul><li><a href="#reference"><span>Reference</span></a></li></ul></li></ul></li><li><a href="#install"><span>Install</span></a></li><li><a href="#develop"><span>Develop</span></a></li><li><a href="#use"><span>Use</span></a></li><li><ul><li><a href="#color-channels"><span>Color channels</span></a></li><li><a href="#data-blocks"><span>Data blocks</span></a></li><li><ul><li><a href="#example"><span>Example</span></a></li></ul></li><li><a href="#browser"><span>Browser</span></a></li><li><ul><li><a href="#create-image-element"><span>Create image element</span></a></li><li><a href="#download-as-image"><span>Download as image</span></a></li></ul></li><li><a href="#server"><span>Server</span></a></li><li><ul><li><a href="#write-to-image-file"><span>Write to image file</span></a></li><li><a href="#read-from-image-file"><span>Read from image file</span></a></li></ul></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">png-compressor</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
